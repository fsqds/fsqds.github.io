var e,t,n,r,s,a,i,o,l,c,d,u,m,h,f,p,g,v,x,y,b,w,j,N,k,S,_,E,D,T,M,C,O,A,P,R,I,L,F,z,U=e=>{throw TypeError(e)},q=(e,t,n)=>t.has(e)||U("Cannot "+n),B=(e,t,n)=>(q(e,t,"read from private field"),n?n.call(e):t.get(e)),Y=(e,t,n)=>t.has(e)?U("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),W=(e,t,n,r)=>(q(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),H=(e,t,n)=>(q(e,t,"access private method"),n),V=(e,t,n,r)=>({set _(r){W(e,t,r,n)},get _(){return B(e,t,r)}});import{j as $,c as G,a as K,u as Q,B as X,P as Z,V as J,b as ee,d as te,e as ne,f as re,R as se,g as ae,h as ie,i as oe,S as le,O as ce,C as de,k as ue,T as me,D as he,l as fe,m as pe,n as ge,L as ve,o as xe,p as ye,q as be,r as we,s as je,I as Ne,t as ke,v as Se,w as _e,x as Ee,y as De,z as Te,A as Me,E as Ce,F as Oe,G as Ae,H as Pe,J as Re,K as Ie,M as Le,N as Fe,Q as ze,U as Ue,W as qe,X as Be,Y as Ye,Z as We,_ as He,$ as Ve,a0 as $e}from"./react-ui-Di4LmEBY.js";import{a as Ge,r as Ke,c as Qe,R as Xe,g as Ze,b as Je,d as et}from"./react-core-BRxKgMa0.js";import{t as tt,c as nt,f as rt}from"./utils-D5NkSKB_.js";import{c as st,A as at,a as it,b as ot,d as lt,e as ct}from"./supabase-DwfVgsPN.js";import{_ as dt,a as ut,b as mt,c as ht,d as ft,e as pt,f as gt,t as vt,P as xt,g as yt,h as bt,k as wt,i as jt,j as Nt,l as kt,m as St,n as _t,o as Et,p as Dt,q as Tt,r as Mt,s as Ct,u as Ot,v as At,w as Pt,x as Rt,y as It,z as Lt,A as Ft,B as zt,R as Ut,L as qt,C as Bt,X as Yt,Y as Wt,T as Ht,D as Vt,E as $t,F as Gt,G as Kt,H as Qt,S as Xt,I as Zt,J as Jt,K as en,M as tn,N as nn}from"./charts-l1uWw2ZA.js";import{A as rn,m as sn}from"./animations-BMBnvKqr.js";import{g as an,s as on,a as ln,z as cn,u as dn}from"./forms-Bm64xVdr.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var un=Ge;z=un.createRoot,un.hydrateRoot;
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const mn=(...e)=>e.filter((e,t,n)=>Boolean(e)&&n.indexOf(e)===t).join(" ");
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var hn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Ke.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...o},l)=>Ke.createElement("svg",{ref:l,...hn,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:mn("lucide",s),...o},[...i.map(([e,t])=>Ke.createElement(e,t)),...Array.isArray(a)?a:[a]])),pn=(e,t)=>{const n=Ke.forwardRef(({className:n,...r},s)=>{return Ke.createElement(fn,{ref:s,iconNode:t,className:mn(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...r});var a});return n.displayName=`${e}`,n},gn=pn("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),vn=pn("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),xn=pn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),yn=pn("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),bn=pn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),wn=pn("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),jn=pn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Nn=pn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),kn=pn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Sn=pn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),_n=pn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),En=pn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Dn=pn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Tn=pn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Mn=pn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Cn=pn("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),On=pn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),An=pn("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),Pn=pn("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Rn=pn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),In=pn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ln=pn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Fn=pn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zn=pn("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Un=pn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),qn=pn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Bn=pn("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Yn=pn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wn=pn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Hn=pn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Vn=pn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),$n=pn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Gn=pn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Kn=pn("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Qn=pn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Xn=pn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Zn=pn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Jn=pn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),er=pn("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),tr=pn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */class nr extends Ke.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:$.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:$.jsx("div",{className:"max-w-md w-full",children:$.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[$.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:$.jsx(Xn,{className:"w-6 h-6 text-red-600"})}),$.jsx("h1",{className:"text-xl font-semibold text-center text-gray-900 mb-2",children:"Oops! Something went wrong"}),$.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry for the inconvenience. The application encountered an unexpected error."}),!1,$.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[$.jsxs("button",{onClick:()=>window.location.reload(),className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[$.jsx(qn,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),$.jsxs("button",{onClick:()=>{this.handleReset(),window.location.href="/"},className:"flex-1 flex items-center justify-center px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:[$.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Go Home"]})]})]})})}):this.props.children}}var rr={exports:{}},sr={},ar=Ke;var ir="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},or=ar.useState,lr=ar.useEffect,cr=ar.useLayoutEffect,dr=ar.useDebugValue;function ur(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}var mr="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=or({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return cr(function(){s.value=n,s.getSnapshot=t,ur(s)&&a({inst:s})},[e,n,t]),lr(function(){return ur(s)&&a({inst:s}),e(function(){ur(s)&&a({inst:s})})},[e]),dr(n),n};sr.useSyncExternalStore=void 0!==ar.useSyncExternalStore?ar.useSyncExternalStore:mr,rr.exports=sr;var hr=rr.exports;const fr=Qe.useInsertionEffect,pr=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?Ke.useLayoutEffect:Ke.useEffect,gr=fr||pr,vr=e=>{const t=Ke.useRef([e,(...e)=>t[0](...e)]).current;return gr(()=>{t[0]=e}),t[1]},xr="pushState",yr="replaceState",br=["popstate",xr,yr,"hashchange"],wr=e=>{for(const t of br)addEventListener(t,e);return()=>{for(const t of br)removeEventListener(t,e)}},jr=(e,t)=>hr.useSyncExternalStore(wr,e,t),Nr=()=>location.search,kr=()=>location.pathname,Sr=({ssrPath:e}={})=>jr(kr,e?()=>e:kr),_r=(e,{replace:t=!1,state:n=null}={})=>history[t?yr:xr](n,"",e),Er=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[Er]){for(const e of[xr,yr]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Er,{value:!0})}const Dr=(e="")=>"/"===e?"":e,Tr=(e="",t)=>((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(Mr(Dr(e)),Mr(t)),Mr=e=>{try{return decodeURI(e)}catch(t){return e}},Cr={hook:(e={})=>[Sr(e),_r],searchHook:({ssrSearch:e=""}={})=>jr(Nr,()=>e),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,a,i=[],o="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(n=s[0])?(i.push(n),o+="?"===s[1]?"(?:/(.*))?":"/(.*)"):":"===n?(r=s.indexOf("?",1),a=s.indexOf(".",1),i.push(s.substring(1,~r?r:~a?a:s.length)),o+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~r?"?":"")+"\\"+s.substring(a))):o+="/"+s;return{keys:i,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Or=Ke.createContext(Cr),Ar=()=>Ke.useContext(Or),Pr={},Rr=Ke.createContext(Pr),Ir=e=>{const[t,n]=e.hook(e);return[Tr(e.base,t),vr((t,r)=>n(((e,t)=>"~"===e[0]?e.slice(1):Dr(t)+e)(t,e.base),r))]},Lr=()=>Ir(Ar()),Fr=(e,t,n,r)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=s.exec(n)||[],[o,...l]=i;return void 0!==o?[!0,(()=>{const e=!1!==a?Object.fromEntries(a.map((e,t)=>[e,l[t]])):i.groups;let t={...l};return e&&Object.assign(t,e),t})(),...r?[o]:[]]:[!1,null]},zr=({children:e,...t})=>{var n,r;const s=Ar(),a=t.hook?Cr:s;let i=a;const[o,l]=(null==(n=t.ssrPath)?void 0:n.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=o),t.hrefs=t.hrefs??(null==(r=t.hook)?void 0:r.hrefs);let c=Ke.useRef({}),d=c.current,u=d;for(let m in a){const e="base"===m?a[m]+(t[m]||""):t[m]||a[m];d===u&&e!==u[m]&&(c.current=u={...u}),u[m]=e,e!==a[m]&&(i=u)}return Ke.createElement(Or.Provider,{value:i,children:e})},Ur=({children:e,component:t},n)=>t?Ke.createElement(t,{params:n}):"function"==typeof e?e(n):e,qr=({path:e,nest:t,match:n,...r})=>{const s=Ar(),[a]=Ir(s),[i,o,l]=n??Fr(s.parser,e,a,t),c=(e=>{let t=Ke.useRef(Pr),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return 0===Object.keys(e).length&&(n=e),t.current=n})({...Ke.useContext(Rr),...o});if(!i)return null;const d=l?Ke.createElement(zr,{base:l},Ur(r,c)):Ur(r,c);return Ke.createElement(Rr.Provider,{value:c,children:d})},Br=Ke.forwardRef((e,t)=>{const n=Ar(),[r,s]=Ir(n),{to:a="",href:i=a,onClick:o,asChild:l,children:c,className:d,replace:u,state:m,...h}=e,f=vr(t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(null==o||o(t),t.defaultPrevented||(t.preventDefault(),s(i,e)))}),p=n.hrefs("~"===i[0]?i.slice(1):n.base+i,n);return l&&Ke.isValidElement(c)?Ke.cloneElement(c,{onClick:f,href:p}):Ke.createElement("a",{...h,onClick:f,href:p,className:(null==d?void 0:d.call)?d(r===i):d,children:c,ref:t})}),Yr=e=>Array.isArray(e)?e.flatMap(e=>Yr(e&&e.type===Ke.Fragment?e.props.children:e)):[e],Wr=({children:e,location:t})=>{const n=Ar(),[r]=Ir(n);for(const s of Yr(e)){let e=0;if(Ke.isValidElement(s)&&(e=Fr(n.parser,s.props.path,t||r,s.props.nest))[0])return Ke.cloneElement(s,{match:e})}return null};var Hr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vr="undefined"==typeof window||"Deno"in globalThis;function $r(){}function Gr(e,t){return"function"==typeof e?e(t):e}function Kr(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i)if(r){if(t.queryHash!==Xr(i,t.options))return!1}else if(!Jr(t.queryKey,i))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!s||s===t.state.fetchStatus)&&!(a&&!a(t)))}function Qr(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Zr(t.options.mutationKey)!==Zr(a))return!1}else if(!Jr(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function Xr(e,t){return((null==t?void 0:t.queryKeyHashFn)||Zr)(e)}function Zr(e){return JSON.stringify(e,(e,t)=>ns(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function Jr(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some(n=>!Jr(e[n],t[n])))}function es(e,t){if(e===t)return e;const n=ts(e)&&ts(t);if(n||ns(e)&&ns(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),i=a.length,o=n?[]:{};let l=0;for(let c=0;c<i;c++){const s=n?c:a[c];(!n&&r.includes(s)||n)&&void 0===e[s]&&void 0===t[s]?(o[s]=void 0,l++):(o[s]=es(e[s],t[s]),o[s]===e[s]&&void 0!==e[s]&&l++)}return s===i&&l===s?e:o}return t}function ts(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ns(e){if(!rs(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!rs(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function rs(e){return"[object Object]"===Object.prototype.toString.call(e)}function ss(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?es(e,t):t}function as(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function is(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var os=Symbol();function ls(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==os?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var cs=new(r=class extends Hr{constructor(){super(),Y(this,e),Y(this,t),Y(this,n),W(this,n,e=>{if(!Vr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){B(this,t)||this.setEventListener(B(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=B(this,t))||e.call(this),W(this,t,void 0))}setEventListener(e){var r;W(this,n,e),null==(r=B(this,t))||r.call(this),W(this,t,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(t){B(this,e)!==t&&(W(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var t;return"boolean"==typeof B(this,e)?B(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,r),ds=new(o=class extends Hr{constructor(){super(),Y(this,s,!0),Y(this,a),Y(this,i),W(this,i,e=>{if(!Vr&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,a)||this.setEventListener(B(this,i))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=B(this,a))||e.call(this),W(this,a,void 0))}setEventListener(e){var t;W(this,i,e),null==(t=B(this,a))||t.call(this),W(this,a,e(this.setOnline.bind(this)))}setOnline(e){B(this,s)!==e&&(W(this,s,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return B(this,s)}},s=new WeakMap,a=new WeakMap,i=new WeakMap,o);function us(e){return Math.min(1e3*2**e,3e4)}function ms(e){return"online"!==(e??"online")||ds.isOnline()}var hs=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function fs(e){return e instanceof hs}function ps(e){let t,n=!1,r=0,s=!1;const a=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),i=()=>cs.isFocused()&&("always"===e.networkMode||ds.isOnline())&&e.canRun(),o=()=>ms(e.networkMode)&&e.canRun(),l=n=>{var r;s||(s=!0,null==(r=e.onSuccess)||r.call(e,n),null==t||t(),a.resolve(n))},c=n=>{var r;s||(s=!0,null==(r=e.onError)||r.call(e,n),null==t||t(),a.reject(n))},d=()=>new Promise(n=>{var r;t=e=>{(s||i())&&n(e)},null==(r=e.onPause)||r.call(e)}).then(()=>{var n;t=void 0,s||null==(n=e.onContinue)||n.call(e)}),u=()=>{if(s)return;let t;const a=0===r?e.initialPromise:void 0;try{t=a??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var a;if(s)return;const o=e.retry??(Vr?0:3),l=e.retryDelay??us,m="function"==typeof l?l(r,t):l,h=!0===o||"number"==typeof o&&r<o||"function"==typeof o&&o(r,t);var f;!n&&h?(r++,null==(a=e.onFail)||a.call(e,r,t),(f=m,new Promise(e=>{setTimeout(e,f)})).then(()=>i()?void 0:d()).then(()=>{n?c(t):u()})):c(t)})};return{promise:a,cancel:t=>{var n;s||(c(new hs(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),a),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?u():d().then(u),a)}}var gs=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=e=>setTimeout(e,0);const a=r=>{t?e.push(r):s(()=>{n(r)})};return{batch:a=>{let i;t++;try{i=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return i},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),vs=(c=class{constructor(){Y(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&W(this,l,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vr?1/0:3e5))}clearGcTimeout(){B(this,l)&&(clearTimeout(B(this,l)),W(this,l,void 0))}},l=new WeakMap,c),xs=(x=class extends vs{constructor(e){super(),Y(this,g),Y(this,d),Y(this,u),Y(this,m),Y(this,h),Y(this,f),Y(this,p),W(this,p,!1),W(this,f,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,m,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,d,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??B(this,d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=B(this,h))?void 0:e.promise}setOptions(e){this.options={...B(this,f),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||B(this,m).remove(this)}setData(e,t){const n=ss(this.state.data,e,this.options);return H(this,g,v).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){H(this,g,v).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=B(this,h))?void 0:t.promise;return null==(n=B(this,h))||n.cancel(e),r?r.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,d))}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===os||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=B(this,h))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=B(this,h))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),B(this,m).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(B(this,h)&&(B(this,p)?B(this,h).cancel({revert:!0}):B(this,h).cancelRetry()),this.scheduleGc()),B(this,m).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||H(this,g,v).call(this,{type:"invalidate"})}fetch(e,t){var n,r,s;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(B(this,h))return B(this,h).continueRetry(),B(this,h).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(W(this,p,!0),a.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=ls(this.options,t),n={queryKey:this.queryKey,meta:this.meta};return i(n),W(this,p,!1),this.options.persister?this.options.persister(e,n,this):e(n)}};i(o),null==(n=this.options.behavior)||n.onFetch(o,this),W(this,u,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=o.fetchOptions)?void 0:r.meta)||H(this,g,v).call(this,{type:"fetch",meta:null==(s=o.fetchOptions)?void 0:s.meta});const l=e=>{var t,n,r,s;fs(e)&&e.silent||H(this,g,v).call(this,{type:"error",error:e}),fs(e)||(null==(n=(t=B(this,m).config).onError)||n.call(t,e,this),null==(s=(r=B(this,m).config).onSettled)||s.call(r,this.state.data,e,this)),this.scheduleGc()};return W(this,h,ps({initialPromise:null==t?void 0:t.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:e=>{var t,n,r,s;if(void 0!==e){try{this.setData(e)}catch(a){return void l(a)}null==(n=(t=B(this,m).config).onSuccess)||n.call(t,e,this),null==(s=(r=B(this,m).config).onSettled)||s.call(r,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{H(this,g,v).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{H(this,g,v).call(this,{type:"pause"})},onContinue:()=>{H(this,g,v).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),B(this,h).start()}},d=new WeakMap,u=new WeakMap,m=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakSet,v=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ys(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return fs(n)&&n.revert&&B(this,u)?{...B(this,u),fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),gs.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),B(this,m).notify({query:this,type:"updated",action:e})})},x);function ys(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ms(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var bs=(b=class extends Hr{constructor(e={}){super(),Y(this,y),this.config=e,W(this,y,new Map)}build(e,t,n){const r=t.queryKey,s=t.queryHash??Xr(r,t);let a=this.get(s);return a||(a=new xs({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){B(this,y).has(e.queryHash)||(B(this,y).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=B(this,y).get(e.queryHash);t&&(e.destroy(),t===e&&B(this,y).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,y).get(e)}getAll(){return[...B(this,y).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Kr(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Kr(e,t)):t}notify(e){gs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){gs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},y=new WeakMap,b),ws=(_=class extends vs{constructor(e){super(),Y(this,k),Y(this,w),Y(this,j),Y(this,N),this.mutationId=e.mutationId,W(this,j,e.mutationCache),W(this,w,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,w).includes(e)||(B(this,w).push(e),this.clearGcTimeout(),B(this,j).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,w,B(this,w).filter(t=>t!==e)),this.scheduleGc(),B(this,j).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,w).length||("pending"===this.state.status?this.scheduleGc():B(this,j).remove(this))}continue(){var e;return(null==(e=B(this,N))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,s,a,i,o,l,c,d,u,m,h,f,p,g,v,x,y,b;W(this,N,ps({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{H(this,k,S).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{H(this,k,S).call(this,{type:"pause"})},onContinue:()=>{H(this,k,S).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,j).canRun(this)}));const w="pending"===this.state.status,_=!B(this,N).canStart();try{if(!w){H(this,k,S).call(this,{type:"pending",variables:e,isPaused:_}),await(null==(n=(t=B(this,j).config).onMutate)?void 0:n.call(t,e,this));const a=await(null==(s=(r=this.options).onMutate)?void 0:s.call(r,e));a!==this.state.context&&H(this,k,S).call(this,{type:"pending",context:a,variables:e,isPaused:_})}const h=await B(this,N).start();return await(null==(i=(a=B(this,j).config).onSuccess)?void 0:i.call(a,h,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,h,e,this.state.context)),await(null==(d=(c=B(this,j).config).onSettled)?void 0:d.call(c,h,null,this.state.variables,this.state.context,this)),await(null==(m=(u=this.options).onSettled)?void 0:m.call(u,h,null,e,this.state.context)),H(this,k,S).call(this,{type:"success",data:h}),h}catch(E){try{throw await(null==(f=(h=B(this,j).config).onError)?void 0:f.call(h,E,e,this.state.context,this)),await(null==(g=(p=this.options).onError)?void 0:g.call(p,E,e,this.state.context)),await(null==(x=(v=B(this,j).config).onSettled)?void 0:x.call(v,void 0,E,this.state.variables,this.state.context,this)),await(null==(b=(y=this.options).onSettled)?void 0:b.call(y,void 0,E,e,this.state.context)),E}finally{H(this,k,S).call(this,{type:"error",error:E})}}finally{B(this,j).runNext(this)}}},w=new WeakMap,j=new WeakMap,N=new WeakMap,k=new WeakSet,S=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),gs.batch(()=>{B(this,w).forEach(t=>{t.onMutationUpdate(e)}),B(this,j).notify({mutation:this,type:"updated",action:e})})},_);var js=(T=class extends Hr{constructor(e={}){super(),Y(this,E),Y(this,D),this.config=e,W(this,E,new Map),W(this,D,Date.now())}build(e,t,n){const r=new ws({mutationCache:this,mutationId:++V(this,D)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=Ns(e),n=B(this,E).get(t)??[];n.push(e),B(this,E).set(t,n),this.notify({type:"added",mutation:e})}remove(e){var t;const n=Ns(e);if(B(this,E).has(n)){const r=null==(t=B(this,E).get(n))?void 0:t.filter(t=>t!==e);r&&(0===r.length?B(this,E).delete(n):B(this,E).set(n,r))}this.notify({type:"removed",mutation:e})}canRun(e){var t;const n=null==(t=B(this,E).get(Ns(e)))?void 0:t.find(e=>"pending"===e.state.status);return!n||n===e}runNext(e){var t;const n=null==(t=B(this,E).get(Ns(e)))?void 0:t.find(t=>t!==e&&t.state.isPaused);return(null==n?void 0:n.continue())??Promise.resolve()}clear(){gs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,E).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Qr(t,e))}findAll(e={}){return this.getAll().filter(t=>Qr(e,t))}notify(e){gs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return gs.batch(()=>Promise.all(e.map(e=>e.continue().catch($r))))}},E=new WeakMap,D=new WeakMap,T);function Ns(e){var t;return(null==(t=e.options.scope)?void 0:t.id)??String(e.mutationId)}function ks(e){return{onFetch:(t,n)=>{var r,s,a,i,o;const l=t.options,c=null==(a=null==(s=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:s.fetchMore)?void 0:a.direction,d=(null==(i=t.state.data)?void 0:i.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let m={pages:[],pageParams:[]},h=0;const f=async()=>{let n=!1;const r=ls(t.options,t.fetchOptions),s=async(e,s,a)=>{if(n)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const i={queryKey:t.queryKey,pageParam:s,direction:a?"backward":"forward",meta:t.options.meta};var o;o=i,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)});const l=await r(i),{maxPages:c}=t.options,d=a?is:as;return{pages:d(e.pages,l,c),pageParams:d(e.pageParams,s,c)}};if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},n=(e?_s:Ss)(l,t);m=await s(t,n,e)}else{const t=e??d.length;do{const e=0===h?u[0]??l.initialPageParam:Ss(l,m);if(h>0&&null==e)break;m=await s(m,e),h++}while(h<t)}return m};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function Ss(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function _s(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var Es=(F=class{constructor(e={}){Y(this,M),Y(this,C),Y(this,O),Y(this,A),Y(this,P),Y(this,R),Y(this,I),Y(this,L),W(this,M,e.queryCache||new bs),W(this,C,e.mutationCache||new js),W(this,O,e.defaultOptions||{}),W(this,A,new Map),W(this,P,new Map),W(this,R,0)}mount(){V(this,R)._++,1===B(this,R)&&(W(this,I,cs.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,M).onFocus())})),W(this,L,ds.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,M).onOnline())})))}unmount(){var e,t;V(this,R)._--,0===B(this,R)&&(null==(e=B(this,I))||e.call(this),W(this,I,void 0),null==(t=B(this,L))||t.call(this),W(this,L,void 0))}isFetching(e){return B(this,M).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,C).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=B(this,M).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=B(this,M).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Gr(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return B(this,M).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,M).get(r.queryHash),a=function(e,t){return"function"==typeof e?e(t):e}(t,null==s?void 0:s.state.data);if(void 0!==a)return B(this,M).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return gs.batch(()=>B(this,M).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=B(this,M).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=B(this,M);gs.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=B(this,M),r={type:"active",...e};return gs.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=gs.batch(()=>B(this,M).findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then($r).catch($r)}invalidateQueries(e={},t={}){return gs.batch(()=>{if(B(this,M).findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(null==t?void 0:t.cancelRefetch)??!0},r=gs.batch(()=>B(this,M).findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch($r)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then($r)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=B(this,M).build(this,t);return n.isStaleByTime(Gr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($r).catch($r)}fetchInfiniteQuery(e){return e.behavior=ks(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($r).catch($r)}ensureInfiniteQueryData(e){return e.behavior=ks(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ds.isOnline()?B(this,C).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,M)}getMutationCache(){return B(this,C)}getDefaultOptions(){return B(this,O)}setDefaultOptions(e){W(this,O,e)}setQueryDefaults(e,t){B(this,A).set(Zr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,A).values()];let n={};return t.forEach(t=>{Jr(e,t.queryKey)&&(n={...n,...t.defaultOptions})}),n}setMutationDefaults(e,t){B(this,P).set(Zr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,P).values()];let n={};return t.forEach(t=>{Jr(e,t.mutationKey)&&(n={...n,...t.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,O).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xr(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===os&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...B(this,O).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,M).clear(),B(this,C).clear()}},M=new WeakMap,C=new WeakMap,O=new WeakMap,A=new WeakMap,P=new WeakMap,R=new WeakMap,I=new WeakMap,L=new WeakMap,F),Ds=Ke.createContext(void 0),Ts=({client:e,children:t})=>(Ke.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),$.jsx(Ds.Provider,{value:e,children:t}));const Ms=new Es({defaultOptions:{queries:{queryFn:(({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return"returnNull"===e&&401===n.status?null:(await async function(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}(n),await n.json())})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});let Cs=0;const Os=new Map,As=e=>{if(Os.has(e))return;const t=setTimeout(()=>{Os.delete(e),Ls({type:"REMOVE_TOAST",toastId:e})},1e6);Os.set(e,t)},Ps=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?As(n):e.toasts.forEach(e=>{As(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},Rs=[];let Is={toasts:[]};function Ls(e){Is=Ps(Is,e),Rs.forEach(e=>{e(Is)})}function Fs({...e}){const t=(Cs=(Cs+1)%Number.MAX_SAFE_INTEGER,Cs.toString()),n=()=>Ls({type:"DISMISS_TOAST",toastId:t});return Ls({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Ls({type:"UPDATE_TOAST",toast:{...e,id:t}})}}var zs="ToastProvider",[Us,qs,Bs]=G("Toast"),[Ys,Ws]=K("Toast",[Bs]),[Hs,Vs]=Ys(zs),$s=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[o,l]=Ke.useState(null),[c,d]=Ke.useState(0),u=Ke.useRef(!1),m=Ke.useRef(!1);return n.trim(),$.jsx(Us.Provider,{scope:t,children:$.jsx(Hs,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:Ke.useCallback(()=>d(e=>e+1),[]),onToastRemove:Ke.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:i})})};$s.displayName=zs;var Gs="ToastViewport",Ks=["F8"],Qs="toast.viewportPause",Xs="toast.viewportResume",Zs=Ke.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Ks,label:s="Notifications ({hotkey})",...a}=e,i=Vs(Gs,n),o=qs(n),l=Ke.useRef(null),c=Ke.useRef(null),d=Ke.useRef(null),u=Ke.useRef(null),m=Q(t,u,i.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=i.toastCount>0;Ke.useEffect(()=>{const e=e=>{var t;0!==r.length&&r.every(t=>e[t]||e.code===t)&&(null==(t=u.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),Ke.useEffect(()=>{const e=l.current,t=u.current;if(f&&e&&t){const n=()=>{if(!i.isClosePausedRef.current){const e=new CustomEvent(Qs);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},r=()=>{if(i.isClosePausedRef.current){const e=new CustomEvent(Xs);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},s=t=>{!e.contains(t.relatedTarget)&&r()},a=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",s),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",a),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",s),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",a),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}},[f,i.isClosePausedRef]);const p=Ke.useCallback(({tabbingDirection:e})=>{const t=o().map(t=>{const n=t.ref.current,r=[n,...ga(n)];return"forwards"===e?r:r.reverse()});return("forwards"===e?t.reverse():t).flat()},[o]);return Ke.useEffect(()=>{const e=u.current;if(e){const t=t=>{var n,r,s;const a=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!a){const a=document.activeElement,i=t.shiftKey;if(t.target===e&&i)return void(null==(n=c.current)||n.focus());const o=p({tabbingDirection:i?"backwards":"forwards"}),l=o.findIndex(e=>e===a);va(o.slice(l+1))?t.preventDefault():i?null==(r=c.current)||r.focus():null==(s=d.current)||s.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[o,p]),$.jsxs(X,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&$.jsx(ea,{ref:c,onFocusFromOutsideViewport:()=>{va(p({tabbingDirection:"forwards"}))}}),$.jsx(Us.Slot,{scope:n,children:$.jsx(Z.ol,{tabIndex:-1,...a,ref:m})}),f&&$.jsx(ea,{ref:d,onFocusFromOutsideViewport:()=>{va(p({tabbingDirection:"backwards"}))}})]})});Zs.displayName=Gs;var Js="ToastFocusProxy",ea=Ke.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Vs(Js,n);return $.jsx(J,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null==(t=a.viewport)?void 0:t.contains(n))&&r()}})});ea.displayName=Js;var ta="Toast",na=Ke.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...i}=e,[o=!0,l]=ee({prop:r,defaultProp:s,onChange:a});return $.jsx(te,{present:n||o,children:$.jsx(aa,{open:o,...i,ref:t,onClose:()=>l(!1),onPause:ne(e.onPause),onResume:ne(e.onResume),onSwipeStart:re(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)}),onSwipeCancel:re(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),l(!1)})})})});na.displayName=ta;var[ra,sa]=Ys(ta,{onClose(){}}),aa=Ke.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:h,...f}=e,p=Vs(ta,n),[g,v]=Ke.useState(null),x=Q(t,e=>v(e)),y=Ke.useRef(null),b=Ke.useRef(null),w=s||p.duration,j=Ke.useRef(0),N=Ke.useRef(w),k=Ke.useRef(0),{onToastAdd:S,onToastRemove:_}=p,E=ne(()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=p.viewport)||e.focus()),i()}),D=Ke.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(k.current),j.current=(new Date).getTime(),k.current=window.setTimeout(E,e))},[E]);Ke.useEffect(()=>{const e=p.viewport;if(e){const t=()=>{D(N.current),null==c||c()},n=()=>{const e=(new Date).getTime()-j.current;N.current=N.current-e,window.clearTimeout(k.current),null==l||l()};return e.addEventListener(Qs,n),e.addEventListener(Xs,t),()=>{e.removeEventListener(Qs,n),e.removeEventListener(Xs,t)}}},[p.viewport,w,l,c,D]),Ke.useEffect(()=>{a&&!p.isClosePausedRef.current&&D(w)},[a,w,p.isClosePausedRef,D]),Ke.useEffect(()=>(S(),()=>_()),[S,_]);const T=Ke.useMemo(()=>g?ha(g):null,[g]);return p.viewport?$.jsxs($.Fragment,{children:[T&&$.jsx(ia,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:T}),$.jsx(ra,{scope:n,onClose:E,children:Ge.createPortal($.jsx(Us.ItemSlot,{scope:n,children:$.jsx(se,{asChild:!0,onEscapeKeyDown:re(o,()=>{p.isFocusedToastEscapeKeyDownRef.current||E(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:$.jsx(Z.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...f,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,e=>{"Escape"===e.key&&(null==o||o(e.nativeEvent),e.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:re(e.onPointerDown,e=>{0===e.button&&(y.current={x:e.clientX,y:e.clientY})}),onPointerMove:re(e.onPointerMove,e=>{if(!y.current)return;const t=e.clientX-y.current.x,n=e.clientY-y.current.y,r=Boolean(b.current),s=["left","right"].includes(p.swipeDirection),a=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,i=s?a(0,t):0,o=s?0:a(0,n),l="touch"===e.pointerType?10:2,c={x:i,y:o},m={originalEvent:e,delta:c};r?(b.current=c,fa("toast.swipeMove",u,m,{discrete:!1})):pa(c,p.swipeDirection,l)?(b.current=c,fa("toast.swipeStart",d,m,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(y.current=null)}),onPointerUp:re(e.onPointerUp,e=>{const t=b.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),b.current=null,y.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};pa(t,p.swipeDirection,p.swipeThreshold)?fa("toast.swipeEnd",h,r,{discrete:!0}):fa("toast.swipeCancel",m,r,{discrete:!0}),n.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),ia=e=>{const{__scopeToast:t,children:n,...r}=e,s=Vs(ta,t),[a,i]=Ke.useState(!1),[o,l]=Ke.useState(!1);return function(e=()=>{}){const t=ne(e);ie(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[t])}(()=>i(!0)),Ke.useEffect(()=>{const e=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(e)},[]),o?null:$.jsx(ae,{asChild:!0,children:$.jsx(J,{...r,children:a&&$.jsxs($.Fragment,{children:[s.label," ",n]})})})},oa=Ke.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return $.jsx(Z.div,{...r,ref:t})});oa.displayName="ToastTitle";var la=Ke.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return $.jsx(Z.div,{...r,ref:t})});la.displayName="ToastDescription";var ca=Ke.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?$.jsx(ma,{altText:n,asChild:!0,children:$.jsx(ua,{...r,ref:t})}):null});ca.displayName="ToastAction";var da="ToastClose",ua=Ke.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=sa(da,n);return $.jsx(ma,{asChild:!0,children:$.jsx(Z.button,{type:"button",...r,ref:t,onClick:re(e.onClick,s.onClose)})})});ua.displayName=da;var ma=Ke.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return $.jsx(Z.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function ha(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...ha(e))}}),t}function fa(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?oe(s,a):s.dispatchEvent(a)}var pa=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return"left"===t||"right"===t?a&&r>n:!a&&s>n};function ga(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function va(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var xa=Zs,ya=na,ba=oa,wa=la,ja=ca,Na=ua;function ka(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ka(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Sa=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,_a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ka(e))&&(r&&(r+=" "),r+=t);return r},Ea=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return _a(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(e=>{const t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;const i=Sa(t)||Sa(r);return s[e][i]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...o}[t]):{...a,...o}[t]===n})?[...e,n,r]:e},[]);return _a(e,i,l,null==n?void 0:n.class,null==n?void 0:n.className)};function Da(...e){return tt(nt(e))}const Ta=$s,Ma=Ke.forwardRef(({className:e,...t},n)=>$.jsx(xa,{ref:n,className:Da("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ma.displayName=xa.displayName;const Ca=Ea("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Oa=Ke.forwardRef(({className:e,variant:t,...n},r)=>$.jsx(ya,{ref:r,className:Da(Ca({variant:t}),e),...n}));Oa.displayName=ya.displayName;Ke.forwardRef(({className:e,...t},n)=>$.jsx(ja,{ref:n,className:Da("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=ja.displayName;const Aa=Ke.forwardRef(({className:e,...t},n)=>$.jsx(Na,{ref:n,className:Da("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:$.jsx(tr,{className:"h-4 w-4"})}));Aa.displayName=Na.displayName;const Pa=Ke.forwardRef(({className:e,...t},n)=>$.jsx(ba,{ref:n,className:Da("text-sm font-semibold",e),...t}));Pa.displayName=ba.displayName;const Ra=Ke.forwardRef(({className:e,...t},n)=>$.jsx(wa,{ref:n,className:Da("text-sm opacity-90",e),...t}));function Ia(){const{toasts:e}=function(){const[e,t]=Ke.useState(Is);return Ke.useEffect(()=>(Rs.push(t),()=>{const e=Rs.indexOf(t);e>-1&&Rs.splice(e,1)}),[e]),{...e,toast:Fs,dismiss:e=>Ls({type:"DISMISS_TOAST",toastId:e})}}();return $.jsxs(Ta,{children:[e.map(function({id:e,title:t,description:n,action:r,...s}){return $.jsxs(Oa,{...s,children:[$.jsxs("div",{className:"grid gap-1",children:[t&&$.jsx(Pa,{children:t}),n&&$.jsx(Ra,{children:n})]}),r,$.jsx(Aa,{})]},e)}),$.jsx(Ma,{})]})}function La(){const[e,t]=Ke.useState(navigator.onLine);return Ke.useEffect(()=>{const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",n),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}},[]),e?null:$.jsx("div",{className:"fixed bottom-0 inset-x-0 z-[1000]",children:$.jsx("div",{className:"mx-auto max-w-3xl mb-4",children:$.jsx("div",{className:"mx-4 rounded-md bg-amber-50 border border-amber-200 p-3 text-amber-800 text-sm shadow-sm",children:"You are offline. Some features may not work until connection is restored."})})})}Ra.displayName=wa.displayName,Array(12).fill(0);let Fa=1;const za=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Fa++,a=this.toasts.find(e=>e.id===s),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:n}),{...t,...e,id:s,dismissible:i,title:n}):t):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s,a=void 0!==n;const i=r.then(async e=>{s=["resolve",e];if(Xe.isValidElement(e))a=!1,this.create({id:n,type:"default",message:e});else if(Ua(e)&&!e.ok){a=!1;const r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"==typeof r&&!Xe.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...i})}else if(e instanceof Error){a=!1;const r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!Xe.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...i})}else if(void 0!==t.success){a=!1;const r="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!Xe.isValidElement(r)?r:{message:r};this.create({id:n,type:"success",description:s,...i})}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){a=!1;const r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof r&&!Xe.isValidElement(r)?r:{message:r};this.create({id:n,type:"error",description:s,...i})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||Fa++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ua=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,qa=(e,t)=>{const n=(null==t?void 0:t.id)||Fa++;return za.addToast({title:e,...t,id:n}),n},Ba=Object.assign(qa,{success:za.success,info:za.info,warning:za.warning,error:za.error,custom:za.custom,message:za.message,promise:za.promise,dismiss:za.dismiss,loading:za.loading},{getHistory:()=>za.toasts,getToasts:()=>za.getActiveToasts()});function Ya(){return Ke.useEffect(()=>{const e=e=>{Ba.error("An unexpected error occurred")},t=e=>{};return window.addEventListener("unhandledrejection",e),window.addEventListener("error",t),()=>{window.removeEventListener("unhandledrejection",e),window.removeEventListener("error",t)}},[]),null}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Wa={common:{home:"Home",about:"About",contact:"Contact",login:"Login",logout:"Logout",signup:"Sign Up",submit:"Submit",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",loading:"Loading...",error:"An error occurred",success:"Success",welcome:"Welcome",language:"Language",close:"Close"},navigation:{home:"Home",members:"Orga Team",projects:"Projects",events:"Events",leaderboard:"Leaderboard",battleground:"Battleground",contact:"Contact"},sidebar:{loggedInAs:"Signed in as"},auth:{signIn:"Sign In",signUp:"Create Account",resetPassword:"Reset Password",resetPasswordInstructions:"Enter your email to receive a password reset link",email:"Email",password:"Password",loginCta:"Join the FS Quant & Data Science community",needAccount:"Need an account?",alreadyRegistered:"Already registered?",forgotPassword:"Forgot your password?",sendResetEmail:"Send Reset Email",backToSignIn:"Back to Sign In",registrationSuccessTitle:"Registration Successful!",registrationSuccessBody:"We've sent you an email with instructions to set up your password. Please check your inbox and follow the link to complete your registration.",goToSignIn:"Go to Sign In",completeVerification:"Please complete the verification",captchaFailed:"Verification failed. Please try again.",invalidCredentials:"Invalid email or password",emailNotConfirmed:"Please verify your email before signing in",resetEmailSent:"Password reset email sent! Check your inbox.",resetEmailFailed:"Failed to send reset email",unexpectedError:"An error occurred",logoutSuccess:"You have been logged out",adminRegistrationDisabled:"Admin accounts cannot be created via the website. Please contact an administrator.",invalidDomain:"Only Frankfurt School email addresses (@fs-students.de or @fs.de) are allowed",userExists:"An account with this email already exists. Please sign in.",registrationFailed:"Registration failed. Please try again.",welcomeBack:"Welcome back!",loading:"Loading...",setupNote:"After registration, you'll receive an email to set up your password.",rateLimited:"Too many attempts. Please wait a moment and try again.",networkError:"Network error. Please check your connection and try again.",sessionExpired:"Your session has expired. Please sign in again.",weakPassword:"Password is too weak. Please choose a stronger one."},leaderboard:{title:"Leaderboard",hti:"Hack the Interview",adx:"Axe the DAX",tabHti:"HTI",tabAdx:"ADX",signIn:"Sign In",signUp:"Sign Up",email:"Email",password:"Password",loginCta:"Join the FS Quant & Data Science community",needAccount:"Need an account?",alreadyRegistered:"Already registered?",emailVerificationSent:"Verification email sent! Check your inbox.",invalidCredentials:"Invalid email or password",locked:"Sign in to participate",leaderboard:"Leaderboard",rank:"Rank",player:"Player",score:"Score",points:"points",questionNumber:"Q",countdown:"Unlocks in",correctAnswer:"Correct! Well done!",wrongAnswer:"Incorrect. Try again next time!",alreadyAnswered:"You've already answered this question",questionLocked:"This question is not available yet",portfolio:"Portfolio",myEquity:"Equity",positions:"Positions",orderSuccess:"Order placed successfully!",orderFailed:"Failed to place order",disclaimer:"This is a simulated trading environment for educational purposes only.",optionsNote:"Options data is generated for demonstration. Real trading involves significant risk.",lastUpdated:"Last updated",seasonInfo:"Season Information"},admin:{title:"Admin Panel",questions:"Questions",tickers:"Tickers",revenue:"Revenue Windows",badges:"Badges",seasons:"Seasons",createQuestion:"Create Question",editQuestion:"Edit Question",questionText:"Question Text",questionType:"Question Type",releaseTime:"Release Time",closeTime:"Close Time",isActive:"Active",addTicker:"Add Ticker",symbol:"Symbol",companyName:"Company Name",band:"Band",top5:"Top 5",bottom5:"Bottom 5"},events:{title:"Events",calendar:"Event Calendar",upcoming:"Upcoming Events",past:"Past Events",pastCollaborations:"Past Successful Collaborations",pastCollaborationsDescription:"We've partnered with leading companies to provide real-world projects, mentorship, and career opportunities for our members.",newEventsComingSoon:"* New events will be announced soon",register:"Register",addToCalendar:"Add to Calendar",location:"Location",date:"Date",time:"Time",organizer:"Organizer",capacity:"Capacity",noEvents:"No upcoming events at the moment"},members:{title:"Orga Team",subtitle:"Meet the team behind FS Quant & Data Science",position:"Position",department:"Department",expertise:"Expertise",email:"Email",linkedin:"LinkedIn"},projects:{title:"Projects",current:"Current Projects",completed:"Completed Projects",viewDetails:"View Details",technologies:"Technologies",team:"Team",duration:"Duration",status:"Status"},footer:{about:"About Us",quickLinks:"Quick Links",connect:"Connect",copyright:" 2025 FS Quant & Data Science. All rights reserved.",privacy:"Privacy Policy",terms:"Terms of Service"},home:{heroSubtitle:"Welcome!",heroDescription:"Join us in exploring the intersection of quantitative finance, data science, and cutting-edge technology.",cta:{applyNow:"Apply Now",learnMore:"Learn More"},lab:{title:"Our Applied Quant Lab",description:"With a clearer structure and a name that reflects our direction, the club is becoming a flagship quant talent pool for Frankfurt School. Industry partners provide datasets, mentors, and hiring opportunities."},features:{projectSprint:{title:"Semester-Long Project Sprint",description:"Small student groups tackle real-world data or quant problems with a fixed timeline that mirrors industry agile cycles."},biweeklyMeetings:{title:"Bi-Weekly Online Meetings",description:"Regular initiative-wide meetings on Teams for collaboration, resource sharing, and community building through dedicated channels."},demoDay:{title:"Demo Day Finale",description:"Teams pitch to an industry jury. Top project wins a trophy, gift card, coffee chats with jurors, and referrals for internships/jobs."}},metrics:{activeMembers:"Active Members",projectsCompleted:"Projects Completed",eventsHosted:"Events Hosted",industryPartners:"Industry Partners"}},contact:{title:"Get in Touch",subtitle:"Have questions or want to join our initiative? We'd love to hear from you!",joinTitle:"Join Our Initiative",joinDescription:"Be part of Frankfurt School's premier quant and data science community",form:{name:"Name",email:"Email",message:"Message",submit:"Submit"},success:"Thanks for reaching out  we will get back to you soon!"},projectsTitle:"Projects",projectsSubtitle:"Explore our portfolio of data science and quantitative finance projects",eventsTitle:"Events",eventsSubtitle:"Stay tuned for upcoming workshops, competitions, and networking events with our industry partners.",noUpcomingEvents:"No upcoming events at the moment. Check back soon!",battleground:{trading:"Trading",predictions:"Predictions",portfolio:"Portfolio"}},Ha={common:{home:"Startseite",about:"ber uns",contact:"Kontakt",login:"Anmelden",logout:"Abmelden",signup:"Registrieren",submit:"Absenden",cancel:"Abbrechen",save:"Speichern",delete:"Lschen",edit:"Bearbeiten",loading:"Ldt...",error:"Ein Fehler ist aufgetreten",success:"Erfolgreich",welcome:"Willkommen",language:"Sprache",close:"Schlieen"},navigation:{home:"Startseite",members:"Orga Team",projects:"Projekte",events:"Veranstaltungen",leaderboard:"Bestenliste",battleground:"Battleground",contact:"Kontakt"},sidebar:{loggedInAs:"Angemeldet als"},auth:{signIn:"Anmelden",signUp:"Registrieren",resetPassword:"Passwort zurcksetzen",resetPasswordInstructions:"Gib deine E-Mail-Adresse ein, um einen Link zum Zurcksetzen des Passworts zu erhalten",email:"E-Mail",password:"Passwort",loginCta:"Tritt der FS Quant & Data Science Community bei",needAccount:"Noch kein Konto?",alreadyRegistered:"Bereits registriert?",forgotPassword:"Passwort vergessen?",sendResetEmail:"E-Mail zum Zurcksetzen senden",backToSignIn:"Zurck zur Anmeldung",registrationSuccessTitle:"Registrierung erfolgreich!",registrationSuccessBody:"Wir haben dir eine E-Mail mit Anweisungen zur Einrichtung deines Passworts gesendet. Bitte prfe deinen Posteingang und folge dem Link, um die Registrierung abzuschlieen.",goToSignIn:"Zur Anmeldung",completeVerification:"Bitte Verifizierung abschlieen",captchaFailed:"Verifizierung fehlgeschlagen. Bitte erneut versuchen.",invalidCredentials:"Ungltige E-Mail oder Passwort",emailNotConfirmed:"Bitte besttige deine E-Mail, bevor du dich anmeldest",resetEmailSent:"E-Mail zum Zurcksetzen des Passworts gesendet! Bitte Posteingang prfen.",resetEmailFailed:"Senden der E-Mail zum Zurcksetzen fehlgeschlagen",unexpectedError:"Ein Fehler ist aufgetreten",logoutSuccess:"Du wurdest abgemeldet",adminRegistrationDisabled:"Admin-Konten knnen nicht ber die Website erstellt werden. Bitte kontaktiere einen Administrator.",invalidDomain:"Nur Frankfurt School E-Mail-Adressen (@fs-students.de oder @fs.de) sind erlaubt",userExists:"Ein Konto mit dieser E-Mail existiert bereits. Bitte melde dich an.",registrationFailed:"Registrierung fehlgeschlagen. Bitte versuche es erneut.",welcomeBack:"Willkommen zurck!",loading:"Ldt...",setupNote:"Nach der Registrierung erhltst du eine E-Mail zur Einrichtung deines Passworts.",rateLimited:"Zu viele Versuche. Bitte warte einen Moment und versuche es erneut.",networkError:"Netzwerkfehler. Bitte berprfe deine Verbindung und versuche es erneut.",sessionExpired:"Deine Sitzung ist abgelaufen. Bitte melde dich erneut an.",weakPassword:"Passwort ist zu schwach. Bitte whle ein strkeres Passwort."},leaderboard:{title:"Bestenliste",hti:"Hack the Interview",adx:"Axe the DAX",tabHti:"HTI",tabAdx:"ADX",signIn:"Anmelden",signUp:"Registrieren",email:"E-Mail",password:"Passwort",loginCta:"Tritt der FS Quant & Data Science Community bei",needAccount:"Noch kein Konto?",alreadyRegistered:"Bereits registriert?",emailVerificationSent:"Besttigungs-E-Mail gesendet! Prfe deinen Posteingang.",invalidCredentials:"Ungltige E-Mail oder Passwort",locked:"Zum Teilnehmen anmelden",leaderboard:"Bestenliste",rank:"Rang",player:"Spieler",score:"Punkte",points:"Punkte",questionNumber:"F",countdown:"Verfgbar in",correctAnswer:"Richtig! Gut gemacht!",wrongAnswer:"Falsch. Versuche es nchstes Mal wieder!",alreadyAnswered:"Du hast diese Frage bereits beantwortet",questionLocked:"Diese Frage ist noch nicht verfgbar",portfolio:"Portfolio",myEquity:"Kapital",positions:"Positionen",orderSuccess:"Order erfolgreich platziert!",orderFailed:"Order konnte nicht platziert werden",disclaimer:"Dies ist eine simulierte Handelsumgebung nur fr Bildungszwecke.",optionsNote:"Optionsdaten werden zu Demonstrationszwecken generiert. Echter Handel birgt erhebliche Risiken.",lastUpdated:"Zuletzt aktualisiert",seasonInfo:"Saison-Information"},admin:{title:"Admin-Bereich",questions:"Fragen",tickers:"Ticker",revenue:"Umsatzfenster",badges:"Abzeichen",seasons:"Saisons",createQuestion:"Frage erstellen",editQuestion:"Frage bearbeiten",questionText:"Fragetext",questionType:"Fragetyp",releaseTime:"Freigabezeit",closeTime:"Schliezeit",isActive:"Aktiv",addTicker:"Ticker hinzufgen",symbol:"Symbol",companyName:"Firmenname",band:"Band",top5:"Top 5",bottom5:"Bottom 5"},events:{title:"Veranstaltungen",calendar:"Veranstaltungskalender",upcoming:"Kommende Veranstaltungen",past:"Vergangene Veranstaltungen",pastCollaborations:"Vergangene erfolgreiche Kooperationen",pastCollaborationsDescription:"Wir haben mit fhrenden Unternehmen zusammengearbeitet, um unseren Mitgliedern reale Projekte, Mentoring und Karrieremglichkeiten zu bieten.",newEventsComingSoon:"* Neue Veranstaltungen werden bald bekannt gegeben",register:"Anmelden",addToCalendar:"Zum Kalender hinzufgen",location:"Ort",date:"Datum",time:"Zeit",organizer:"Veranstalter",capacity:"Kapazitt",noEvents:"Derzeit keine bevorstehenden Veranstaltungen"},members:{title:"Orga Team",subtitle:"Lerne das Team hinter FS Quant & Data Science kennen",position:"Position",department:"Abteilung",expertise:"Expertise",email:"E-Mail",linkedin:"LinkedIn"},projects:{title:"Projekte",current:"Aktuelle Projekte",completed:"Abgeschlossene Projekte",viewDetails:"Details anzeigen",technologies:"Technologien",team:"Team",duration:"Dauer",status:"Status"},footer:{about:"ber uns",quickLinks:"Schnelllinks",connect:"Verbinden",copyright:" 2025 FS Quant & Data Science. Alle Rechte vorbehalten.",privacy:"Datenschutz",terms:"Nutzungsbedingungen"},home:{heroSubtitle:"Willkommen!",heroDescription:"Entdecke mit uns die Schnittstelle zwischen Quantitative Finance, Data Science und modernster Technologie.",cta:{applyNow:"Jetzt bewerben",learnMore:"Mehr erfahren"},lab:{title:"Unser Applied Quant Lab",description:"Mit einer klareren Struktur und einem Namen, der unsere Richtung widerspiegelt, wird der Club zu einem fhrenden Quant-Talent-Pool der Frankfurt School. Industriepartner stellen Datenstze, Mentoren und Einstellungsmglichkeiten zur Verfgung."},features:{projectSprint:{title:"Semesterlanger Projektsprint",description:"Kleine Studierendenteams bearbeiten reale Daten- oder Quant-Probleme mit einem festen Zeitplan, der agilen Zyklen in der Industrie entspricht."},biweeklyMeetings:{title:"Zweiwchentliche Online-Meetings",description:"Regelmige initiativweite Meetings auf Teams fr Zusammenarbeit, Ressourcenaustausch und Community-Aufbau in dedizierten Kanlen."},demoDay:{title:"Demo Day Finale",description:"Teams pitchen vor einer Industrie-Jury. Das Top-Projekt gewinnt eine Trophe, einen Gutschein, Coffee Chats mit Juroren und Empfehlungen fr Praktika/Jobs."}},metrics:{activeMembers:"Aktive Mitglieder",projectsCompleted:"Abgeschlossene Projekte",eventsHosted:"Veranstaltungen",industryPartners:"Industriepartner"}},contact:{title:"Kontakt aufnehmen",subtitle:"Hast du Fragen oder mchtest unserer Initiative beitreten? Wir freuen uns von dir zu hren!",joinTitle:"Unserer Initiative beitreten",joinDescription:"Werde Teil der fhrenden Quant- und Data-Science-Community der Frankfurt School",form:{name:"Name",email:"E-Mail",message:"Nachricht",submit:"Absenden"},success:"Danke fr deine Nachricht  wir melden uns bald bei dir!"},projectsTitle:"Projekte",projectsSubtitle:"Entdecke unser Portfolio an Data Science und Quantitative Finance Projekten",eventsTitle:"Veranstaltungen",eventsSubtitle:"Bleibe auf dem Laufenden ber kommende Workshops, Wettbewerbe und Networking-Events mit unseren Industriepartnern.",noUpcomingEvents:"Momentan keine bevorstehenden Veranstaltungen. Schau bald wieder vorbei!",battleground:{trading:"Handel",predictions:"Prognosen",portfolio:"Portfolio"}},Va="https://mskpxebbscvisxcceiwx.supabase.co",$a=Va,Ga=st(Va,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1za3B4ZWJic2N2aXN4Y2NlaXd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NTM4NTksImV4cCI6MjA3MDQyOTg1OX0.QiAMNLTK6UPpsPm3Ic08I6UMuPMcuWiT6BO1lzQIqeo",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{Accept:"application/json","Content-Type":"application/json"}},db:{schema:"public"}}),Ka={en:Wa,de:Ha},Qa=Ke.createContext(void 0);function Xa({children:e}){const[t,n]=Ke.useState("en");Ke.useEffect(()=>{const e=localStorage.getItem("lang");if(!e||"en"!==e&&"de"!==e){const e=navigator.language.startsWith("de")?"de":"en";n(e),localStorage.setItem("lang",e)}else n(e)},[]);return $.jsx(Qa.Provider,{value:{language:t,setLanguage:async e=>{n(e),localStorage.setItem("lang",e);const{data:{user:t}}=await Ga.auth.getUser();t&&await Ga.from("user_profiles").update({language:e}).eq("user_id",t.id)},t:(e,n)=>{try{let r;if(e.includes(".")){const n=e.split(".");r=Ka[t];for(const t of n){if(!r||"object"!=typeof r||!(t in r)){r=Ka.en;for(const t of n){if(!r||"object"!=typeof r||!(t in r))return e;r=r[t]}break}r=r[t]}}else r=Ka[t][e]||Ka.en[e];if("string"!=typeof r)return e;if(n&&r){let e=r;return Object.entries(n).forEach(([t,n])=>{e=e.replace(new RegExp(`\\{${t}\\}`,"g"),String(n))}),e}return r||e}catch(r){return e}}},children:e})}function Za(){const e=Ke.useContext(Qa);if(!e)throw new Error("useI18n must be used within an I18nProvider");return e}const Ja=Ke.createContext(void 0);function ei({children:e}){const[t,n]=Ke.useState(null),[r,s]=Ke.useState(null),[a,i]=Ke.useState(!1),[o,l]=Ke.useState(!0),c=Ke.useRef(!1),d=async e=>{try{const{data:t}=await Ga.from("user_profiles").select("is_admin").eq("user_id",e).single();return i((null==t?void 0:t.is_admin)||!1),(null==t?void 0:t.is_admin)||!1}catch(t){return i(!1),!1}},u=async()=>{try{const{data:{session:e},error:t}=await Ga.auth.refreshSession();if(t)throw t;e&&(s(e),n(e.user),await d(e.user.id),localStorage.setItem("supabase.auth.token",JSON.stringify({currentSession:e,expiresAt:e.expires_at})))}catch(e){}};Ke.useEffect(()=>{let e=!0,t=!1;let a;(async()=>{if(!t){t=!0;try{const{data:{session:t}}=await Ga.auth.getSession();t&&e?(s(t),n(t.user),await d(t.user.id)):e&&(s(null),n(null),i(!1),localStorage.removeItem("supabase.auth.token"))}catch(r){e&&(s(null),n(null),i(!1))}finally{e&&l(!1)}}})();const{data:o}=Ga.auth.onAuthStateChange(async(t,o)=>{e&&(clearTimeout(a),a=setTimeout(async()=>{e&&(o?(null==r?void 0:r.access_token)!==o.access_token&&(s(o),n(o.user),await d(o.user.id)):"SIGNED_OUT"===t&&(s(null),n(null),i(!1),localStorage.removeItem("supabase.auth.token"),c.current?(Ba.success("You have been logged out"),c.current=!1):Ba.error("Your session has expired. Please sign in again.")))},100))}),m=setInterval(()=>{if(r&&e){new Date(r.expires_at||0).getTime()-(new Date).getTime()<3e5&&u()}},6e4);return()=>{e=!1,clearTimeout(a),null==o||o.subscription.unsubscribe(),clearInterval(m)}},[]);const m={user:t,session:r,isAdmin:a,loading:o,signIn:async(e,t)=>{try{const{data:n,error:r}=await Ga.auth.signInWithPassword({email:e,password:t});if(r)throw r;return n.session&&localStorage.setItem("supabase.auth.token",JSON.stringify({currentSession:n.session,expiresAt:n.session.expires_at})),{error:null}}catch(n){return{error:n}}},signUp:async(e,t,n)=>{try{const{data:r,error:s}=await Ga.auth.signUp({email:e,password:t,options:{data:{username:n||e.split("@")[0]}}});if(s)throw s;if(r.user){const{error:t}=await Ga.from("user_profiles").insert({user_id:r.user.id,username:n||e.split("@")[0],email:e,is_admin:!1,hti_score:0})}return{error:null}}catch(r){return{error:r}}},signOut:async()=>{try{c.current=!0,n(null),s(null),i(!1),localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-mskpxebbscvisxcceiwx-auth-token"),localStorage.removeItem("authMode"),localStorage.removeItem("confetti_shown"),sessionStorage.clear();const{error:e}=await Ga.auth.signOut();setTimeout(()=>{window.location.href="/"},100)}catch(e){Ba.error("Error signing out"),n(null),s(null),i(!1)}},refreshSession:u};return $.jsx(Ja.Provider,{value:m,children:e})}function ti(){const e=Ke.useContext(Ja);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}const ni=({features:e})=>$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((e,t)=>$.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-200 hover:shadow-xl transition-shadow",children:[$.jsx("div",{className:`w-12 h-12 ${e.iconBgColor} rounded-full flex items-center justify-center mb-4`,children:$.jsx("i",{className:`fas ${e.icon} ${e.iconTextColor} text-xl`})}),$.jsx("h3",{className:"font-inter text-xl font-semibold mb-2 text-gray-800",children:e.title}),$.jsx("p",{className:"text-gray-600",children:e.description})]},t))});function ri(){const e=["/1.png","/2.png","/3.png","/4.png"],[t,n]=Ke.useState(0);Ke.useEffect(()=>{const t=setInterval(()=>n(t=>(t+1)%e.length),4e3);return()=>clearInterval(t)},[]);const r=Ke.useCallback(()=>n(t=>(t-1+e.length)%e.length),[]),s=Ke.useCallback(()=>n(t=>(t+1)%e.length),[]),a=Ke.useCallback(e=>{"ArrowLeft"===e.key&&r(),"ArrowRight"===e.key&&s()},[r,s]);return $.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg border border-gray-200 shadow-sm bg-white",style:{aspectRatio:4/3},tabIndex:0,role:"region","aria-label":"Image carousel",onKeyDown:a,children:[e.map((e,n)=>$.jsx("img",{src:e,alt:`carousel-${n+1}`,className:"absolute inset-0 w-full h-full object-contain transition-opacity duration-500 p-4 sm:p-6 lg:p-8 "+(n===t?"opacity-100":"opacity-0"),draggable:!1},e+n)),$.jsx("button",{type:"button",onClick:r,"aria-label":"Previous slide",className:"absolute left-2 top-1/2 -translate-y-1/2 inline-flex items-center justify-center w-9 h-9 rounded-full bg-white/80 hover:bg-white shadow border border-gray-200",children:$.jsx(kn,{className:"w-5 h-5 text-gray-700"})}),$.jsx("button",{type:"button",onClick:s,"aria-label":"Next slide",className:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex items-center justify-center w-9 h-9 rounded-full bg-white/80 hover:bg-white shadow border border-gray-200",children:$.jsx(Sn,{className:"w-5 h-5 text-gray-700"})}),$.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2",children:e.map((e,r)=>$.jsx("button",{onClick:()=>n(r),"aria-label":`Go to slide ${r+1}`,className:"w-2.5 h-2.5 rounded-full "+(r===t?"bg-blue-600":"bg-white/70 border border-gray-300")},r))})]})}const si=()=>{const{t:e}=Za(),t=[{icon:"fa-project-diagram",iconBgColor:"bg-blue-500",iconTextColor:"text-white",title:e("home.features.projectSprint.title"),description:e("home.features.projectSprint.description")},{icon:"fa-users",iconBgColor:"bg-indigo-500",iconTextColor:"text-white",title:e("home.features.biweeklyMeetings.title"),description:e("home.features.biweeklyMeetings.description")},{icon:"fa-trophy",iconBgColor:"bg-amber-500",iconTextColor:"text-white",title:e("home.features.demoDay.title"),description:e("home.features.demoDay.description")}];return e("home.metrics.activeMembers"),e("home.metrics.projectsCompleted"),e("home.metrics.eventsHosted"),e("home.metrics.industryPartners"),$.jsxs("section",{id:"home",className:"min-h-screen bg-white",children:[$.jsx("div",{className:"relative bg-gradient-to-r from-blue-50 to-indigo-50",children:$.jsx("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8 relative z-10",children:$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[$.jsxs("div",{children:[$.jsx("h1",{className:"font-inter text-4xl md:text-5xl font-bold mb-4 text-gray-800",children:e("home.heroSubtitle")}),$.jsx("p",{className:"text-lg mb-8 text-gray-600",children:e("home.heroDescription")})]}),$.jsx("div",{className:"hidden lg:block",children:$.jsx("div",{className:"relative h-80 w-full rounded-lg bg-white p-6 shadow-lg border border-gray-200",children:$.jsx("div",{className:"flex items-center justify-center h-full",children:$.jsx("img",{src:"/fsqds-hero.png",alt:"FS Quant & Data Science Initiative",className:"max-h-full max-w-full object-contain"})})})})]})})}),$.jsx("div",{className:"bg-white",children:$.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:[$.jsx(ri,{}),$.jsxs("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-6 text-center",children:[$.jsx("div",{className:"text-lg md:text-xl font-inter font-semibold text-blue-900",children:"FS QDS Kickoff Event  13 September, 20:15 in S1.08"}),$.jsx("p",{className:"mt-2 text-blue-900/90",children:"Meet the team, explore the logistics for this season, and join us for the Battleground WS25 launch!"}),$.jsx("div",{className:"mt-4",children:$.jsx("a",{href:"https://forms.gle/Q9M5NjJWFuUZi7JQ7",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-md bg-[#0B3D91] text-white hover:bg-[#082D69] transition-colors",children:"Apply now to join us!"})})]})]})}),$.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:[$.jsxs("div",{className:"text-center mb-16",children:[$.jsx("h2",{className:"text-3xl font-inter font-bold text-gray-800 mb-4",children:e("home.lab.title")}),$.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:e("home.lab.description")})]}),$.jsx(ni,{features:t})]})]})},ai=({member:e,variant:t="large",className:n=""})=>"large"===t?$.jsxs("div",{className:`bg-white rounded-xl border border-neutral-200 shadow-sm hover:shadow-md transition-all hover:-translate-y-[1px] ${n}`,children:[$.jsxs("div",{className:"w-full h-72 md:h-80 bg-neutral-100 relative overflow-hidden",children:[e.image?$.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover",style:{objectPosition:"paul-wentzel"===(null==e?void 0:e.id)?"50% 30%":"50% 10%"}}):$.jsx("div",{className:"flex items-center justify-center w-full h-full",children:$.jsx("div",{className:"text-6xl font-semibold text-neutral-400",children:e.name.charAt(0)})}),$.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent pointer-events-none"})]}),$.jsxs("div",{className:"p-6",children:[$.jsx("h4",{className:"font-inter text-2xl font-semibold tracking-tight text-neutral-900",children:e.linkedin?$.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-[#0B3D91] hover:underline",children:e.name}):e.name}),$.jsx("div",{className:"mt-1 text-[#0B3D91] font-medium",children:e.position}),e.subtitle&&$.jsx("p",{className:"mt-1 text-neutral-700 text-sm",children:e.subtitle}),e.classOf&&$.jsx("p",{className:"text-neutral-600 text-sm",children:e.classOf}),$.jsx("div",{className:"mt-4 h-px bg-neutral-200"}),$.jsx("div",{className:"mt-4 flex items-center space-x-3",children:e.email&&$.jsxs("a",{href:`mailto:${e.email}`,className:"inline-flex items-center text-neutral-600 hover:text-[#0B3D91] transition-colors",children:[$.jsx("i",{className:"fas fa-envelope mr-2"}),$.jsx("span",{className:"text-sm",children:"Contact"})]})})]})]}):"medium"===t?$.jsx("div",{className:`bg-white rounded-lg shadow-md p-6 border border-gray-200 ${n}`,children:$.jsxs("div",{className:"flex flex-col items-center",children:[e.image?$.jsx("img",{src:e.image,alt:e.name,className:"w-24 h-24 rounded-full object-cover mb-4"}):$.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mb-4 text-2xl font-bold text-gray-500",children:e.name.charAt(0)}),$.jsx("h4",{className:"font-inter text-lg font-semibold mb-1 text-center text-gray-800",children:e.name}),$.jsx("p",{className:"text-blue-600 text-sm font-medium mb-2 text-center",children:e.position||e.role}),$.jsx("p",{className:"text-gray-600 text-sm text-center",children:e.bio})]})}):$.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-4 flex flex-col items-center border border-gray-200 ${n}`,children:[e.image?$.jsx("img",{src:e.image,alt:e.name,className:"w-16 h-16 rounded-full object-cover mb-2"}):$.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mb-2 text-lg font-bold text-gray-500",children:e.name.charAt(0)}),$.jsx("h4",{className:"font-inter text-sm font-semibold mb-0.5 text-center text-gray-800",children:e.name}),$.jsx("p",{className:"text-gray-600 text-xs text-center",children:e.department})]}),ii=()=>{const{t:e}=Za();return $.jsx("section",{id:"members",className:"py-16 bg-white min-h-screen",children:$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[$.jsxs("div",{className:"text-center mb-16",children:[$.jsx("h2",{className:"text-3xl font-inter font-bold text-gray-800 mb-4",children:e("members.title")}),$.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:e("members.subtitle")})]}),$.jsxs("div",{className:"mb-12",children:[$.jsx("h3",{className:"text-2xl font-inter font-semibold mb-6 text-gray-800 text-center",children:e("members.title")}),$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{id:"kartik-yadav",name:"Kartik Yadav",position:"Head",department:"FS Quant & Data Science Initiative",subtitle:"Master of Finance",classOf:"Class of 2026",image:"/kartik.jpg",email:"kartik.yadav@fs-students.de",expertise:["Machine Learning","Quantitative Finance","Data Engineering"]},{id:"paul-wentzel",name:"Paul Wentzel",position:"Head",department:"FS Quant & Data Science Initiative",subtitle:"Bachelor in Business Administration",classOf:"Class of 2028",image:"/paul.jpeg",email:"paul.wentzel@fs-students.de",expertise:["Statistical Analysis","Risk Management","Python"],linkedin:"https://www.linkedin.com/in/paul-wentzel"}].map(e=>$.jsx(ai,{member:e,variant:"large"},e.id))})]})]})})},oi=()=>{const{t:e}=Za(),[t,n]=Ke.useState("all"),r=[{id:"risk-modeling",title:"Credit Risk Modeling with ML",description:"Developing advanced machine learning models for credit risk assessment using real banking data.",status:"current",type:"industry",teamSize:5,technologies:["Python","TensorFlow","XGBoost","SQL"],partner:"Commerzbank",duration:"3 months"},{id:"portfolio-opt",title:"Portfolio Optimization Engine",description:"Building a quantitative portfolio optimization system using modern portfolio theory and factor models.",status:"current",type:"industry",teamSize:4,technologies:["Python","NumPy","Pandas","CVXPY"],partner:"DWS Group",duration:"3 months"},{id:"nlp-sentiment",title:"Financial News Sentiment Analysis",description:"NLP-based sentiment analysis of financial news to predict market movements.",status:"showcase",type:"research",teamSize:6,technologies:["BERT","PyTorch","Hugging Face","AWS"],achievements:["92% accuracy","Real-time processing"],duration:"4 months"},{id:"fraud-detection",title:"Real-time Fraud Detection System",description:"Anomaly detection system for identifying fraudulent transactions in real-time.",status:"showcase",type:"industry",teamSize:5,technologies:["Apache Kafka","Spark","scikit-learn","Docker"],partner:"EY",achievements:["99.2% precision","<100ms latency"],duration:"3 months"}].filter(e=>"all"===t||("current"===t?"current"===e.status:"showcase"===t?"showcase"===e.status:"industry"!==t||"industry"===e.type));return $.jsx("section",{id:"projects",className:"py-16 bg-white min-h-screen",children:$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[$.jsxs("div",{className:"text-center mb-16",children:[$.jsx("h2",{className:"text-3xl font-inter font-bold text-gray-800 mb-4",children:e("projectsTitle")}),$.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:e("projectsSubtitle")})]}),$.jsx("div",{className:"flex flex-wrap justify-center mb-12 gap-3",children:[{key:"all",label:"All Projects",icon:"fa-th"},{key:"current",label:"Current Sprint",icon:"fa-clock"},{key:"showcase",label:"Showcase",icon:"fa-trophy"},{key:"industry",label:"Industry Partners",icon:"fa-handshake"}].map(e=>$.jsxs("button",{className:"px-5 py-2.5 rounded-full font-medium transition-all duration-200 flex items-center gap-2 "+(t===e.key?"bg-blue-600 text-white shadow-lg scale-105":"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300"),onClick:()=>n(e.key),children:[$.jsx("i",{className:`fas ${e.icon} text-sm`}),e.label]},e.key))}),$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:r.map(e=>$.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-shadow",children:[$.jsxs("div",{className:"flex justify-between items-start mb-4",children:[$.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.title}),$.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("current"===e.status?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:"current"===e.status?"Active":"Completed"})]}),$.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),e.partner&&$.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[$.jsx("i",{className:"fas fa-building text-gray-400"}),$.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.partner})]}),$.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-600",children:[$.jsxs("div",{className:"flex items-center gap-1",children:[$.jsx("i",{className:"fas fa-users text-gray-400"}),$.jsxs("span",{children:[e.teamSize," members"]})]}),$.jsxs("div",{className:"flex items-center gap-1",children:[$.jsx("i",{className:"fas fa-calendar text-gray-400"}),$.jsx("span",{children:e.duration})]})]}),$.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.technologies.map((e,t)=>$.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:e},t))}),e.achievements&&$.jsx("div",{className:"pt-4 border-t border-gray-200",children:$.jsx("div",{className:"flex flex-wrap gap-3",children:e.achievements.map((e,t)=>$.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[$.jsx("i",{className:"fas fa-check-circle"}),$.jsx("span",{children:e})]},t))})})]},e.id))}),$.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-8 mb-16 border border-blue-200",children:[$.jsx("h3",{className:"font-inter text-2xl font-semibold mb-6 text-center text-gray-800",children:"How Our Project Sprints Work"}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[$.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[$.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:$.jsx("i",{className:"fas fa-rocket text-blue-600 text-xl"})}),$.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Project Kickoff"}),$.jsx("p",{className:"text-gray-600 text-sm",children:"Teams form and receive real datasets and problem statements from industry partners."})]}),$.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[$.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:$.jsx("i",{className:"fas fa-code text-indigo-600 text-xl"})}),$.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Sprint Development"}),$.jsx("p",{className:"text-gray-600 text-sm",children:"Bi-weekly check-ins, mentorship sessions, and collaborative problem-solving on Teams."})]}),$.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[$.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4",children:$.jsx("i",{className:"fas fa-trophy text-amber-600 text-xl"})}),$.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Demo Day"}),$.jsx("p",{className:"text-gray-600 text-sm",children:"Teams present to industry jury. Winners receive prizes and internship referrals."})]})]})]}),$.jsxs("div",{className:"text-center bg-white rounded-lg shadow-lg p-12 border border-gray-200",children:[$.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Join Our Next Project Sprint"}),$.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Be part of a team tackling real-world quant and data science challenges. Build your portfolio, gain industry experience, and compete for prizes."}),$.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[$.jsx("a",{href:"/contact",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Apply for Next Sprint"}),$.jsx("a",{href:"#",className:"px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Become a Partner"})]})]})]})})},li=new Date,ci=e=>{const t=new Date(li);return t.setDate(t.getDate()+e),t};ci(15),ci(18),ci(27),ci(35);const di=e=>{const t=new Date(li);return t.setDate(t.getDate()-e),t};di(25),di(40),di(55),di(70);const ui=e=>{const t=e=>e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",n=t(e.start),r=t(e.end),s=t(new Date);return`BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Data Science Student Initiative//NONSGML Calendar//EN\nCALSCALE:GREGORIAN\nBEGIN:VEVENT\nUID:${e.id}@dssi.frankfurt-school.de\nDTSTAMP:${s}\nDTSTART:${n}\nDTEND:${r}\nSUMMARY:${e.title}\nDESCRIPTION:${e.description||""}\nLOCATION:${e.location||""}\nORGANIZER:${e.organizer||"Data Science Student Initiative"}\nURL:${e.url||"https://dssi.frankfurt-school.de"}\nEND:VEVENT\nEND:VCALENDAR`},mi=e=>{const t=e=>e.toISOString().replace(/-|:|\.\d+/g,""),n=t(e.start),r=t(e.end);return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:e.title,dates:`${n}/${r}`,details:e.description||"",location:e.location||"",sf:"true",output:"xml"}).toString()}`},hi=Ea("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),fi=Ke.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const i=r?le:"button";return $.jsx(i,{className:Da(hi({variant:t,size:n,className:e})),ref:a,...s})});fi.displayName="Button";const pi=({event:e})=>{const t=(e=>{switch(e){case"workshop":return"bg-[#0B3D91] text-white";case"speaker":return"bg-[#00A6ED] text-white";case"competition":return"bg-[#FFC107] text-[#0B3D91]";case"meetup":return"bg-[#28A745] text-white";default:return"bg-neutral-500 text-white"}})(e.type),n=e&&e.date instanceof Date?e.date:new Date(e.date),r=rt(n,"d"),s=rt(n,"MMM"),a="startTime"in e?e.startTime:"time"in e?e.time:void 0,i="endTime"in e||"endTime"in e?e.endTime:void 0,o=()=>{const e=a?new Date(`${n.toDateString()} ${a}`):new Date(n),t=i?new Date(`${n.toDateString()} ${i}`):a?new Date(e.getTime()+72e5):new Date(e.getTime()+864e5);return{start:e,end:t}};return $.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-neutral-200 border-t-4 border-[#0B3D91] hover:shadow-md transition-all h-full",children:$.jsxs("div",{className:"flex items-stretch h-full",children:[$.jsxs("div",{className:"bg-[#0B3D91] text-white font-semibold p-4 text-center flex flex-col justify-center min-w-[90px] self-stretch",children:[$.jsx("span",{className:"text-2xl font-bold",children:r}),$.jsx("span",{className:"uppercase tracking-wide text-sm opacity-90",children:s})]}),$.jsxs("div",{className:"p-4 flex-1",children:[$.jsxs("div",{className:"flex justify-between items-start",children:[$.jsx("h3",{className:"font-inter text-lg font-semibold mb-1 text-neutral-900",children:e.title}),$.jsx("span",{className:`${t} text-xs px-2 py-1 rounded-full`,children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})]}),e.description&&$.jsx("p",{className:"text-neutral-700 text-sm mb-3",children:e.description}),$.jsxs("div",{className:"flex items-center text-sm text-neutral-600 mb-3",children:[$.jsx("i",{className:"far fa-clock mr-2"}),$.jsx("span",{children:a?i?`${a} - ${i}`:a:"All day"}),e.location&&$.jsxs($.Fragment,{children:[$.jsx("i",{className:"fas fa-map-marker-alt ml-4 mr-2"}),$.jsx("span",{children:e.location})]})]}),$.jsxs("div",{className:"flex flex-wrap gap-2",children:[$.jsxs(fi,{variant:"outline",size:"sm",className:"text-neutral-700 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{const{start:t,end:n}=o(),r={...e,start:t,end:n},s=ui(r),a=new Blob([s],{type:"text/calendar;charset=utf-8"}),i=URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.setAttribute("download",`${e.title.replace(/\s+/g,"-")}.ics`),document.body.appendChild(l),l.click(),document.body.removeChild(l)},children:[$.jsx("i",{className:"fas fa-calendar-plus mr-2"})," iCal"]}),$.jsxs(fi,{variant:"outline",size:"sm",className:"text-neutral-700 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{const{start:t,end:n}=o(),r={...e,start:t,end:n};window.open(mi(r),"_blank")},children:[$.jsx("i",{className:"fab fa-google mr-2"})," Google Calendar"]})]})]})]})})};function gi(e){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e){var t=function(e,t){if("object"!=gi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gi(t)?t:t+""}function xi(e,t,n){return(t=vi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach(function(t){xi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wi(e,t){if(null==e)return{};var n,r,s=dt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vi(r.key),r)}}function ki(e,t,n){return t&&Ni(e.prototype,t),n&&Ni(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_i=function(){return!!e})()}function Ei(e,t,n){return t=Si(t),function(e,t){if(t&&("object"==gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}(e,_i()?Reflect.construct(t,n||[],Si(e).constructor):t.apply(e,n))}function Di(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}function Ti(e){if(Array.isArray(e))return e}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ci(e,t){if(e){if("string"==typeof e)return Mi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}function Oi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ai(e,t){return Ti(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a,i,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||Ci(e,t)||Oi()}function Pi(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Pi(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ri(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Pi(e))&&(r&&(r+=" "),r+=t);return r}var Ii=function(e,t,n,r,s,a,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,a,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}};const Li=Ze(Ii);var Fi=function(){};function zi(e,t){return void 0!==e[t]}function Ui(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function qi(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Bi(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Yi(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}qi.__suppressDeprecationWarning=!0,Bi.__suppressDeprecationWarning=!0,Yi.__suppressDeprecationWarning=!0;var Wi="milliseconds",Hi="seconds",Vi="minutes",$i="hours",Gi="day",Ki="week",Qi="month",Xi="year",Zi="decade",Ji="century",eo={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},to={month:1,year:12,decade:120,century:1200};function no(e){return e%4==0&&e%100!=0||e%400==0?29:28}function ro(e,t,n){switch(e=new Date(e),n){case Wi:case Hi:case Vi:case $i:case Gi:case Ki:return function(e,t){var n=new Date(+e+t);return function(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return new Date(+t+(r-n)*eo.minutes)}(e,n)}(e,t*eo[n]);case Qi:case Xi:case Zi:case Ji:return function(e,t){var n=e.getFullYear(),r=e.getMonth(),s=e.getDate(),a=12*n+r+t,i=Math.trunc(a/12),o=a%12,l=Math.min(s,function(e){return[31,no(e),31,30,31,30,31,31,30,31,30,31]}(i)[o]),c=new Date(e);return c.setFullYear(i),c.setDate(1),c.setMonth(o),c.setDate(l),c}(e,t*to[n])}throw new TypeError('Invalid units: "'+n+'"')}function so(e,t,n){return ro(e,-t,n)}function ao(e,t,n){switch(e=new Date(e),t){case Ji:case Zi:case Xi:e=No(e,0);case Qi:e=jo(e,1);case Ki:case Gi:e=bo(e,0);case $i:e=yo(e,0);case Vi:e=xo(e,0);case Hi:e=vo(e,0)}return t===Zi&&(e=so(e,ko(e)%10,"year")),t===Ji&&(e=so(e,ko(e)%100,"year")),t===Ki&&(e=So(e,0,n)),e}function io(e,t,n){switch(e=ao(e=new Date(e),t,n),t){case Ji:case Zi:case Xi:case Qi:case Ki:(e=so(e=ro(e,1,t),1,Gi)).setHours(23,59,59,999);break;case Gi:e.setHours(23,59,59,999);break;case $i:case Vi:case Hi:e=so(e=ro(e,1,t),1,Wi)}return e}var oo=Eo(function(e,t){return e===t}),lo=Eo(function(e,t){return e!==t}),co=Eo(function(e,t){return e>t}),uo=Eo(function(e,t){return e>=t}),mo=Eo(function(e,t){return e<t}),ho=Eo(function(e,t){return e<=t});function fo(){return new Date(Math.min.apply(Math,arguments))}function po(){return new Date(Math.max.apply(Math,arguments))}function go(e,t,n,r){return r=r||"day",(!t||uo(e,t,r))&&(!n||ho(e,n,r))}var vo=_o("Milliseconds"),xo=_o("Seconds"),yo=_o("Minutes"),bo=_o("Hours"),wo=_o("Day"),jo=_o("Date"),No=_o("Month"),ko=_o("FullYear");function So(e,t,n){var r=(wo(e)+7-(n||0))%7;return void 0===t?r:ro(e,t-r,Gi)}function _o(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(void 0===r)return n["get"+e]();var s=new Date(n);return s["set"+e](r),t&&s["get"+e]()!=r&&("Hours"===e||r>=t&&s.getHours()-n.getHours()<Math.floor(r/t))&&s["set"+e](r+t),s}}function Eo(e){return function(t,n,r){return e(+ao(t,r),+ao(n,r))}}const Do=Object.freeze(Object.defineProperty({__proto__:null,add:ro,century:function(e,t){return void 0===t?ko(ao(e,Ji)):ro(e,t+100,Xi)},date:jo,day:wo,decade:function(e,t){return void 0===t?ko(ao(e,Zi)):ro(e,t+10,Xi)},diff:function(e,t,n,r){var s,a,i;switch(n){case Wi:case Hi:case Vi:case $i:case Gi:case Ki:s=t.getTime()-e.getTime();break;case Qi:case Xi:case Zi:case Ji:s=12*(ko(t)-ko(e))+No(t)-No(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Wi:a=1;break;case Hi:a=1e3;break;case Vi:a=6e4;break;case $i:a=36e5;break;case Gi:a=864e5;break;case Ki:a=6048e5;break;case Qi:a=1;break;case Xi:a=12;break;case Zi:a=120;break;case Ji:a=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return i=s/a,r?i:Math.round(i)},endOf:io,eq:oo,gt:co,gte:uo,hours:bo,inRange:go,lt:mo,lte:ho,max:po,milliseconds:vo,min:fo,minutes:yo,month:No,neq:lo,seconds:xo,startOf:ao,subtract:so,weekday:So,year:ko},Symbol.toStringTag,{value:"Module"}));function To(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Mo(e){return function(e){if(Array.isArray(e))return Mi(e)}(e)||To(e)||Ci(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Co=pt,Oo=gt,Ao=vt,Po=Math.ceil,Ro=Math.max;const Io=Ze(function(e,t,n){t=(n?Oo(e,t,n):void 0===t)?1:Ro(Ao(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,a=0,i=Array(Po(r/t));s<r;)i[a++]=Co(e,s,s+=t);return i});function Lo(e){return e&&e.ownerDocument||document}function Fo(e,t){return function(e){var t=Lo(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var zo=/([A-Z])/g;var Uo=/^ms-/;function qo(e){return function(e){return e.replace(zo,"-$1").toLowerCase()}(e).replace(Uo,"-ms-")}var Bo=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Yo(e,t){var n="",r="";if("string"==typeof t)return e.style.getPropertyValue(qo(t))||Fo(e).getPropertyValue(qo(t));Object.keys(t).forEach(function(s){var a=t[s];a||0===a?!function(e){return!(!e||!Bo.test(e))}(s)?n+=qo(s)+": "+a+";":r+=s+"("+a+") ":e.style.removeProperty(qo(s))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Wo(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ho(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function Vo(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,r){var s=Ho(n);if(void 0===r)return s?s[e]:n[t];s?s.scrollTo(s[e],r):n[t]=r}}const $o=Vo("pageXOffset"),Go=Vo("pageYOffset");function Ko(e){var t=Lo(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return r&&Wo(r,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+Go(r)-(r.clientTop||0),left:n.left+$o(r)-(r.clientLeft||0),width:n.width,height:n.height}):n}var Qo=function(e){return!!e&&"offsetParent"in e};function Xo(e,t){var n,r={top:0,left:0};if("fixed"===Yo(e,"position"))n=e.getBoundingClientRect();else{var s=t||function(e){for(var t=Lo(e),n=e&&e.offsetParent;Qo(n)&&"HTML"!==n.nodeName&&"static"===Yo(n,"position");)n=n.offsetParent;return n||t.documentElement}(e);n=Ko(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(s)&&(r=Ko(s));var a=String(Yo(s,"borderTopWidth")||0);r.top+=parseInt(a,10)-Go(s)||0;var i=String(Yo(s,"borderLeftWidth")||0);r.left+=parseInt(i,10)-$o(s)||0}var o=String(Yo(e,"marginTop")||0),l=String(Yo(e,"marginLeft")||0);return ft({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const Zo=!("undefined"==typeof window||!window.document||!window.document.createElement);var Jo=(new Date).getTime();var el="clearTimeout",tl=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-Jo)),r=setTimeout(e,n);return Jo=t,r},nl=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Zo&&["","webkit","moz","o","ms"].some(function(e){var t=nl(e,"request");return t in window&&(el=nl(e,"cancel"),tl=function(e){return window[t](e)}),!!tl});var rl,sl=function(e){"function"==typeof window[el]&&window[el](e)},al=tl;function il(e,t){if(!rl){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;rl=function(e,t){return r.call(e,t)}}return rl(e,t)}var ol=Function.prototype.bind.call(Function.prototype.call,[].slice);var ll=!1,cl=!1;try{var dl={get passive(){return ll=!0},get once(){return cl=ll=!0}};Zo&&(window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,!0))}catch(Iw){}function ul(e){const t=function(e){const t=Ke.useRef(e);return Ke.useEffect(()=>{t.current=e},[e]),t}(e);return Ke.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function ml(){return Ke.useState(null)}function hl(e){const t=function(){const e=Ke.useRef(!0),t=Ke.useRef(()=>e.current);return Ke.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}();return[e[0],Ke.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var fl="top",pl="bottom",gl="right",vl="left",xl="auto",yl=[fl,pl,gl,vl],bl="start",wl="end",jl="viewport",Nl="popper",kl=yl.reduce(function(e,t){return e.concat([t+"-"+bl,t+"-"+wl])},[]),Sl=[].concat(yl,[xl]).reduce(function(e,t){return e.concat([t,t+"-"+bl,t+"-"+wl])},[]),_l=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function El(e){return e.split("-")[0]}function Dl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Tl(e){return e instanceof Dl(e).Element||e instanceof Element}function Ml(e){return e instanceof Dl(e).HTMLElement||e instanceof HTMLElement}function Cl(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Dl(e).ShadowRoot||e instanceof ShadowRoot)}var Ol=Math.max,Al=Math.min,Pl=Math.round;function Rl(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Il(){return!/^((?!chrome|android).)*safari/i.test(Rl())}function Ll(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),s=1,a=1;t&&Ml(e)&&(s=e.offsetWidth>0&&Pl(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Pl(r.height)/e.offsetHeight||1);var i=(Tl(e)?Dl(e):window).visualViewport,o=!Il()&&n,l=(r.left+(o&&i?i.offsetLeft:0))/s,c=(r.top+(o&&i?i.offsetTop:0))/a,d=r.width/s,u=r.height/a;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Fl(e){var t=Ll(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function zl(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Cl(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ul(e){return e?(e.nodeName||"").toLowerCase():null}function ql(e){return Dl(e).getComputedStyle(e)}function Bl(e){return["table","td","th"].indexOf(Ul(e))>=0}function Yl(e){return((Tl(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wl(e){return"html"===Ul(e)?e:e.assignedSlot||e.parentNode||(Cl(e)?e.host:null)||Yl(e)}function Hl(e){return Ml(e)&&"fixed"!==ql(e).position?e.offsetParent:null}function Vl(e){for(var t=Dl(e),n=Hl(e);n&&Bl(n)&&"static"===ql(n).position;)n=Hl(n);return n&&("html"===Ul(n)||"body"===Ul(n)&&"static"===ql(n).position)?t:n||function(e){var t=/firefox/i.test(Rl());if(/Trident/i.test(Rl())&&Ml(e)&&"fixed"===ql(e).position)return null;var n=Wl(e);for(Cl(n)&&(n=n.host);Ml(n)&&["html","body"].indexOf(Ul(n))<0;){var r=ql(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function $l(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Gl(e,t,n){return Ol(e,Al(t,n))}function Kl(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ql(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}const Xl={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,s=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,o=El(n.placement),l=$l(o),c=[vl,gl].indexOf(o)>=0?"height":"width";if(a&&i){var d=function(e,t){return Kl("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ql(e,yl))}(s.padding,n),u=Fl(a),m="y"===l?fl:vl,h="y"===l?pl:gl,f=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],p=i[l]-n.rects.reference[l],g=Vl(a),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,x=f/2-p/2,y=d[m],b=v-u[c]-d[h],w=v/2-u[c]/2+x,j=Gl(y,w,b),N=l;n.modifiersData[r]=((t={})[N]=j,t.centerOffset=j-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&zl(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zl(e){return e.split("-")[1]}var Jl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ec(e){var t,n=e.popper,r=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,m=i.x,h=void 0===m?0:m,f=i.y,p=void 0===f?0:f,g="function"==typeof d?d({x:h,y:p}):{x:h,y:p};h=g.x,p=g.y;var v=i.hasOwnProperty("x"),x=i.hasOwnProperty("y"),y=vl,b=fl,w=window;if(c){var j=Vl(n),N="clientHeight",k="clientWidth";if(j===Dl(n)&&"static"!==ql(j=Yl(n)).position&&"absolute"===o&&(N="scrollHeight",k="scrollWidth"),s===fl||(s===vl||s===gl)&&a===wl)b=pl,p-=(u&&j===w&&w.visualViewport?w.visualViewport.height:j[N])-r.height,p*=l?1:-1;if(s===vl||(s===fl||s===pl)&&a===wl)y=gl,h-=(u&&j===w&&w.visualViewport?w.visualViewport.width:j[k])-r.width,h*=l?1:-1}var S,_=Object.assign({position:o},c&&Jl),E=!0===d?function(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Pl(n*s)/s||0,y:Pl(r*s)/s||0}}({x:h,y:p},Dl(n)):{x:h,y:p};return h=E.x,p=E.y,l?Object.assign({},_,((S={})[b]=x?"0":"",S[y]=v?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",S)):Object.assign({},_,((t={})[b]=x?p+"px":"",t[y]=v?h+"px":"",t.transform="",t))}const tc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=void 0===r||r,a=n.adaptive,i=void 0===a||a,o=n.roundOffsets,l=void 0===o||o,c={placement:El(t.placement),variation:Zl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ec(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ec(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var nc={passive:!0};const rc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,a=void 0===s||s,i=r.resize,o=void 0===i||i,l=Dl(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(e){e.addEventListener("scroll",n.update,nc)}),o&&l.addEventListener("resize",n.update,nc),function(){a&&c.forEach(function(e){e.removeEventListener("scroll",n.update,nc)}),o&&l.removeEventListener("resize",n.update,nc)}},data:{}};var sc={left:"right",right:"left",bottom:"top",top:"bottom"};function ac(e){return e.replace(/left|right|bottom|top/g,function(e){return sc[e]})}var ic={start:"end",end:"start"};function oc(e){return e.replace(/start|end/g,function(e){return ic[e]})}function lc(e){var t=Dl(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function cc(e){return Ll(Yl(e)).left+lc(e).scrollLeft}function dc(e){var t=ql(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function uc(e){return["html","body","#document"].indexOf(Ul(e))>=0?e.ownerDocument.body:Ml(e)&&dc(e)?e:uc(Wl(e))}function mc(e,t){var n;void 0===t&&(t=[]);var r=uc(e),s=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Dl(r),i=s?[a].concat(a.visualViewport||[],dc(r)?r:[]):r,o=t.concat(i);return s?o:o.concat(mc(Wl(i)))}function hc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function fc(e,t,n){return t===jl?hc(function(e,t){var n=Dl(e),r=Yl(e),s=n.visualViewport,a=r.clientWidth,i=r.clientHeight,o=0,l=0;if(s){a=s.width,i=s.height;var c=Il();(c||!c&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:a,height:i,x:o+cc(e),y:l}}(e,n)):Tl(t)?function(e,t){var n=Ll(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):hc(function(e){var t,n=Yl(e),r=lc(e),s=null==(t=e.ownerDocument)?void 0:t.body,a=Ol(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=Ol(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-r.scrollLeft+cc(e),l=-r.scrollTop;return"rtl"===ql(s||n).direction&&(o+=Ol(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:o,y:l}}(Yl(e)))}function pc(e,t,n,r){var s="clippingParents"===t?function(e){var t=mc(Wl(e)),n=["absolute","fixed"].indexOf(ql(e).position)>=0&&Ml(e)?Vl(e):e;return Tl(n)?t.filter(function(e){return Tl(e)&&zl(e,n)&&"body"!==Ul(e)}):[]}(e):[].concat(t),a=[].concat(s,[n]),i=a[0],o=a.reduce(function(t,n){var s=fc(e,n,r);return t.top=Ol(s.top,t.top),t.right=Al(s.right,t.right),t.bottom=Al(s.bottom,t.bottom),t.left=Ol(s.left,t.left),t},fc(e,i,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function gc(e){var t,n=e.reference,r=e.element,s=e.placement,a=s?El(s):null,i=s?Zl(s):null,o=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case fl:t={x:o,y:n.y-r.height};break;case pl:t={x:o,y:n.y+n.height};break;case gl:t={x:n.x+n.width,y:l};break;case vl:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=a?$l(a):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case bl:t[c]=t[c]-(n[d]/2-r[d]/2);break;case wl:t[c]=t[c]+(n[d]/2-r[d]/2)}}return t}function vc(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=void 0===r?e.placement:r,a=n.strategy,i=void 0===a?e.strategy:a,o=n.boundary,l=void 0===o?"clippingParents":o,c=n.rootBoundary,d=void 0===c?jl:c,u=n.elementContext,m=void 0===u?Nl:u,h=n.altBoundary,f=void 0!==h&&h,p=n.padding,g=void 0===p?0:p,v=Kl("number"!=typeof g?g:Ql(g,yl)),x=m===Nl?"reference":Nl,y=e.rects.popper,b=e.elements[f?x:m],w=pc(Tl(b)?b:b.contextElement||Yl(e.elements.popper),l,d,i),j=Ll(e.elements.reference),N=gc({reference:j,element:y,strategy:"absolute",placement:s}),k=hc(Object.assign({},y,N)),S=m===Nl?k:j,_={top:w.top-S.top+v.top,bottom:S.bottom-w.bottom+v.bottom,left:w.left-S.left+v.left,right:S.right-w.right+v.right},E=e.modifiersData.offset;if(m===Nl&&E){var D=E[s];Object.keys(_).forEach(function(e){var t=[gl,pl].indexOf(e)>=0?1:-1,n=[fl,pl].indexOf(e)>=0?"y":"x";_[e]+=D[n]*t})}return _}const xc={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,a=void 0===s||s,i=n.altAxis,o=void 0===i||i,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,m=n.altBoundary,h=n.flipVariations,f=void 0===h||h,p=n.allowedAutoPlacements,g=t.options.placement,v=El(g),x=l||(v===g||!f?[ac(g)]:function(e){if(El(e)===xl)return[];var t=ac(e);return[oc(e),t,oc(t)]}(g)),y=[g].concat(x).reduce(function(e,n){return e.concat(El(n)===xl?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=n.boundary,a=n.rootBoundary,i=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Sl:l,d=Zl(r),u=d?o?kl:kl.filter(function(e){return Zl(e)===d}):yl,m=u.filter(function(e){return c.indexOf(e)>=0});0===m.length&&(m=u);var h=m.reduce(function(t,n){return t[n]=vc(e,{placement:n,boundary:s,rootBoundary:a,padding:i})[El(n)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:p}):n)},[]),b=t.rects.reference,w=t.rects.popper,j=new Map,N=!0,k=y[0],S=0;S<y.length;S++){var _=y[S],E=El(_),D=Zl(_)===bl,T=[fl,pl].indexOf(E)>=0,M=T?"width":"height",C=vc(t,{placement:_,boundary:d,rootBoundary:u,altBoundary:m,padding:c}),O=T?D?gl:vl:D?pl:fl;b[M]>w[M]&&(O=ac(O));var A=ac(O),P=[];if(a&&P.push(C[E]<=0),o&&P.push(C[O]<=0,C[A]<=0),P.every(function(e){return e})){k=_,N=!1;break}j.set(_,P)}if(N)for(var R=function(e){var t=y.find(function(t){var n=j.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return k=t,"break"},I=f?3:1;I>0;I--){if("break"===R(I))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function yc(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function bc(e){return[fl,gl,pl,vl].some(function(t){return e[t]>=0})}const wc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,s=n.offset,a=void 0===s?[0,0]:s,i=Sl.reduce(function(e,n){return e[n]=function(e,t,n){var r=El(e),s=[vl,fl].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=a[0],o=a[1];return i=i||0,o=(o||0)*s,[vl,gl].indexOf(r)>=0?{x:o,y:i}:{x:i,y:o}}(n,t.rects,a),e},{}),o=i[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}};const jc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,a=void 0===s||s,i=n.altAxis,o=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,m=n.tether,h=void 0===m||m,f=n.tetherOffset,p=void 0===f?0:f,g=vc(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),v=El(t.placement),x=Zl(t.placement),y=!x,b=$l(v),w="x"===b?"y":"x",j=t.modifiersData.popperOffsets,N=t.rects.reference,k=t.rects.popper,S="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,_="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(j){if(a){var T,M="y"===b?fl:vl,C="y"===b?pl:gl,O="y"===b?"height":"width",A=j[b],P=A+g[M],R=A-g[C],I=h?-k[O]/2:0,L=x===bl?N[O]:k[O],F=x===bl?-k[O]:-N[O],z=t.elements.arrow,U=h&&z?Fl(z):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=q[M],Y=q[C],W=Gl(0,N[O],U[O]),H=y?N[O]/2-I-W-B-_.mainAxis:L-W-B-_.mainAxis,V=y?-N[O]/2+I+W+Y+_.mainAxis:F+W+Y+_.mainAxis,$=t.elements.arrow&&Vl(t.elements.arrow),G=$?"y"===b?$.clientTop||0:$.clientLeft||0:0,K=null!=(T=null==E?void 0:E[b])?T:0,Q=A+V-K,X=Gl(h?Al(P,A+H-K-G):P,A,h?Ol(R,Q):R);j[b]=X,D[b]=X-A}if(o){var Z,J="x"===b?fl:vl,ee="x"===b?pl:gl,te=j[w],ne="y"===w?"height":"width",re=te+g[J],se=te-g[ee],ae=-1!==[fl,vl].indexOf(v),ie=null!=(Z=null==E?void 0:E[w])?Z:0,oe=ae?re:te-N[ne]-k[ne]-ie+_.altAxis,le=ae?te+N[ne]+k[ne]-ie-_.altAxis:se,ce=h&&ae?function(e,t,n){var r=Gl(e,t,n);return r>n?n:r}(oe,te,le):Gl(h?oe:re,te,h?le:se);j[w]=ce,D[w]=ce-te}t.modifiersData[r]=D}},requiresIfExists:["offset"]};function Nc(e,t,n){void 0===n&&(n=!1);var r,s,a=Ml(t),i=Ml(t)&&function(e){var t=e.getBoundingClientRect(),n=Pl(t.width)/e.offsetWidth||1,r=Pl(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=Yl(t),l=Ll(e,i,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(a||!a&&!n)&&(("body"!==Ul(t)||dc(o))&&(c=(r=t)!==Dl(r)&&Ml(r)?{scrollLeft:(s=r).scrollLeft,scrollTop:s.scrollTop}:lc(r)),Ml(t)?((d=Ll(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=cc(o))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function kc(e){var t=new Map,n=new Set,r=[];function s(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&s(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||s(e)}),r}var Sc={placement:"bottom",modifiers:[],strategy:"absolute"};function _c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var Ec=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,s=t.defaultOptions,a=void 0===s?Sc:s;return function(e,t,n){void 0===n&&(n=a);var s,i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sc,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:o,setOptions:function(n){var s="function"==typeof n?n(o.options):n;u(),o.options=Object.assign({},a,o.options,s),o.scrollParents={reference:Tl(e)?mc(e):e.contextElement?mc(e.contextElement):[],popper:mc(t)};var i,c,m=function(e){var t=kc(e);return _l.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}((i=[].concat(r,o.options.modifiers),c=i.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return o.orderedModifiers=m.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"==typeof s){var a=s({state:o,name:t,instance:d,options:r}),i=function(){};l.push(a||i)}}),d.update()},forceUpdate:function(){if(!c){var e=o.elements,t=e.reference,n=e.popper;if(_c(t,n)){o.rects={reference:Nc(t,Vl(n),"fixed"===o.options.strategy),popper:Fl(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var s=o.orderedModifiers[r],a=s.fn,i=s.options,l=void 0===i?{}:i,u=s.name;"function"==typeof a&&(o=a({state:o,options:l,name:u,instance:d})||o)}else o.reset=!1,r=-1}}},update:(s=function(){return new Promise(function(e){d.forceUpdate(),e(o)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(s())})})),i}),destroy:function(){u(),c=!0}};if(!_c(e,t))return d;function u(){l.forEach(function(e){return e()}),l=[]}return d.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),d}}({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=vc(t,{elementContext:"reference"}),o=vc(t,{altBoundary:!0}),l=yc(i,r),c=yc(o,s,a),d=bc(l),u=bc(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=gc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},tc,rc,wc,xc,jc,Xl]}),Dc=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Tc={name:"applyStyles",enabled:!1},Mc={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var s=(n.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==r.id});s.length?n.setAttribute("aria-describedby",s.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,s=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in s){var i=s.getAttribute("aria-describedby");if(i&&-1!==i.split(",").indexOf(r.id))return;s.setAttribute("aria-describedby",i?i+","+r.id:r.id)}}},Cc=[];function Oc(e,t,n,r){return function(e,t,n,r){if(r&&"boolean"!=typeof r&&!cl){var s=r.once,a=r.capture,i=n;!cl&&s&&(i=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=i),e.addEventListener(t,i,ll?r:a)}e.addEventListener(t,n,r)}(e,t,n,r),function(){!function(e,t,n,r){var s=r&&"boolean"!=typeof r?r.capture:r;e.removeEventListener(t,n,s),n.__once&&e.removeEventListener(t,n.__once,s)}(e,t,n,r)}}const Ac=Ze(function(){});const Pc=function(e){return Lo(function(e){return e&&"setState"in e?Je.findDOMNode(e):null!=e?e:null}(e))};var Rc=function(){};var Ic,Lc=function(e){return e&&("current"in e?e.current:e)};function Fc(e){var t,n,r,s,a,i=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,d=e.offset,u=e.fixed,m=e.containerPadding,h=e.arrowElement,f=e.popperConfig,p=void 0===f?{}:f,g=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach(function(e){t[e.name]=e}),t):e||t}(p.modifiers);return ft({},p,{placement:l,enabled:i,strategy:u?"fixed":p.strategy,modifiers:(a=ft({},g,{eventListeners:{enabled:o},preventOverflow:ft({},g.preventOverflow,{options:m?ft({padding:m},null==(t=g.preventOverflow)?void 0:t.options):null==(n=g.preventOverflow)?void 0:n.options}),offset:{options:ft({offset:d},null==(r=g.offset)?void 0:r.options)},arrow:ft({},g.arrow,{enabled:!!h,options:ft({},null==(s=g.arrow)?void 0:s.options,{element:h})}),flip:ft({enabled:!!c},g.flip)}),void 0===a&&(a={}),Array.isArray(a)?a:Object.keys(a).map(function(e){return a[e].name=e,a[e]}))})}function zc(e){if((!Ic&&0!==Ic||e)&&Zo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ic=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ic}var Uc=function(e){var t;return"undefined"==typeof document?null:null==e?Lo().body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function qc(e,t){var n=Ke.useState(function(){return Uc(e)}),r=n[0],s=n[1];if(!r){var a=Uc(e);a&&s(a)}return Ke.useEffect(function(){},[t,r]),Ke.useEffect(function(){var t=Uc(e);t!==r&&s(t)},[e,r]),r}const Bc=e=>e&&"function"!=typeof e?t=>{e.current=t}:e;function Yc(e,t){return Ke.useMemo(()=>function(e,t){const n=Bc(e),r=Bc(t);return e=>{n&&n(e),r&&r(e)}}(e,t),[e,t])}var Wc=Xe.forwardRef(function(e,t){var n=e.flip,r=e.offset,s=e.placement,a=e.containerPadding,i=void 0===a?5:a,o=e.popperConfig,l=void 0===o?{}:o,c=e.transition,d=ml(),u=d[0],m=d[1],h=ml(),f=h[0],p=h[1],g=Yc(m,t),v=qc(e.container),x=qc(e.target),y=Ke.useState(!e.show),b=y[0],w=y[1],j=function(e,t,n){var r=void 0===n?{}:n,s=r.enabled,a=void 0===s||s,i=r.placement,o=void 0===i?"bottom":i,l=r.strategy,c=void 0===l?"absolute":l,d=r.modifiers,u=void 0===d?Cc:d,m=dt(r,["enabled","placement","strategy","modifiers"]),h=Ke.useRef(),f=Ke.useCallback(function(){var e;null==(e=h.current)||e.update()},[]),p=Ke.useCallback(function(){var e;null==(e=h.current)||e.forceUpdate()},[]),g=hl(Ke.useState({placement:o,update:f,forceUpdate:p,attributes:{},styles:{popper:Dc(c),arrow:{}}})),v=g[0],x=g[1],y=Ke.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach(function(e){n[e]=t.styles[e],r[e]=t.attributes[e]}),x({state:t,styles:n,attributes:r,update:f,forceUpdate:p,placement:t.placement})}}},[f,p,x]);return Ke.useEffect(function(){h.current&&a&&h.current.setOptions({placement:o,strategy:c,modifiers:[].concat(u,[y,Tc])})},[c,o,y,a]),Ke.useEffect(function(){if(a&&null!=e&&null!=t)return h.current=Ec(e,t,ft({},m,{placement:o,strategy:c,modifiers:[].concat(u,[Mc,y])})),function(){null!=h.current&&(h.current.destroy(),h.current=void 0,x(function(e){return ft({},e,{attributes:{},styles:{popper:Dc(c)}})}))}},[a,e,t]),v}(x,u,Fc({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:n,offset:r,arrowElement:f,popperConfig:l})),N=j.styles,k=j.attributes,S=dt(j,["styles","attributes"]);e.show?b&&w(!1):e.transition||b||w(!0);var _,E,D,T,M,C,O,A,P,R,I,L,F=e.show||c&&!b;if(_=u,E=e.onHide,D={disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent},M=(T=void 0===D?{}:D).disabled,C=T.clickTrigger,O=void 0===C?"click":C,A=Ke.useRef(!1),P=E||Rc,R=Ke.useCallback(function(e){var t,n,r=Lc(_);Ac(!!r,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),A.current=!(r&&(n=e,!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey))&&function(e){return 0===e.button}(e)&&!Wo(r,null!=(t=null==e.composedPath?void 0:e.composedPath()[0])?t:e.target))},[_]),I=ul(function(e){A.current||P(e)}),L=ul(function(e){27===e.keyCode&&P(e)}),Ke.useEffect(function(){if(!M&&null!=_){var e=window.event,t=Pc(Lc(_)),n=Oc(t,O,R,!0),r=Oc(t,O,function(t){t!==e?I(t):e=void 0}),s=Oc(t,"keyup",function(t){t!==e?L(t):e=void 0}),a=[];return"ontouchstart"in t.documentElement&&(a=[].slice.call(t.body.children).map(function(e){return Oc(e,"mousemove",Rc)})),function(){n(),r(),s(),a.forEach(function(e){return e()})}}},[_,M,O,R,I,L]),!F)return null;var z=e.children(ft({},S,{show:!!e.show,props:ft({},k.popper,{style:N.popper,ref:g}),arrowProps:ft({},k.arrow,{style:N.arrow,ref:p})}));if(c){var U=e.onExit,q=e.onExiting,B=e.onEnter,Y=e.onEntering,W=e.onEntered;z=Xe.createElement(c,{in:e.show,appear:!0,onExit:U,onExiting:q,onExited:function(){w(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:B,onEntering:Y,onEntered:W},z)}return v?Je.createPortal(z,v):null});function Hc(e,t){var n=Ho(e);return n?n.innerHeight:Ko(e).height}function Vc(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(il(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}Wc.displayName="Overlay",Wc.propTypes={show:xt.bool,placement:xt.oneOf(Sl),target:xt.any,container:xt.any,flip:xt.bool,children:xt.func.isRequired,containerPadding:xt.number,popperConfig:xt.object,rootClose:xt.bool,rootCloseEvent:xt.oneOf(["click","mousedown"]),rootCloseDisabled:xt.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s;return e.rootClose?(s=xt.func).isRequired.apply(s,[e].concat(n)):xt.func.apply(xt,[e].concat(n))},transition:xt.elementType,onEnter:xt.func,onEntering:xt.func,onEntered:xt.func,onExit:xt.func,onExiting:xt.func,onExited:xt.func};var $c=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Gc(e,t){return e===t||!(!$c(e)||!$c(t))}function Kc(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Gc(e[n],t[n]))return!1;return!0}function Qc(e,t){void 0===t&&(t=Kc);var n=null;function r(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}function Xc(e,t){var n=Ho(e);return n?n.innerWidth:Ko(e).width}function Zc(e){return Ti(e)||To(e)||Ci(e)||Oi()}var Jc=yt,ed=bt,td=gt,nd=wt,rd=Object.prototype,sd=rd.hasOwnProperty;const ad=Ze(Jc(function(e,t){e=Object(e);var n=-1,r=t.length,s=r>2?t[2]:void 0;for(s&&td(t[0],t[1],s)&&(r=1);++n<r;)for(var a=t[n],i=nd(a),o=-1,l=i.length;++o<l;){var c=i[o],d=e[c];(void 0===d||ed(d,rd[c])&&!sd.call(e,c))&&(e[c]=a[c])}return e}));var id=jt,od=Nt,ld=kt,cd=St,dd=_t,ud=Ct,md=Et,hd=Dt,fd=Tt,pd=Mt;const gd=Ze(function(e,t,n){var r=ud(e),s=r||md(e)||pd(e);if(t=cd(t),null==n){var a=e&&e.constructor;n=s?r?new a:[]:fd(e)&&hd(a)?od(dd(e)):{}}return(s?id:ld)(e,function(e,r,s){return t(n,e,r,s)}),n});function vd(e){return e.children}!function(){var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g}();var xd="PREV",yd="NEXT",bd="TODAY",wd="DATE",jd={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Nd=Object.keys(jd).map(function(e){return jd[e]});xt.oneOfType([xt.string,xt.func]),xt.any,xt.func,xt.oneOfType([xt.arrayOf(xt.oneOf(Nd)),xt.objectOf(function(e,t){if(-1!==Nd.indexOf(t)&&"boolean"==typeof e[t])return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return xt.elementType.apply(xt,[e,t].concat(r))})]),xt.oneOfType([xt.oneOf(["overlap","no-overlap"]),xt.func]);var kd={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function Sd(e,t){var n=ao(e,"month");return ao(n,"week",t.startOfWeek())}function _d(e,t){var n=io(e,"month");return io(n,"week",t.startOfWeek())}function Ed(e,t){for(var n=Sd(e,t),r=_d(e,t),s=[];ho(n,r,"day");)s.push(n),n=ro(n,1,"day");return s}function Dd(e,t){var n=ao(e,t);return oo(n,e)?n:ro(n,1,t)}function Td(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,s=[];ho(r,t,n);)s.push(r),r=ro(r,1,n);return s}function Md(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=ao(e,"day"),e=bo(e,bo(t)),e=yo(e,yo(t)),e=xo(e,xo(t)),vo(e,vo(t)))}function Cd(e){return 0===bo(e)&&0===yo(e)&&0===xo(e)&&0===vo(e)}function Od(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+ao(e,n)/kd[n]-+ao(t,n)/kd[n])):Math.abs(+e-+t)}var Ad=xt.oneOfType([xt.string,xt.func]);function Pd(e,t,n,r,s){var a="function"==typeof r?r(n,s,e):t.call(e,n,r,s);return Li(null==a||"string"==typeof a,"`localizer format(..)` must return a string, null, or undefined"),a}function Rd(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Id(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Ld(e,t){return Od(e,t,"minutes")+Id(e,t)}function Fd(e){var t=ao(e,"day");return Od(t,e,"minutes")+Id(t,e)}function zd(e,t){return mo(e,t,"day")}function Ud(e,t,n){return oo(e,t,"minutes")?uo(t,n,"minutes"):co(t,n,"minutes")}function qd(e,t){return function(e,t,n,r){return"day"===n&&(n="date"),Math.abs(Do[n](e,void 0,r)-Do[n](t,void 0,r))}(e,t,"day")}function Bd(e){var t=e.evtA,n=t.start,r=t.end,s=t.allDay,a=e.evtB,i=a.start,o=a.end,l=a.allDay,c=+ao(n,"day")-+ao(i,"day"),d=qd(n,r),u=qd(i,o);return c||u-d||!!l-!!s||+n-+i||+r-+o}function Yd(e){var t=e.event,n=t.start,r=t.end,s=e.range,a=s.start,i=s.end,o=ao(n,"day"),l=ho(o,i,"day"),c=lo(o,r,"minutes")?co(r,a,"minutes"):uo(r,a,"minutes");return l&&c}function Wd(e,t){return oo(e,t,"day")}function Hd(e,t){return Cd(e)&&Cd(t)}var Vd=ki(function e(t){var n=this;ji(this,e),Li("function"==typeof t.format,"date localizer `format(..)` must be a function"),Li("function"==typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Ad,this.formats=t.formats,this.format=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return Pd.apply(void 0,[n,t.format].concat(r))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Md,this.inRange=t.inRange||go,this.lt=t.lt||mo,this.lte=t.lte||ho,this.gt=t.gt||co,this.gte=t.gte||uo,this.eq=t.eq||oo,this.neq=t.neq||lo,this.startOf=t.startOf||ao,this.endOf=t.endOf||io,this.add=t.add||ro,this.range=t.range||Td,this.diff=t.diff||Od,this.ceil=t.ceil||Dd,this.min=t.min||fo,this.max=t.max||po,this.minutes=t.minutes||yo,this.daySpan=t.daySpan||qd,this.firstVisibleDay=t.firstVisibleDay||Sd,this.lastVisibleDay=t.lastVisibleDay||_d,this.visibleDays=t.visibleDays||Ed,this.getSlotDate=t.getSlotDate||Rd,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Id,this.getTotalMin=t.getTotalMin||Ld,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Fd,this.continuesPrior=t.continuesPrior||zd,this.continuesAfter=t.continuesAfter||Ud,this.sortEvents=t.sortEvents||Bd,this.inEventRange=t.inEventRange||Yd,this.isSameDate=t.isSameDate||Wd,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Hd,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function $d(e,t,n,r){var s=bi(bi({},e.formats),n);return bi(bi({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,r){return e.format(n,s[r]||r,t)}})}var Gd=function(){function e(){var t;ji(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Ei(this,e,[].concat(r))).navigate=function(e){t.props.onNavigate(e)},t.view=function(e){t.props.onView(e)},t}return Di(e,Xe.Component),ki(e,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,n=e.label;return Xe.createElement("div",{className:"rbc-toolbar"},Xe.createElement("span",{className:"rbc-btn-group"},Xe.createElement("button",{type:"button",onClick:this.navigate.bind(null,bd)},t.today),Xe.createElement("button",{type:"button",onClick:this.navigate.bind(null,xd)},t.previous),Xe.createElement("button",{type:"button",onClick:this.navigate.bind(null,yd)},t.next)),Xe.createElement("span",{className:"rbc-toolbar-label"},n),Xe.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,n=this.props.views,r=this.props.view;if(n.length>1)return n.map(function(n){return Xe.createElement("button",{type:"button",key:n,className:Ri({"rbc-active":r===n}),onClick:t.view.bind(null,n)},e[n])})}}])}();function Kd(e,t){e&&e.apply(null,[].concat(t))}var Qd={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var Xd=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Zd=function(){function e(){return ji(this,e),Ei(this,e,arguments)}return Di(e,Xe.Component),ki(e,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=e.event,s=e.selected,a=e.isAllDay,i=e.onSelect,o=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,d=e.continuesPrior,u=e.continuesAfter,m=e.accessors,h=e.getters,f=e.children,p=e.components,g=p.event,v=p.eventWrapper,x=e.slotStart,y=e.slotEnd,b=wi(e,Xd);delete b.resizable;var w=m.title(r),j=m.tooltip(r),N=m.end(r),k=m.start(r),S=m.allDay(r),_=a||S||c.diff(k,c.ceil(N,"day"),"day")>1,E=h.eventProp(r,k,N,s),D=Xe.createElement("div",{className:"rbc-event-content",title:j||void 0},g?Xe.createElement(g,{event:r,continuesPrior:d,continuesAfter:u,title:w,isAllDay:S,localizer:c,slotStart:x,slotEnd:y}):w);return Xe.createElement(v,Object.assign({},this.props,{type:"date"}),Xe.createElement("div",Object.assign({},b,{style:bi(bi({},E.style),t),className:Ri("rbc-event",n,E.className,{"rbc-selected":s,"rbc-event-allday":_,"rbc-event-continues-prior":d,"rbc-event-continues-after":u}),onClick:function(e){return i&&i(r,e)},onDoubleClick:function(e){return o&&o(r,e)},onKeyDown:function(e){return l&&l(r,e)}}),"function"==typeof f?f(D):D))}}])}();function Jd(e,t){return!(!e||null==t)&&Ot(e,t)}function eu(e,t){return(e.right-e.left)/t}function tu(e,t,n,r){var s=eu(e,r);return n?r-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function nu(e){var t,n,r,s=e.containerRef,a=e.accessors,i=e.getters,o=e.selected,l=e.components,c=e.localizer,d=e.position,u=e.show,m=e.events,h=e.slotStart,f=e.slotEnd,p=e.onSelect,g=e.onDoubleClick,v=e.onKeyPress,x=e.handleDragStart,y=e.popperRef,b=e.target,w=e.offset;n=(t={ref:y,callback:u}).ref,r=t.callback,Ke.useEffect(function(){var e=function(e){n.current&&!n.current.contains(e.target)&&r()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[n,r]),Ke.useLayoutEffect(function(){var e=function(e){var t=e.target,n=e.offset,r=e.container,s=e.box,a=Ko(t),i=a.top,o=a.left,l=a.width,c=a.height,d=Ko(r),u=d.top,m=d.left,h=d.width,f=d.height,p=Ko(s),g=p.width,v=p.height,x=u+f,y=m+h,b=i+v,w=o+g,j=n.x,N=n.y;return{topOffset:b>x?i-v-N:i+N+c,leftOffset:w>y?o+j-g+l:o+j}}({target:b,offset:w,container:s.current,box:y.current}),t=e.topOffset,n=e.leftOffset;y.current.style.top="".concat(t,"px"),y.current.style.left="".concat(n,"px")},[w.x,w.y,b]);var j=d.width,N={minWidth:j+j/2};return Xe.createElement("div",{style:N,className:"rbc-overlay",ref:y},Xe.createElement("div",{className:"rbc-overlay-header"},c.format(h,"dayHeaderFormat")),m.map(function(e,t){return Xe.createElement(Zd,{key:t,type:"popup",localizer:c,event:e,getters:i,onSelect:p,accessors:a,components:l,onDoubleClick:g,onKeyPress:v,continuesPrior:c.lt(a.end(e),h,"day"),continuesAfter:c.gte(a.start(e),f,"day"),slotStart:h,slotEnd:f,selected:Jd(e,o),draggable:!0,onDragStart:function(){return x(e)},onDragEnd:function(){return u()}})}))}var ru=Xe.forwardRef(function(e,t){return Xe.createElement(nu,Object.assign({},e,{popperRef:t}))});function su(e){var t=e.containerRef,n=e.popupOffset,r=void 0===n?5:n,s=e.overlay,a=e.accessors,i=e.localizer,o=e.components,l=e.getters,c=e.selected,d=e.handleSelectEvent,u=e.handleDoubleClickEvent,m=e.handleKeyPressEvent,h=e.handleDragStart,f=e.onHide,p=e.overlayDisplay,g=Ke.useRef(null);if(!s.position)return null;var v=r;isNaN(r)||(v={x:r,y:r});var x=s.position,y=s.events,b=s.date,w=s.end;return Xe.createElement(Wc,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:f,target:s.target},function(e){var n=e.props;return Xe.createElement(ru,Object.assign({},n,{containerRef:t,ref:g,target:s.target,offset:v,accessors:a,getters:l,selected:c,components:o,localizer:i,position:x,show:p,events:y,slotStart:b,slotEnd:w,onSelect:d,onDoubleClick:u,onKeyPress:m,handleDragStart:h}))})}ru.propTypes={accessors:xt.object.isRequired,getters:xt.object.isRequired,selected:xt.object,components:xt.object.isRequired,localizer:xt.object.isRequired,position:xt.object.isRequired,show:xt.func.isRequired,events:xt.array.isRequired,slotStart:xt.instanceOf(Date).isRequired,slotEnd:xt.instanceOf(Date),onSelect:xt.func,onDoubleClick:xt.func,onKeyPress:xt.func,handleDragStart:xt.func,style:xt.object,offset:xt.shape({x:xt.number,y:xt.number})};var au=Xe.forwardRef(function(e,t){return Xe.createElement(su,Object.assign({},e,{containerRef:t}))});function iu(e,t){return Oc(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,e,t,{passive:!1})}function ou(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return Vc(document.elementFromPoint(n,r),".rbc-event",e)}(e,t)}function lu(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return Vc(document.elementFromPoint(n,r),".rbc-show-more",e)}(e,t)}function cu(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}au.propTypes={popupOffset:xt.oneOfType([xt.number,xt.shape({x:xt.number,y:xt.number})]),overlay:xt.shape({position:xt.object,events:xt.array,date:xt.instanceOf(Date),end:xt.instanceOf(Date)}),accessors:xt.object.isRequired,localizer:xt.object.isRequired,components:xt.object.isRequired,getters:xt.object.isRequired,selected:xt.object,handleSelectEvent:xt.func,handleDoubleClickEvent:xt.func,handleKeyPressEvent:xt.func,handleDragStart:xt.func,onHide:xt.func,overlayDisplay:xt.func};var du=function(){return ki(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.global,s=void 0!==r&&r,a=n.longPressThreshold,i=void 0===a?250:a,o=n.validContainers,l=void 0===o?[]:o;ji(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=iu("touchmove",function(){},window),this._removeKeyDownListener=iu("keydown",this._keyListener),this._removeKeyUpListener=iu("keyup",this._keyListener),this._removeDropFromOutsideListener=iu("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=iu("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()},[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s;return(this._listeners[e]||[]).forEach(function(e){void 0===s&&(s=e.apply(void 0,n))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&uu(t,mu(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,r=null,s=null,a=null,i=function(t){r=setTimeout(function(){l(),e(t)},n.longPressThreshold),s=iu("touchmove",function(){return l()}),a=iu("touchend",function(){return l()})},o=iu("touchstart",i),l=function(){r&&clearTimeout(r),s&&s(),a&&a(),r=null,s=null,a=null};return t&&i(t),function(){l(),o()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=iu("mousedown",function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=iu("mousedown",e._handleInitialEvent)}),n=iu("touchstart",function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=cu(e),n=t.pageX,r=t.pageY,s=t.clientX,a=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:s,clientY:a}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=cu(e),n=t.pageX,r=t.pageY,s=t.clientX,a=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:s,clientY:a}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,n=cu(e),r=n.clientX,s=n.clientY,a=n.pageX,i=n.pageY,o=this.container();if(3!==e.which&&2!==e.button&&(c=r,d=s,!(l=o)||Wo(l,document.elementFromPoint(c,d)))){var l,c,d;if(!this.globalMouse&&o&&!Wo(o,e.target)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==gi(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),m=u.top,h=u.left,f=u.bottom,p=u.right;if(!uu({top:(t=mu(o)).top-m,left:t.left-h,bottom:t.bottom+f,right:t.right+p},{top:i,left:a}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:a,y:i,clientX:r,clientY:s}))switch(e.type){case"mousedown":this._removeEndListener=iu("mouseup",this._handleTerminatingEvent),this._onEscListener=iu("keydown",this._handleTerminatingEvent),this._removeMoveListener=iu("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=iu("touchend",this._handleTerminatingEvent),this._removeMoveListener=iu("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,n=this.validContainers;return!(n&&n.length&&t)||n.some(function(e){return!!t.closest(e)})}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,n=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var r=!this.container||Wo(this.container(),e.target),s=this._isWithinValidContainer(e);return"Escape"!==e.key&&s?!t&&r?this._handleClickEvent(e):t?this.emit("select",n):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=cu(e),n=t.pageX,r=t.pageY,s=t.clientX,a=t.clientY,i=(new Date).getTime();return this._lastClickData&&i-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:s,clientY:a})):(this._lastClickData={timestamp:i},this.emit("click",{x:n,y:r,clientX:s,clientY:a}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,s=cu(e),a=s.pageX,i=s.pageY,o=Math.abs(n-a),l=Math.abs(r-i),c=Math.min(a,n),d=Math.min(i,r),u=this.selecting,m=this.isClick(a,i);(!m||u||o||l)&&(u||m||this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:d,left:c,x:a,y:i,right:c+o,bottom:d+l},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,r=n.x,s=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-s)<=5}}])}();function uu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=mu(e),s=r.top,a=r.left,i=r.right,o=void 0===i?a:i,l=r.bottom,c=void 0===l?s:l,d=mu(t),u=d.top,m=d.left,h=d.right,f=void 0===h?m:h,p=d.bottom;return!(c-n<u||s+n>(void 0===p?u:p)||o-n<m||a+n>f)}function mu(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+hu("left"),r=t.top+hu("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function hu(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var fu=function(){function e(t,n){var r;return ji(this,e),(r=Ei(this,e,[t,n])).state={selecting:!1},r.containerRef=Ke.createRef(),r}return Di(e,Xe.Component),ki(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,n=e.getNow,r=e.getters,s=e.date,a=e.components.dateCellWrapper,i=e.localizer,o=this.state,l=o.selecting,c=o.startIdx,d=o.endIdx,u=n();return Xe.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map(function(e,n){var o=l&&n>=c&&n<=d,m=r.dayProp(e),h=m.className,f=m.style;return Xe.createElement(a,{key:n,value:e,range:t},Xe.createElement("div",{style:f,className:Ri("rbc-day-bg",h,o&&"rbc-selected-cell",i.isSameDate(e,u)&&"rbc-today",s&&i.neq(s,e,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,n=this._selector=new du(this.props.container,{longPressThreshold:this.props.longPressThreshold}),r=function(n,r){if(!ou(t,n)&&!lu(t,n)){var s=mu(t),a=e.props,i=a.range,o=a.rtl;if(c=s,u=(d=n).x,(m=d.y)>=c.top&&m<=c.bottom&&u>=c.left&&u<=c.right){var l=tu(s,n.x,o,i.length);e._selectSlot({startIdx:l,endIdx:l,action:r,box:n})}}var c,d,u,m;e._initial={},e.setState({selecting:!1})};n.on("selecting",function(r){var s=e.props,a=s.range,i=s.rtl,o=-1,l=-1;if(e.state.selecting||(Kd(e.props.onSelectStart,[r]),e._initial={x:r.x,y:r.y}),n.isSelected(t)){var c=mu(t),d=function(e,t,n,r,s){var a=-1,i=-1,o=r-1,l=eu(t,r),c=tu(t,n.x,s,r),d=t.top<n.y&&t.bottom>n.y,u=t.top<e.y&&t.bottom>e.y,m=e.y>t.bottom,h=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(a=0,i=o),d&&(h?(a=0,i=c):m&&(a=c,i=o)),u&&(a=i=s?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?c<a?a=c:i=c:e.y<n.y?i=o:a=0),{startIdx:a,endIdx:i}}(e._initial,c,r,a.length,i);o=d.startIdx,l=d.endIdx}e.setState({selecting:!0,startIdx:o,endIdx:l})}),n.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!ou(e.containerRef.current,t)}),n.on("click",function(e){return r(e,"click")}),n.on("doubleClick",function(e){return r(e,"doubleClick")}),n.on("select",function(t){e._selectSlot(bi(bi({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),Kd(e.props.onSelectEnd,[e.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,n=e.startIdx,r=e.action,s=e.bounds,a=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:r,bounds:s,box:a,resourceId:this.props.resourceId})}}])}(),pu=(xt.object.isRequired,xt.object,xt.bool,xt.object.isRequired,xt.object.isRequired,xt.object.isRequired,xt.object.isRequired,xt.func,xt.func,xt.func,{segments:[],selected:{}}),gu=function(e,t){var n=e.selected;e.isAllDay;var r=e.accessors,s=e.getters,a=e.onSelect,i=e.onDoubleClick,o=e.onKeyPress,l=e.localizer,c=e.slotMetrics,d=e.components,u=e.resizable,m=c.continuesPrior(t),h=c.continuesAfter(t);return Xe.createElement(Zd,{event:t,getters:s,localizer:l,accessors:r,components:d,onSelect:a,onDoubleClick:i,onKeyPress:o,continuesPrior:m,continuesAfter:h,slotStart:c.first,slotEnd:c.last,selected:Jd(t,n),resizable:u})},vu=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",s=Math.abs(t)/e*100+"%";return Xe.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},r)},xu=function(){function e(){return ji(this,e),Ei(this,e,arguments)}return Di(e,Xe.Component),ki(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.segments,r=t.slotMetrics.slots,s=t.className,a=1;return Xe.createElement("div",{className:Ri(s,"rbc-row")},n.reduce(function(t,n,s){var i=n.event,o=n.left,l=n.right,c=n.span,d="_lvl_"+s,u=o-a,m=gu(e.props,i);return u&&t.push(vu(r,u,"".concat(d,"_gap"))),t.push(vu(r,c,d,m)),a=l+1,t},[]))}}])}();function yu(e){var t=e.dateRange,n=e.unit,r=void 0===n?"day":n,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,r)}}function bu(e){var t,n,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,a=[],i=[];for(t=0;t<e.length;t++){for(r=e[t],n=0;n<a.length&&ju(r,a[n]);n++);n>=s?i.push(r):(a[n]||(a[n]=[])).push(r)}for(t=0;t<a.length;t++)a[t].sort(function(e,t){return e.left-t.left});return{levels:a,extra:i}}function wu(e,t,n,r,s){var a={start:r.start(e),end:r.end(e)},i={start:t,end:n};return s.inEventRange({event:a,range:i})}function ju(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}function Nu(e,t,n,r){var s={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},a={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:s,evtB:a})}xu.defaultProps=bi({},pu);var ku=function(e,t){return e.left<=t&&e.right>=t},Su=function(e,t){return e.filter(function(e){return ku(e,t)}).map(function(e){return e.event})},_u=function(){function e(){return ji(this,e),Ei(this,e,arguments)}return Di(e,Xe.Component),ki(e,[{key:"render",value:function(){for(var e=this.props,t=e.segments,n=e.slotMetrics.slots,r=bu(t).levels[0],s=1,a=1,i=[];s<=n;){var o="_lvl_"+s,l=r.filter(function(e){return ku(e,s)})[0]||{},c=l.event,d=l.left,u=l.right,m=l.span;if(c){var h=Math.max(0,d-a);if(this.canRenderSlotEvent(d,m)){var f=gu(this.props,c);h&&i.push(vu(n,h,o+"_gap")),i.push(vu(n,m,o,f)),a=s=u+1}else h&&i.push(vu(n,h,o+"_gap")),i.push(vu(n,1,o,this.renderShowMore(t,s))),a=s+=1}else s++}return Xe.createElement("div",{className:"rbc-row"},i)}},{key:"canRenderSlotEvent",value:function(e,t){var n=this.props.segments;return At(e,e+t).every(function(e){return 1===Su(n,e).length})}},{key:"renderShowMore",value:function(e,t){var n=this,r=this.props,s=r.localizer,a=r.slotMetrics,i=r.components,o=a.getEventsForSlot(t),l=Su(e,t),c=l.length;if(null!=i&&i.showMore){var d=i.showMore,u=a.getDateForSlot(t-1);return!!c&&Xe.createElement(d,{localizer:s,slotDate:u,slot:t,count:c,events:o,remainingEvents:l})}return!!c&&Xe.createElement("button",{type:"button",key:"sm_"+t,className:Ri("rbc-button-link","rbc-show-more"),onClick:function(e){return n.showMore(t,e)}},s.messages.showMore(c,l,o))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}();_u.defaultProps=bi({},pu);var Eu=function(e){var t=e.children;return Xe.createElement("div",{className:"rbc-row-content-scroll-container"},t)},Du=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function Tu(){return Qc(function(e){for(var t=e.range,n=e.events,r=e.maxRows,s=e.minRows,a=e.accessors,i=e.localizer,o=yu({dateRange:t,localizer:i}),l=o.first,c=o.last,d=n.map(function(e){return function(e,t,n,r){var s=yu({dateRange:t,localizer:r}),a=s.first,i=s.last,o=r.diff(a,i,"day"),l=r.max(r.startOf(n.start(e),"day"),a),c=r.min(r.ceil(n.end(e),"day"),i),d=Ft(t,function(e){return r.isSameDate(e,l)}),u=r.diff(l,c,"day");return u=Math.min(u,o),{event:e,span:u=Math.max(u-r.segmentOffset,1),left:d+1,right:Math.max(d+u,1)}}(e,t,a,i)}),u=bu(d,Math.max(r-1,1)),m=u.levels,h=u.extra,f=h.length>0?s-1:s;m.length<f;)m.push([]);return{first:l,last:c,levels:m,extra:h,range:t,slots:t.length,clone:function(t){return Tu()(bi(bi({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find(function(t){return i.isSameDate(t,e)})},getEventsForSlot:function(e){return d.filter(function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)}).map(function(e){return e.event})},continuesPrior:function(e){return i.continuesPrior(a.start(e),l)},continuesAfter:function(e){var t=a.start(e),n=a.end(e);return i.continuesAfter(t,n,c)}}},Du)}var Mu=function(){function e(){var t;ji(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Ei(this,e,[].concat(r))).handleSelectSlot=function(e){var n=t.props,r=n.range;(0,n.onSelectSlot)(r.slice(e.start,e.end+1),e)},t.handleShowMore=function(e,n){var r,s,a,i=t.props,o=i.range,l=i.onShowMore,c=t.slotMetrics(t.props),d=(r=t.containerRef.current,s=".rbc-row-bg",ol(r.querySelectorAll(s)))[0];d&&(a=d.children[e-1]),l(c.getEventsForSlot(e),o[e-1],a,e,n)},t.getContainer=function(){var e=t.props.container;return e?e():t.containerRef.current},t.renderHeadingCell=function(e,n){var r=t.props,s=r.renderHeader,a=r.getNow,i=r.localizer;return s({date:e,key:"header_".concat(n),className:Ri("rbc-date-cell",i.isSameDate(e,a())&&"rbc-now")})},t.renderDummy=function(){var e=t.props,n=e.className,r=e.range,s=e.renderHeader,a=e.showAllEvents;return Xe.createElement("div",{className:n,ref:t.containerRef},Xe.createElement("div",{className:Ri("rbc-row-content",a&&"rbc-row-content-scrollable")},s&&Xe.createElement("div",{className:"rbc-row",ref:t.headingRowRef},r.map(t.renderHeadingCell)),Xe.createElement("div",{className:"rbc-row",ref:t.eventRowRef},Xe.createElement("div",{className:"rbc-row-segment"},Xe.createElement("div",{className:"rbc-event"},Xe.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=Ke.createRef(),t.headingRowRef=Ke.createRef(),t.eventRowRef=Ke.createRef(),t.slotMetrics=Tu(),t}return Di(e,Xe.Component),ki(e,[{key:"getRowLimit",value:function(){var e,t=Hc(this.eventRowRef.current),n=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?Hc(this.headingRowRef.current):0,r=Hc(this.containerRef.current)-n;return Math.max(Math.floor(r/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.rtl,r=e.range,s=e.className,a=e.selected,i=e.selectable,o=e.renderForMeasure,l=e.accessors,c=e.getters,d=e.components,u=e.getNow,m=e.renderHeader,h=e.onSelect,f=e.localizer,p=e.onSelectStart,g=e.onSelectEnd,v=e.onDoubleClick,x=e.onKeyPress,y=e.resourceId,b=e.longPressThreshold,w=e.isAllDay,j=e.resizable,N=e.showAllEvents;if(o)return this.renderDummy();var k=this.slotMetrics(this.props),S=k.levels,_=k.extra,E=N?Eu:vd,D=d.weekWrapper,T={selected:a,accessors:l,getters:c,localizer:f,components:d,onSelect:h,onDoubleClick:v,onKeyPress:x,resourceId:y,slotMetrics:k,resizable:j};return Xe.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},Xe.createElement(fu,{localizer:f,date:t,getNow:u,rtl:n,range:r,selectable:i,container:this.getContainer,getters:c,onSelectStart:p,onSelectEnd:g,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:b,resourceId:y}),Xe.createElement("div",{className:Ri("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},m&&Xe.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},r.map(this.renderHeadingCell)),Xe.createElement(E,null,Xe.createElement(D,Object.assign({isAllDay:w},T,{rtl:this.props.rtl}),S.map(function(e,t){return Xe.createElement(xu,Object.assign({key:t,segments:e},T))}),!!_.length&&Xe.createElement(_u,Object.assign({segments:_,onShowMore:this.handleShowMore},T))))))}}])}();Mu.defaultProps={minRows:0,maxRows:1/0};var Cu=function(e){var t=e.label;return Xe.createElement("span",{role:"columnheader","aria-sort":"none"},t)},Ou=function(e){var t=e.label,n=e.drilldownView,r=e.onDrillDown;return n?Xe.createElement("button",{type:"button",className:"rbc-button-link",onClick:r},t):Xe.createElement("span",null,t)},Au=["date","className"],Pu=function(){function e(){var t;ji(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Ei(this,e,[].concat(r))).getContainer=function(){return t.containerRef.current},t.renderWeek=function(e,n){var r=t.props,s=r.events,a=r.components,i=r.selectable,o=r.getNow,l=r.selected,c=r.date,d=r.localizer,u=r.longPressThreshold,m=r.accessors,h=r.getters,f=r.showAllEvents,p=t.state,g=p.needLimitMeasure,v=p.rowLimit,x=function(e,t,n,r,s){return e.filter(function(e){return wu(e,t,n,r,s)})}(Mo(s),e[0],e[e.length-1],m,d),y=function(e,t,n){var r=Mo(e),s=[],a=[];r.forEach(function(e){var r=t.start(e),i=t.end(e);n.daySpan(r,i)>1?s.push(e):a.push(e)});var i=s.sort(function(e,r){return Nu(e,r,t,n)}),o=a.sort(function(e,r){return Nu(e,r,t,n)});return[].concat(Mo(i),Mo(o))}(x,m,d);return Xe.createElement(Mu,{key:n,ref:0===n?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:o,date:c,range:e,events:y,maxRows:f?1/0:v,selected:l,selectable:i,components:a,accessors:m,getters:h,localizer:d,renderHeader:t.readerDateHeading,renderForMeasure:g,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:u,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:f})},t.readerDateHeading=function(e){var n=e.date,r=e.className,s=wi(e,Au),a=t.props,i=a.date,o=a.getDrilldownView,l=a.localizer,c=l.neq(n,i,"month"),d=l.isSameDate(n,i),u=o(n),m=l.format(n,"dateFormat"),h=t.props.components.dateHeader||Ou;return Xe.createElement("div",Object.assign({},s,{className:Ri(r,c&&"rbc-off-range",d&&"rbc-current"),role:"cell"}),Xe.createElement(h,{label:m,date:n,drilldownView:u,isOffRange:c,onDrillDown:function(e){return t.handleHeadingClick(n,u,e)}}))},t.handleSelectSlot=function(e,n){t._pendingSelection=t._pendingSelection.concat(e),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(n)})},t.handleHeadingClick=function(e,n,r){r.preventDefault(),t.clearSelection(),Kd(t.props.onDrillDown,[e,n])},t.handleSelectEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onSelectEvent,n)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onDoubleClickEvent,n)},t.handleKeyPressEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onKeyPressEvent,n)},t.handleShowMore=function(e,n,r,s,a){var i=t.props,o=i.popup,l=i.onDrillDown,c=i.onShowMore,d=i.getDrilldownView,u=i.doShowMoreDrillDown;if(t.clearSelection(),o){var m=Xo(r,t.containerRef.current);t.setState({overlay:{date:n,events:e,position:m,target:a}})}else u&&Kd(l,[n,d(n)||jd.DAY]);Kd(c,[e,n,s])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=Ke.createRef(),t.slotRowRef=Ke.createRef(),t._bgRows=[],t._pendingSelection=[],t}return Di(e,Xe.Component),ki(e,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||al(function(){e=!1,t.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.localizer,r=e.className,s=n.visibleDays(t,n),a=Io(s,7);return this._weekCount=a.length,Xe.createElement("div",{className:Ri("rbc-month-view",r),role:"table","aria-label":"Month View",ref:this.containerRef},Xe.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(a[0])),a.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,n=t.localizer,r=t.components,s=e[0],a=e[e.length-1],i=r.header||Cu;return n.range(s,a,"day").map(function(e,t){return Xe.createElement("div",{key:"header_"+t,className:"rbc-header"},Xe.createElement(i,{date:e,localizer:n,label:n.format(e,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var e,t,n=this,r=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},s=this.props,a=s.accessors,i=s.localizer,o=s.components,l=s.getters,c=s.selected,d=s.popupOffset,u=s.handleDragStart;return Xe.createElement(au,{overlay:r,accessors:a,localizer:i,components:o,getters:l,selected:c,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:u,show:!!r.position,overlayDisplay:this.overlayDisplay,onHide:function(){return n.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort(function(e,t){return+e-+t});var n=new Date(t[0]),r=new Date(t[t.length-1]);r.setDate(t[t.length-1].getDate()+1),Kd(this.props.onSelectSlot,{slots:t,start:n,end:r,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.date;return{date:n,needLimitMeasure:e.localizer.neq(n,t.date,"month")}}}])}();Pu.range=function(e,t){var n=t.localizer;return{start:n.firstVisibleDay(e,n),end:n.lastVisibleDay(e,n)}},Pu.navigate=function(e,t,n){var r=n.localizer;switch(t){case xd:return r.add(e,-1,"month");case yd:return r.add(e,1,"month");default:return e}},Pu.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var Ru=function(e){var t=e.min,n=e.max,r=e.step,s=e.slots,a=e.localizer;return"".concat(+a.startOf(t,"minutes"))+"".concat(+a.startOf(n,"minutes"))+"".concat(r,"-").concat(s)};function Iu(e){for(var t=e.min,n=e.max,r=e.step,s=e.timeslots,a=e.localizer,i=Ru({start:t,end:n,step:r,timeslots:s,localizer:a}),o=1+a.getTotalMin(t,n),l=a.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(r*s)),d=c*s,u=new Array(c),m=new Array(d),h=0;h<c;h++){u[h]=new Array(s);for(var f=0;f<s;f++){var p=h*s+f,g=p*r;m[p]=u[h][f]=a.getSlotDate(t,l,g)}}var v=m.length*r;function x(e){var n=a.diff(t,e,"minutes")+a.getDstOffset(t,e);return Math.min(n,o)}return m.push(a.getSlotDate(t,l,v)),{groups:u,update:function(e){return Ru(e)!==i?Iu(e):this},dateIsInGroup:function(e,t){var r=u[t+1];return a.inRange(e,u[t][0],r?r[0]:n,"minutes")},nextSlot:function(e){var t=m[Math.min(m.findIndex(function(t){return t===e||a.eq(t,e)})+1,m.length-1)];return a.eq(t,e)&&(t=a.add(e,r,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(m.length-1,Math.max(0,Math.floor(e*d)));return m[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(a.lt(e,t,"minutes"))return m[0];if(a.gt(e,n,"minutes"))return m[m.length-1];var i=a.diff(t,e,"minutes");return m[(i-i%r)/r+s]},startsBeforeDay:function(e){return a.lt(e,t,"day")},startsAfterDay:function(e){return a.gt(e,n,"day")},startsBefore:function(e){return a.lt(a.merge(t,e),t,"minutes")},startsAfter:function(e){return a.gt(a.merge(n,e),n,"minutes")},getRange:function(e,s,i,o){i||(e=a.min(n,a.max(t,e))),o||(s=a.min(n,a.max(t,s)));var l=x(e),c=x(s),u=c>r*d&&!a.eq(n,s)?(l-r)/(r*d)*100:l/(r*d)*100;return{top:u,height:c/(r*d)*100-u,start:x(e),startDate:e,end:x(s),endDate:s}},getCurrentTimePosition:function(e){return x(e)/(r*d)*100}}}var Lu=function(){return ki(function e(t,n){var r=n.accessors,s=n.slotMetrics;ji(this,e);var a=s.getRange(r.start(t),r.end(t)),i=a.start,o=a.startDate,l=a.end,c=a.endDate,d=a.top,u=a.height;this.start=i,this.end=l,this.startMs=+o,this.endMs=+c,this.top=d,this.height=u,this.data=t},[{key:"_width",get:function(){return this.rows?100/(this.rows.reduce(function(e,t){return Math.max(e,t.leaves.length+1)},0)+1):this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,r=e._width;return n+(t.indexOf(this)+1)*r}}])}();function Fu(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function zu(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,s=e.accessors,a=function(e){for(var t=zt(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var s=0;s<t.length;s++){var a=t[s];if(!(r.endMs>a.startMs)){if(s>0){var i=t.splice(s,1)[0];n.push(i)}break}}}return n}(t.map(function(e){return new Lu(e,{slotMetrics:r,accessors:s})})),i=[],o=function(){var e=a[l],t=i.find(function(t){return t.end>e.start||Math.abs(e.start-t.start)<n});if(!t)return e.rows=[],i.push(e),1;e.container=t;for(var r=null,s=t.rows.length-1;!r&&s>=0;s--)Fu(t.rows[s],e,n)&&(r=t.rows[s]);r?(r.leaves.push(e),e.row=r):(e.leaves=[],t.rows.push(e))},l=0;l<a.length;l++)o();return a.map(function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}})}function Uu(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var s=Uu(e.friends[r],t,n);t=t>s?t:s}return t}var qu={overlap:zu,"no-overlap":function(e){var t=zu({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort(function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0});for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var r=0;r<t.length-1;++r)for(var s=t[r],a=s.style.top,i=s.style.top+s.style.height,o=r+1;o<t.length;++o){var l=t[o],c=l.style.top,d=l.style.top+l.style.height;(c>=a&&d<=i||d>a&&d<=i||c>=a&&c<i)&&(s.friends.push(l),l.friends.push(s))}for(var u=0;u<t.length;++u){for(var m=t[u],h=[],f=0;f<100;++f)h.push(1);for(var p=0;p<m.friends.length;++p)void 0!==m.friends[p].idx&&(h[m.friends[p].idx]=0);m.idx=h.indexOf(1)}for(var g=0;g<t.length;++g){var v;if(!t[g].size){var x=[];v=100/(Uu(t[g],0,x)+1),t[g].size=v;for(var y=0;y<x.length;++y)x[y].size=v}}for(var b=0;b<t.length;++b){var w=t[b];w.style.left=w.idx*w.size;for(var j=0,N=0;N<w.friends.length;++N){var k=w.friends[N].idx;j=j>k?j:k}j<=w.idx&&(w.size=100-w.idx*w.size);var S=0===w.idx?0:3;w.style.width="calc(".concat(w.size,"% - ").concat(S,"px)"),w.style.height="calc(".concat(w.style.height,"% - 2px)"),w.style.xOffset="calc(".concat(w.style.left,"% + ").concat(S,"px)")}return t}};var Bu=function(){function e(){return ji(this,e),Ei(this,e,arguments)}return Di(e,Ke.Component),ki(e,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,n=e.resource,r=e.group,s=e.getters,a=e.components,i=(void 0===a?{}:a).timeSlotWrapper,o=void 0===i?vd:i,l=s?s.slotGroupProp(r):{};return Xe.createElement("div",Object.assign({className:"rbc-timeslot-group"},l),r.map(function(e,r){var a=s?s.slotProp(e,n):{};return Xe.createElement(o,{key:r,value:e,resource:n},Xe.createElement("div",Object.assign({},a,{className:Ri("rbc-time-slot",a.className)}),t&&t(e,r)))}))}}])}();function Yu(e){return"string"==typeof e?e:e+"%"}function Wu(e){var t=e.style,n=e.className,r=e.event,s=e.accessors,a=e.rtl,i=e.selected,o=e.label,l=e.continuesPrior,c=e.continuesAfter,d=e.getters,u=e.onClick,m=e.onDoubleClick,h=e.isBackgroundEvent,f=e.onKeyPress,p=e.components,g=p.event,v=p.eventWrapper,x=s.title(r),y=s.tooltip(r),b=s.end(r),w=s.start(r),j=d.eventProp(r,w,b,i),N=[Xe.createElement("div",{key:"1",className:"rbc-event-label"},o),Xe.createElement("div",{key:"2",className:"rbc-event-content"},g?Xe.createElement(g,{event:r,title:x}):x)],k=t.height,S=t.top,_=t.width,E=t.xOffset,D=bi(bi({},j.style),{},xi({top:Yu(S),height:Yu(k),width:Yu(_)},a?"right":"left",Yu(E)));return Xe.createElement(v,Object.assign({type:"time"},e),Xe.createElement("div",{role:"button",tabIndex:0,onClick:u,onDoubleClick:m,style:D,onKeyDown:f,title:y?("string"==typeof o?o+": ":"")+y:void 0,className:Ri(h?"rbc-background-event":"rbc-event",n,j.className,{"rbc-selected":i,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},N))}var Hu=function(e){var t=e.children,n=e.className,r=e.style,s=e.innerRef;return Xe.createElement("div",{className:n,style:r,ref:s},t)},Vu=Xe.forwardRef(function(e,t){return Xe.createElement(Hu,Object.assign({},e,{innerRef:t}))}),$u=["dayProp"],Gu=["eventContainerWrapper"],Ku=function(){function e(){var t;ji(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Ei(this,e,[].concat(r))).state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(e){var n=e.events,r=e.isBackgroundEvent,s=t.props,a=s.rtl,i=s.selected,o=s.accessors,l=s.localizer,c=s.getters,d=s.components,u=s.step,m=s.timeslots,h=s.dayLayoutAlgorithm,f=s.resizable,p=t.slotMetrics,g=l.messages,v=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t,n=e.dayLayoutAlgorithm,r=n;return n in qu&&(r=qu[n]),(t=r)&&t.constructor&&t.call&&t.apply?r.apply(this,arguments):[]}({events:n,accessors:o,slotMetrics:p,minimumStartDifference:Math.ceil(u*m/2),dayLayoutAlgorithm:h});return v.map(function(e,n){var s,u,m=e.event,h=e.style,v=o.end(m),x=o.start(m),y=null!==(s=o.eventId(m))&&void 0!==s?s:"evt_"+n,b="eventTimeRangeFormat",w=p.startsBeforeDay(x),j=p.startsAfterDay(v);w?b="eventTimeRangeEndFormat":j&&(b="eventTimeRangeStartFormat"),u=w&&j?g.allDay:l.format({start:x,end:v},b);var N=w||p.startsBefore(x),k=j||p.startsAfter(v);return Xe.createElement(Wu,{style:h,event:m,label:u,key:y,getters:c,rtl:a,components:d,continuesPrior:N,continuesAfter:k,accessors:o,resource:t.props.resource,selected:Jd(m,i),onClick:function(e){return t._select(bi(bi(bi({},m),t.props.resource&&{sourceResource:t.props.resource}),r&&{isBackgroundEvent:!0}),e)},onDoubleClick:function(e){return t._doubleClick(m,e)},isBackgroundEvent:r,onKeyPress:function(e){return t._keyPress(m,e)},resizable:f})})},t._selectable=function(){var e=t.containerRef.current,n=t.props,r=n.longPressThreshold,s=n.localizer,a=t._selector=new du(function(){return e},{longPressThreshold:r}),i=function(e){var n=t.props.onSelecting,r=t.state||{},a=o(e),i=a.startDate,l=a.endDate;n&&(s.eq(r.startDate,i,"minutes")&&s.eq(r.endDate,l,"minutes")||!1===n({start:i,end:l,resourceId:t.props.resource}))||t.state.start===a.start&&t.state.end===a.end&&t.state.selecting===a.selecting||t.setState(a)},o=function(n){var r=t.slotMetrics.closestSlotFromPoint(n,mu(e));t.state.selecting||(t._initialSlot=r);var a=t._initialSlot;s.lte(a,r)?r=t.slotMetrics.nextSlot(r):s.gt(a,r)&&(a=t.slotMetrics.nextSlot(a));var i=t.slotMetrics.getRange(s.min(a,r),s.max(a,r));return bi(bi({},i),{},{selecting:!0,top:"".concat(i.top,"%"),height:"".concat(i.height,"%")})},l=function(e,n){if(!ou(t.containerRef.current,e)){var r=o(e),s=r.startDate,a=r.endDate;t._selectSlot({startDate:s,endDate:a,action:n,box:e})}t.setState({selecting:!1})};a.on("selecting",i),a.on("selectStart",i),a.on("beforeSelect",function(e){if("ignoreEvents"===t.props.selectable)return!ou(t.containerRef.current,e)}),a.on("click",function(e){return l(e,"click")}),a.on("doubleClick",function(e){return l(e,"doubleClick")}),a.on("select",function(e){t.state.selecting&&(t._selectSlot(bi(bi({},t.state),{},{action:"select",bounds:e})),t.setState({selecting:!1}))}),a.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(e){for(var n=e.startDate,r=e.endDate,s=e.action,a=e.bounds,i=e.box,o=n,l=[];t.props.localizer.lte(o,r);)l.push(o),o=new Date(+o+60*t.props.step*1e3);Kd(t.props.onSelectSlot,{slots:l,start:n,end:r,resourceId:t.props.resource,action:s,bounds:a,box:i})},t._select=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onSelectEvent,n)},t._doubleClick=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onDoubleClickEvent,n)},t._keyPress=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onKeyPressEvent,n)},t.slotMetrics=Iu(t.props),t.containerRef=Ke.createRef(),t}return Di(e,Xe.Component),ki(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var n=this.props,r=n.getNow,s=n.isNow,a=n.localizer,i=n.date,o=n.min,l=n.max,c=a.neq(e.getNow(),r(),"minutes");if(e.isNow!==s||c){if(this.clearTimeIndicatorInterval(),s){var d=!c&&a.eq(e.date,i,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else s&&(a.neq(e.min,o,"minutes")||a.neq(e.max,l,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,n=e.max,r=(0,e.getNow)();if(r>=t&&r<=n){var s=this.slotMetrics.getCurrentTimePosition(r);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:s})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.max,r=e.rtl,s=e.isNow,a=e.resource,i=e.accessors,o=e.localizer,l=e.getters,c=l.dayProp,d=wi(l,$u),u=e.components,m=u.eventContainerWrapper,h=wi(u,Gu);this.slotMetrics=this.slotMetrics.update(this.props);var f=this.slotMetrics,p=this.state,g=p.selecting,v=p.top,x=p.height,y={start:p.startDate,end:p.endDate},b=c(n,a),w=b.className,j=b.style,N=h.dayColumnWrapper||Vu;return Xe.createElement(N,{ref:this.containerRef,date:t,style:j,className:Ri(w,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",g&&"rbc-slot-selecting"),slotMetrics:f,resource:a},f.groups.map(function(e,t){return Xe.createElement(Bu,{key:t,group:e,resource:a,getters:d,components:h})}),Xe.createElement(m,{localizer:o,resource:a,accessors:i,getters:d,components:h,slotMetrics:f},Xe.createElement("div",{className:Ri("rbc-events-container",r&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),g&&Xe.createElement("div",{className:"rbc-slot-selection",style:{top:v,height:x}},Xe.createElement("span",null,o.format(y,"selectRangeFormat"))),s&&this.intervalTriggered&&Xe.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}();Ku.defaultProps={dragThroughEvents:!0,timeslots:2};var Qu=function(e){var t=e.label;return Xe.createElement(Xe.Fragment,null,t)},Xu=function(){function e(){var t;ji(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Ei(this,e,[].concat(r))).handleHeaderClick=function(e,n,r){r.preventDefault(),Kd(t.props.onDrillDown,[e,n])},t.renderRow=function(e){var n=t.props,r=n.events,s=n.rtl,a=n.selectable,i=n.getNow,o=n.range,l=n.getters,c=n.localizer,d=n.accessors,u=n.components,m=n.resizable,h=d.resourceId(e),f=e?r.filter(function(e){return d.resource(e)===h}):r;return Xe.createElement(Mu,{isAllDay:!0,rtl:s,getNow:i,minRows:2,maxRows:t.props.allDayMaxRows+1,range:o,events:f,resourceId:h,className:"rbc-allday-cell",selectable:a,selected:t.props.selected,components:u,accessors:d,getters:l,localizer:c,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:m})},t}return Di(e,Xe.Component),ki(e,[{key:"renderHeaderCells",value:function(e){var t=this,n=this.props,r=n.localizer,s=n.getDrilldownView,a=n.getNow,i=n.getters.dayProp,o=n.components.header,l=void 0===o?Cu:o,c=a();return e.map(function(e,n){var a=s(e),o=r.format(e,"dayFormat"),d=i(e),u=d.className,m=d.style,h=Xe.createElement(l,{date:e,label:o,localizer:r});return Xe.createElement("div",{key:n,style:m,className:Ri("rbc-header",u,r.isSameDate(e,c)&&"rbc-today")},a?Xe.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(n){return t.handleHeaderClick(e,a,n)}},h):Xe.createElement("span",null,h))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,r=t.rtl,s=t.resources,a=t.range,i=t.events,o=t.getNow,l=t.accessors,c=t.selectable,d=t.components,u=t.getters,m=t.scrollRef,h=t.localizer,f=t.isOverflowing,p=t.components,g=p.timeGutterHeader,v=p.resourceHeader,x=void 0===v?Qu:v,y=t.resizable,b={};f&&(b[r?"marginLeft":"marginRight"]="".concat(zc()-1,"px"));var w=s.groupEvents(i);return Xe.createElement("div",{style:b,ref:m,className:Ri("rbc-time-header",f&&"rbc-overflowing")},Xe.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:n,minWidth:n,maxWidth:n}},g&&Xe.createElement(g,null)),s.map(function(t,n){var s=Ai(t,2),i=s[0],m=s[1];return Xe.createElement("div",{className:"rbc-time-header-content",key:i||n},m&&Xe.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(n)},Xe.createElement("div",{className:"rbc-header"},Xe.createElement(x,{index:n,label:l.resourceTitle(m),resource:m}))),Xe.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(a)),Xe.createElement(Mu,{isAllDay:!0,rtl:r,getNow:o,minRows:2,maxRows:e.props.allDayMaxRows+1,range:a,events:w.get(i)||[],resourceId:m&&i,className:"rbc-allday-cell",selectable:c,selected:e.props.selected,components:d,accessors:l,getters:u,localizer:h,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:y}))}))}}])}(),Zu=function(){function e(){var t;ji(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Ei(this,e,[].concat(r))).handleHeaderClick=function(e,n,r){r.preventDefault(),Kd(t.props.onDrillDown,[e,n])},t}return Di(e,Xe.Component),ki(e,[{key:"renderHeaderCells",value:function(e){var t=this,n=this.props,r=n.localizer,s=n.getDrilldownView,a=n.getNow,i=n.getters.dayProp,o=n.components,l=o.header,c=void 0===l?Cu:l,d=o.resourceHeader,u=void 0===d?Qu:d,m=n.resources,h=n.accessors,f=n.events,p=n.rtl,g=n.selectable,v=n.components,x=n.getters,y=n.resizable,b=a(),w=m.groupEvents(f);return e.map(function(n,o){var l=s(n),d=r.format(n,"dayFormat"),f=i(n),j=f.className,N=f.style,k=Xe.createElement(c,{date:n,label:d,localizer:r});return Xe.createElement("div",{key:o,className:"rbc-time-header-content rbc-resource-grouping"},Xe.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},Xe.createElement("div",{style:N,className:Ri("rbc-header",j,r.isSameDate(n,b)&&"rbc-today")},l?Xe.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return t.handleHeaderClick(n,l,e)}},k):Xe.createElement("span",null,k))),Xe.createElement("div",{className:"rbc-row"},m.map(function(e,t){var s=Ai(e,2),a=s[0],i=s[1];return Xe.createElement("div",{key:"resource_".concat(a,"_").concat(t),className:Ri("rbc-header",j,r.isSameDate(n,b)&&"rbc-today")},Xe.createElement(u,{index:t,label:h.resourceTitle(i),resource:i}))})),Xe.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(e,s){var i=Ai(e,2),o=i[0],l=i[1],c=(w.get(o)||[]).filter(function(e){return r.isSameDate(e.start,n)||r.isSameDate(e.end,n)});return Xe.createElement(Mu,{key:"resource_".concat(o,"_").concat(s),isAllDay:!0,rtl:p,getNow:a,minRows:2,maxRows:t.props.allDayMaxRows+1,range:[n],events:c,resourceId:l&&o,className:"rbc-allday-cell",selectable:g,selected:t.props.selected,components:v,accessors:h,getters:x,localizer:r,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyDown:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:y})})))})}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.rtl,r=e.range,s=e.scrollRef,a=e.isOverflowing,i=e.components.timeGutterHeader,o={};return a&&(o[n?"marginLeft":"marginRight"]="".concat(zc()-1,"px")),Xe.createElement("div",{style:o,ref:s,className:Ri("rbc-time-header",a&&"rbc-overflowing")},Xe.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:t,minWidth:t,maxWidth:t}},i&&Xe.createElement(i,null)),this.renderHeaderCells(r))}}])}();var Ju=function(e){var t=e.min,n=e.max,r=e.timeslots,s=e.step,a=e.localizer,i=e.getNow,o=e.resource,l=e.components,c=e.getters,d=e.gutterRef,u=l.timeGutterWrapper,m=Ke.useMemo(function(){return function(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}({min:t,max:n,localizer:a})},[null==t?void 0:t.toISOString(),null==n?void 0:n.toISOString(),a]),h=m.start,f=m.end,p=Ai(Ke.useState(Iu({min:h,max:f,timeslots:r,step:s,localizer:a})),2),g=p[0],v=p[1];Ke.useEffect(function(){g&&v(g.update({min:h,max:f,timeslots:r,step:s,localizer:a}))},[null==h?void 0:h.toISOString(),null==f?void 0:f.toISOString(),r,s]);var x=Ke.useCallback(function(e,t){if(t)return null;var n=g.dateIsInGroup(i(),t);return Xe.createElement("span",{className:Ri("rbc-label",n&&"rbc-now")},a.format(e,"timeGutterFormat"))},[g,a,i]);return Xe.createElement(u,{slotMetrics:g},Xe.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},g.groups.map(function(e,t){return Xe.createElement(Bu,{key:t,group:e,resource:o,components:l,renderSlot:x,getters:c})})))},em=Xe.forwardRef(function(e,t){return Xe.createElement(Ju,Object.assign({gutterRef:t},e))}),tm={};var nm=function(){function e(t){var n;return ji(this,e),(n=Ei(this,e,[t])).handleScroll=function(e){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=e.target.scrollLeft)},n.handleResize=function(){sl(n.rafHandle),n.rafHandle=al(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Kd(n.props.onKeyPressEvent,t)},n.handleSelectEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Kd(n.props.onSelectEvent,t)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Kd(n.props.onDoubleClickEvent,t)},n.handleShowMore=function(e,t,r,s,a){var i=n.props,o=i.popup,l=i.onDrillDown,c=i.onShowMore,d=i.getDrilldownView,u=i.doShowMoreDrillDown;if(n.clearSelection(),o){var m=Xo(r,n.containerRef.current);n.setState({overlay:{date:t,events:e,position:bi(bi({},m),{},{width:"200px"}),target:a}})}else u&&Kd(l,[t,d(t)||jd.DAY]);Kd(c,[e,t,s])},n.handleSelectAllDaySlot=function(e,t){var r=n.props.onSelectSlot,s=new Date(e[0]),a=new Date(e[e.length-1]);a.setDate(e[e.length-1].getDate()+1),Kd(r,{slots:e,start:s,end:a,action:t.action,resourceId:t.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var e=n.contentRef.current;if(null!=e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;n.state.isOverflowing!==t&&(n._updatingOverflow=!0,n.setState({isOverflowing:t},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=Qc(function(e,t){return function(e,t){return{map:function(n){return e?e.map(function(e,r){return n([t.resourceId(e),e],r)}):[n([tm,null],0)]},groupEvents:function(n){var r=new Map;return e?(n.forEach(function(e){var n=t.resource(e)||tm;if(Array.isArray(n))n.forEach(function(t){var n=r.get(t)||[];n.push(e),r.set(t,n)});else{var s=r.get(n)||[];s.push(e),r.set(n,s)}}),r):(r.set(tm,n),r)}}}(e,t)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=Xe.createRef(),n.contentRef=Xe.createRef(),n.containerRef=Xe.createRef(),n._scrollRatio=null,n.gutterRef=Ke.createRef(),n}return Di(e,Ke.Component),ki(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),sl(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,t,n,r,s,a,i,o,l,c){var d=this.props,u=d.min,m=d.max,h=(r.get(t)||[]).filter(function(t){return a.inRange(e,i.start(t),i.end(t),"day")}),f=(s.get(t)||[]).filter(function(t){return a.inRange(e,i.start(t),i.end(t),"day")});return Xe.createElement(Ku,Object.assign({},this.props,{localizer:a,min:a.merge(e,u),max:a.merge(e,m),resource:n&&t,components:o,isNow:a.isSameDate(e,c),key:"".concat(t,"-").concat(e),date:e,events:h,backgroundEvents:f,dayLayoutAlgorithm:l}))}},{key:"renderResourcesFirst",value:function(e,t,n,r,s,a,i,o,l){var c=this;return t.map(function(t){var d=Ai(t,2),u=d[0],m=d[1];return e.map(function(e){return c.renderDayColumn(e,u,m,n,r,s,a,o,l,i)})})}},{key:"renderRangeFirst",value:function(e,t,n,r,s,a,i,o,l){var c=this;return e.map(function(e){return Xe.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:e},t.map(function(t){var d=Ai(t,2),u=d[0],m=d[1];return Xe.createElement("div",{style:{flex:1},key:a.resourceId(m)},c.renderDayColumn(e,u,m,n,r,s,a,o,l,i))}))})}},{key:"renderEvents",value:function(e,t,n,r){var s=this.props,a=s.accessors,i=s.localizer,o=s.resourceGroupingLayout,l=s.components,c=s.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,a),u=d.groupEvents(t),m=d.groupEvents(n);return o?this.renderRangeFirst(e,d,u,m,i,a,r,l,c):this.renderResourcesFirst(e,d,u,m,i,a,r,l,c)}},{key:"render",value:function(){var e,t=this.props,n=t.events,r=t.backgroundEvents,s=t.range,a=t.width,i=t.rtl,o=t.selected,l=t.getNow,c=t.resources,d=t.components,u=t.accessors,m=t.getters,h=t.localizer,f=t.min,p=t.max,g=t.showMultiDayTimes,v=t.longPressThreshold,x=t.resizable,y=t.resourceGroupingLayout;a=a||this.state.gutterWidth;var b=s[0],w=s[s.length-1];this.slots=s.length;var j=[],N=[],k=[];n.forEach(function(e){if(wu(e,b,w,u,h)){var t=u.start(e),n=u.end(e);u.allDay(e)||h.startAndEndAreDateOnly(t,n)||!g&&!h.isSameDate(t,n)?j.push(e):N.push(e)}}),r.forEach(function(e){wu(e,b,w,u,h)&&k.push(e)}),j.sort(function(e,t){return Nu(e,t,u,h)});var S={range:s,events:j,width:a,rtl:i,getNow:l,localizer:h,selected:o,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(c,u),selectable:this.props.selectable,accessors:u,getters:m,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:v,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:x};return Xe.createElement("div",{className:Ri("rbc-time-view",c&&"rbc-time-view-resources"),ref:this.containerRef},c&&c.length>1&&y?Xe.createElement(Zu,S):Xe.createElement(Xu,S),this.props.popup&&this.renderOverlay(),Xe.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Xe.createElement(em,{date:b,ref:this.gutterRef,localizer:h,min:h.merge(b,f),max:h.merge(b,p),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:m}),this.renderEvents(s,N,k,l())))}},{key:"renderOverlay",value:function(){var e,t,n=this,r=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},s=this.props,a=s.accessors,i=s.localizer,o=s.components,l=s.getters,c=s.selected,d=s.popupOffset,u=s.handleDragStart;return Xe.createElement(au,{overlay:r,accessors:a,localizer:i,components:o,getters:l,selected:c,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:u,show:!!r.position,overlayDisplay:this.overlayDisplay,onHide:function(){return n.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var t,n=null!==(t=e.gutterRef)&&void 0!==t&&t.current?Xc(e.gutterRef.current):void 0;n&&e.state.gutterWidth!==n&&e.setState({gutterWidth:n})})}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,r=e.scrollToTime,s=e.localizer,a=s.diff(s.merge(r,t),r,"milliseconds"),i=s.diff(t,n,"milliseconds");this._scrollRatio=a/i}}])}();nm.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var rm=["date","localizer","min","max","scrollToTime","enableAutoScroll"],sm=function(){function e(){return ji(this,e),Ei(this,e,arguments)}return Di(e,Xe.Component),ki(e,[{key:"render",value:function(){var t=this.props,n=t.date,r=t.localizer,s=t.min,a=void 0===s?r.startOf(new Date,"day"):s,i=t.max,o=void 0===i?r.endOf(new Date,"day"):i,l=t.scrollToTime,c=void 0===l?r.startOf(new Date,"day"):l,d=t.enableAutoScroll,u=void 0===d||d,m=wi(t,rm),h=e.range(n,{localizer:r});return Xe.createElement(nm,Object.assign({},m,{range:h,eventOffset:10,localizer:r,min:a,max:o,scrollToTime:c,enableAutoScroll:u}))}}])}();sm.range=function(e,t){return[t.localizer.startOf(e,"day")]},sm.navigate=function(e,t,n){var r=n.localizer;switch(t){case xd:return r.add(e,-1,"day");case yd:return r.add(e,1,"day");default:return e}},sm.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var am=["date","localizer","min","max","scrollToTime","enableAutoScroll"],im=function(){function e(){return ji(this,e),Ei(this,e,arguments)}return Di(e,Xe.Component),ki(e,[{key:"render",value:function(){var t=this.props,n=t.date,r=t.localizer,s=t.min,a=void 0===s?r.startOf(new Date,"day"):s,i=t.max,o=void 0===i?r.endOf(new Date,"day"):i,l=t.scrollToTime,c=void 0===l?r.startOf(new Date,"day"):l,d=t.enableAutoScroll,u=void 0===d||d,m=wi(t,am),h=e.range(n,this.props);return Xe.createElement(nm,Object.assign({},m,{range:h,eventOffset:15,localizer:r,min:a,max:o,scrollToTime:c,enableAutoScroll:u}))}}])}();im.defaultProps=nm.defaultProps,im.navigate=function(e,t,n){var r=n.localizer;switch(t){case xd:return r.add(e,-1,"week");case yd:return r.add(e,1,"week");default:return e}},im.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),s=n.startOf(e,"week",r),a=n.endOf(e,"week",r);return n.range(s,a)},im.title=function(e,t){var n=t.localizer,r=Zc(im.range(e,{localizer:n})),s=r[0],a=r.slice(1);return n.format({start:s,end:a.pop()},"dayRangeHeaderFormat")};var om=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function lm(e,t){return im.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})}var cm=function(){function e(){return ji(this,e),Ei(this,e,arguments)}return Di(e,Xe.Component),ki(e,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.localizer,r=e.min,s=void 0===r?n.startOf(new Date,"day"):r,a=e.max,i=void 0===a?n.endOf(new Date,"day"):a,o=e.scrollToTime,l=void 0===o?n.startOf(new Date,"day"):o,c=e.enableAutoScroll,d=void 0===c||c,u=wi(e,om),m=lm(t,this.props);return Xe.createElement(nm,Object.assign({},u,{range:m,eventOffset:15,localizer:n,min:s,max:i,scrollToTime:l,enableAutoScroll:d}))}}])}();cm.defaultProps=nm.defaultProps,cm.range=lm,cm.navigate=im.navigate,cm.title=function(e,t){var n=t.localizer,r=Zc(lm(e,{localizer:n})),s=r[0],a=r.slice(1);return n.format({start:s,end:a.pop()},"dayRangeHeaderFormat")};function dm(e){var t=e.accessors,n=e.components,r=e.date,s=e.events,a=e.getters,i=e.length,o=void 0===i?30:i,l=e.localizer,c=e.onDoubleClickEvent,d=e.onSelectEvent,u=e.selected,m=Ke.useRef(null),h=Ke.useRef(null),f=Ke.useRef(null),p=Ke.useRef(null),g=Ke.useRef(null);Ke.useEffect(function(){x()});var v=function(e,r){var s="",a=n.time,i=l.messages.allDay,o=t.end(r),c=t.start(r);return t.allDay(r)||(l.eq(c,o)?i=l.format(c,"agendaTimeFormat"):l.isSameDate(c,o)?i=l.format({start:c,end:o},"agendaTimeRangeFormat"):l.isSameDate(e,c)?i=l.format(c,"agendaTimeFormat"):l.isSameDate(e,o)&&(i=l.format(o,"agendaTimeFormat"))),l.gt(e,c,"day")&&(s="rbc-continues-prior"),l.lt(e,o,"day")&&(s+=" rbc-continues-after"),Xe.createElement("span",{className:s.trim()},a?Xe.createElement(a,{event:r,day:e,label:i}):i)},x=function(){if(g.current){var e=m.current,t=g.current.firstChild;if(t){var n=p.current.scrollHeight>p.current.clientHeight,r=[],s=r;r=[Xc(t.children[0]),Xc(t.children[1])],s[0]===r[0]&&s[1]===r[1]||(h.current.style.width=r[0]+"px",f.current.style.width=r[1]+"px"),n?(Rt(e,"rbc-header-overflowing"),e.style.marginRight=zc()+"px"):It(e,"rbc-header-overflowing")}}},y=l.messages,b=l.add(r,o,"day"),w=l.range(r,b,"day");return(s=s.filter(function(e){return wu(e,l.startOf(r,"day"),l.endOf(b,"day"),t,l)})).sort(function(e,n){return+t.start(e)-+t.start(n)}),Xe.createElement("div",{className:"rbc-agenda-view"},0!==s.length?Xe.createElement(Xe.Fragment,null,Xe.createElement("table",{ref:m,className:"rbc-agenda-table"},Xe.createElement("thead",null,Xe.createElement("tr",null,Xe.createElement("th",{className:"rbc-header",ref:h},y.date),Xe.createElement("th",{className:"rbc-header",ref:f},y.time),Xe.createElement("th",{className:"rbc-header"},y.event)))),Xe.createElement("div",{className:"rbc-agenda-content",ref:p},Xe.createElement("table",{className:"rbc-agenda-table"},Xe.createElement("tbody",{ref:g},w.map(function(e,r){return function(e,r,s){var i=n.event,o=n.date;return r=r.filter(function(n){return wu(n,l.startOf(e,"day"),l.endOf(e,"day"),t,l)}),r.map(function(n,m){var h=t.title(n),f=t.end(n),p=t.start(n),g=a.eventProp(n,p,f,Jd(n,u)),x=0===m&&l.format(e,"agendaDateFormat"),y=0===m&&Xe.createElement("td",{rowSpan:r.length,className:"rbc-agenda-date-cell"},o?Xe.createElement(o,{day:e,label:x}):x);return Xe.createElement("tr",{key:s+"_"+m,className:g.className,style:g.style},y,Xe.createElement("td",{className:"rbc-agenda-time-cell"},v(e,n)),Xe.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return d&&d(n,e)},onDoubleClick:function(e){return c&&c(n,e)}},i?Xe.createElement(i,{event:n,title:h}):h))},[])}(e,s,r)}))))):Xe.createElement("span",{className:"rbc-agenda-empty"},y.noEventsInRange))}dm.range=function(e,t){var n=t.length,r=void 0===n?30:n;return{start:e,end:t.localizer.add(e,r,"day")}},dm.navigate=function(e,t,n){var r=n.length,s=void 0===r?30:r,a=n.localizer;switch(t){case xd:return a.add(e,-s,"day");case yd:return a.add(e,s,"day");default:return e}},dm.title=function(e,t){var n=t.length,r=void 0===n?30:n,s=t.localizer,a=s.add(e,r,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var um=xi(xi(xi(xi(xi({},jd.MONTH,Pu),jd.WEEK,im),jd.WORK_WEEK,cm),jd.DAY,sm),jd.AGENDA,dm),mm=["action","date","today"];var hm=function(e){return function(t){return function(e,t){var n=null;return"function"==typeof t?n=t(e):"string"==typeof t&&"object"===gi(e)&&null!=e&&t in e&&(n=e[t]),n}(t,e)}},fm=["view","date","getNow","onNavigate"],pm=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function gm(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var s=Ai(r[n],2),a=s[0];s[1]&&t.push(a)}return t}var vm=function(){function e(){var t;ji(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Ei(this,e,[].concat(r))).getViews=function(){var e=t.props.views;return Array.isArray(e)?gd(e,function(e,t){return e[t]=um[t]},{}):"object"===gi(e)?Lt(e,function(e,t){return!0===e?um[t]:e}):um},t.getView=function(){return t.getViews()[t.props.view]},t.getDrilldownView=function(e){var n=t.props,r=n.view,s=n.drilldownView,a=n.getDrilldownView;return a?a(e,r,Object.keys(t.getViews())):s},t.handleRangeChange=function(e,n,r){var s=t.props,a=s.onRangeChange,i=s.localizer;a&&n.range&&a(n.range(e,{localizer:i}),r)},t.handleNavigate=function(e,n){var r=t.props,s=r.view,a=r.date,i=r.getNow,o=r.onNavigate,l=wi(r,fm),c=t.getView(),d=i();a=function(e,t){var n=t.action,r=t.date,s=t.today,a=wi(t,mm);switch(e="string"==typeof e?um[e]:e,n){case bd:r=s||new Date;break;case wd:break;default:Li(e&&"function"==typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,a)}return r}(c,bi(bi({},l),{},{action:e,date:n||a||d,today:d})),o(a,s,e),t.handleRangeChange(a,c)},t.handleViewChange=function(e){e!==t.props.view&&function(e,t){return-1!==gm(t.views).indexOf(e)}(e,t.props)&&t.props.onView(e);var n=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),n[e],e)},t.handleSelectEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onSelectEvent,n)},t.handleDoubleClickEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onDoubleClickEvent,n)},t.handleKeyPressEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Kd(t.props.onKeyPressEvent,n)},t.handleSelectSlot=function(e){Kd(t.props.onSelectSlot,e)},t.handleDrillDown=function(e,n){var r=t.props.onDrillDown;r?r(e,n,t.drilldownView):(n&&t.handleViewChange(n),t.handleNavigate(wd,e))},t.state={context:e.getContext(t.props)},t}return Di(e,Xe.Component),ki(e,[{key:"render",value:function(){var e=this.props,t=e.view,n=e.toolbar,r=e.events,s=e.backgroundEvents,a=e.resourceGroupingLayout,i=e.style,o=e.className,l=e.elementProps,c=e.date,d=e.getNow,u=e.length,m=e.showMultiDayTimes,h=e.onShowMore,f=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var p=wi(e,pm);c=c||d();var g=this.getView(),v=this.state.context,x=v.accessors,y=v.components,b=v.getters,w=v.localizer,j=v.viewNames,N=y.toolbar||Gd,k=g.title(c,{localizer:w,length:u});return Xe.createElement("div",Object.assign({},l,{className:Ri(o,"rbc-calendar",p.rtl&&"rbc-rtl"),style:i}),n&&Xe.createElement(N,{date:c,view:t,views:j,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:w}),Xe.createElement(g,Object.assign({},p,{events:r,backgroundEvents:s,date:c,getNow:d,length:u,localizer:w,getters:b,components:y,accessors:x,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:h,doShowMoreDrillDown:f,resourceGroupingLayout:a})))}}],[{key:"getDerivedStateFromProps",value:function(t){return{context:e.getContext(t)}}},{key:"getContext",value:function(e){var t=e.startAccessor,n=e.endAccessor,r=e.allDayAccessor,s=e.tooltipAccessor,a=e.titleAccessor,i=e.resourceAccessor,o=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventIdAccessor,d=e.eventPropGetter,u=e.backgroundEventPropGetter,m=e.slotPropGetter,h=e.slotGroupPropGetter,f=e.dayPropGetter,p=e.view,g=e.views,v=e.localizer,x=e.culture,y=e.messages,b=void 0===y?{}:y,w=e.components,j=void 0===w?{}:w,N=e.formats,k=void 0===N?{}:N,S=gm(g);return{viewNames:S,localizer:$d(v,x,k,function(e){return bi(bi({},Qd),e)}(b)),getters:{eventProp:function(){return d&&d.apply(void 0,arguments)||{}},backgroundEventProp:function(){return u&&u.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return f&&f.apply(void 0,arguments)||{}}},components:ad(j[p]||{},Pt(j,S),{eventWrapper:vd,backgroundEventWrapper:vd,eventContainerWrapper:vd,dateCellWrapper:vd,weekWrapper:vd,timeSlotWrapper:vd,timeGutterWrapper:vd}),accessors:{start:hm(t),end:hm(n),allDay:hm(r),tooltip:hm(s),title:hm(a),resource:hm(i),resourceId:hm(o),resourceTitle:hm(l),eventId:hm(c)}}}}])}();vm.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:jd.MONTH,views:[jd.MONTH,jd.WEEK,jd.DAY,jd.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:jd.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var xm,ym,bm=function e(t,n,r){void 0===r&&(r=[]);var s,a=t.displayName||t.name||"Component",i=!!(s=t)&&("function"!=typeof s||s.prototype&&s.prototype.isReactComponent),o=Object.keys(n),l=o.map(Ui);!i&&r.length&&Li(!1);var c=function(e){function s(){for(var t,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];(t=e.call.apply(e,[this].concat(a))||this).handlers=Object.create(null),o.forEach(function(e){var r=n[e];t.handlers[r]=function(n){if(t.props[r]){var s;t._notifying=!0;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];(s=t.props)[r].apply(s,[n].concat(i)),t._notifying=!1}t.unmounted||t.setState(function(t){var r,s=t.values;return{values:ft(Object.create(null),s,(r={},r[e]=n,r))}})}}),r.length&&(t.attachRef=function(e){t.inner=e});var l=Object.create(null);return o.forEach(function(e){l[e]=t.props[Ui(e)]}),t.state={values:l,prevProps:{}},t}ht(s,e);var a=s.prototype;return a.shouldComponentUpdate=function(){return!this._notifying},s.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,s={values:ft(Object.create(null),n),prevProps:{}};return o.forEach(function(t){s.prevProps[t]=e[t],!zi(e,t)&&zi(r,t)&&(s.values[t]=e[Ui(t)])}),s},a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){var e=this,n=this.props,r=n.innerRef,s=dt(n,["innerRef"]);l.forEach(function(e){delete s[e]});var a={};return o.forEach(function(t){var n=e.props[t];a[t]=void 0!==n?n:e.state.values[t]}),Xe.createElement(t,ft({},s,a,this.handlers,{ref:r||this.attachRef}))},s}(Xe.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==s){var a=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+a+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=qi,t.componentWillReceiveProps=Bi),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Yi;var o=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;o.call(this,e,t,r)}}}(c),c.displayName="Uncontrolled("+a+")",c.propTypes=ft({innerRef:function(){}},function(e){var t={};return Object.keys(e).forEach(function(e){t[Ui(e)]=Fi}),t}(n)),r.forEach(function(e){c.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}});var d=c;return Xe.forwardRef&&((d=Xe.forwardRef(function(e,t){return Xe.createElement(c,ft({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})).propTypes=c.propTypes),d.ControlledComponent=t,d.deferControlTo=function(t,r,s){return void 0===r&&(r={}),e(t,ft({},n,r),s)},d}(vm,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),wm=function(e,t,n){var r=e.start,s=e.end;return n.format(r,"LT",t)+"  "+n.format(s,"LT",t)},jm={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:wm,eventTimeRangeFormat:wm,eventTimeRangeStartFormat:function(e,t,n){var r=e.start;return n.format(r,"LT",t)+"  "},eventTimeRangeEndFormat:function(e,t,n){var r=e.end;return"  "+n.format(r,"LT",t)},timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:function(e,t,n){var r=e.start,s=e.end;return n.format(r,"MMMM DD",t)+"  "+n.format(s,n.eq(r,s,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,n){var r=e.start,s=e.end;return n.format(r,"L",t)+"  "+n.format(s,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:wm};function Nm(e){var t=e?e.toLowerCase():e;return"FullYear"===t?t="year":t||(t=void 0),t}function km(){return xm.apply(null,arguments)}function Sm(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function _m(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function Em(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Dm(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(Em(e,t))return!1;return!0}function Tm(e){return void 0===e}function Mm(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Cm(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Om(e,t){var n,r=[],s=e.length;for(n=0;n<s;++n)r.push(t(e[n],n));return r}function Am(e,t){for(var n in t)Em(t,n)&&(e[n]=t[n]);return Em(t,"toString")&&(e.toString=t.toString),Em(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Pm(e,t,n,r){return np(e,t,n,r,!0).utc()}function Rm(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function Im(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=Rm(e),n=ym.call(t.parsedDateParts,function(e){return null!=e}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function Lm(e){var t=Pm(NaN);return null!=e?Am(Rm(t),e):Rm(t).userInvalidated=!0,t}ym=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var Fm=km.momentProperties=[],zm=!1;function Um(e,t){var n,r,s,a=Fm.length;if(Tm(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Tm(t._i)||(e._i=t._i),Tm(t._f)||(e._f=t._f),Tm(t._l)||(e._l=t._l),Tm(t._strict)||(e._strict=t._strict),Tm(t._tzm)||(e._tzm=t._tzm),Tm(t._isUTC)||(e._isUTC=t._isUTC),Tm(t._offset)||(e._offset=t._offset),Tm(t._pf)||(e._pf=Rm(t)),Tm(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)Tm(s=t[r=Fm[n]])||(e[r]=s);return e}function qm(e){Um(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===zm&&(zm=!0,km.updateOffset(this),zm=!1)}function Bm(e){return e instanceof qm||null!=e&&null!=e._isAMomentObject}function Ym(e){!1===km.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function Wm(e,t){var n=!0;return Am(function(){if(null!=km.deprecationHandler&&km.deprecationHandler(null,e),n){var r,s,a,i=[],o=arguments.length;for(s=0;s<o;s++){if(r="","object"==typeof arguments[s]){for(a in r+="\n["+s+"] ",arguments[0])Em(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[s];i.push(r)}Ym((Array.prototype.slice.call(i).join(""),(new Error).stack)),n=!1}return t.apply(this,arguments)},t)}var Hm,Vm={};function $m(e,t){null!=km.deprecationHandler&&km.deprecationHandler(e,t),Vm[e]||(Ym(),Vm[e]=!0)}function Gm(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Km(e,t){var n,r=Am({},e);for(n in t)Em(t,n)&&(_m(e[n])&&_m(t[n])?(r[n]={},Am(r[n],e[n]),Am(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)Em(e,n)&&!Em(t,n)&&_m(e[n])&&(r[n]=Am({},r[n]));return r}function Qm(e){null!=e&&this.set(e)}km.suppressDeprecationWarnings=!1,km.deprecationHandler=null,Hm=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)Em(e,t)&&n.push(t);return n};function Xm(e,t,n){var r=""+Math.abs(e),s=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Zm=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Jm=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,eh={},th={};function nh(e,t,n,r){var s=r;"string"==typeof r&&(s=function(){return this[r]()}),e&&(th[e]=s),t&&(th[t[0]]=function(){return Xm(s.apply(this,arguments),t[1],t[2])}),n&&(th[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function rh(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function sh(e,t){return e.isValid()?(t=ah(t,e.localeData()),eh[t]=eh[t]||function(e){var t,n,r=e.match(Zm);for(t=0,n=r.length;t<n;t++)th[r[t]]?r[t]=th[r[t]]:r[t]=rh(r[t]);return function(t){var s,a="";for(s=0;s<n;s++)a+=Gm(r[s])?r[s].call(t,e):r[s];return a}}(t),eh[t](e)):e.localeData().invalidDate()}function ah(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(Jm.lastIndex=0;n>=0&&Jm.test(e);)e=e.replace(Jm,r),Jm.lastIndex=0,n-=1;return e}var ih={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function oh(e){return"string"==typeof e?ih[e]||ih[e.toLowerCase()]:void 0}function lh(e){var t,n,r={};for(n in e)Em(e,n)&&(t=oh(n))&&(r[t]=e[n]);return r}var ch={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var dh,uh=/\d/,mh=/\d\d/,hh=/\d{3}/,fh=/\d{4}/,ph=/[+-]?\d{6}/,gh=/\d\d?/,vh=/\d\d\d\d?/,xh=/\d\d\d\d\d\d?/,yh=/\d{1,3}/,bh=/\d{1,4}/,wh=/[+-]?\d{1,6}/,jh=/\d+/,Nh=/[+-]?\d+/,kh=/Z|[+-]\d\d:?\d\d/gi,Sh=/Z|[+-]\d\d(?::?\d\d)?/gi,_h=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Eh=/^[1-9]\d?/,Dh=/^([1-9]\d|\d)/;function Th(e,t,n){dh[e]=Gm(t)?t:function(e,r){return e&&n?n:t}}function Mh(e,t){return Em(dh,e)?dh[e](t._strict,t._locale):new RegExp(Ch(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,s){return t||n||r||s})))}function Ch(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Oh(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ah(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Oh(t)),n}dh={};var Ph={};function Rh(e,t){var n,r,s=t;for("string"==typeof e&&(e=[e]),Mm(t)&&(s=function(e,n){n[t]=Ah(e)}),r=e.length,n=0;n<r;n++)Ph[e[n]]=s}function Ih(e,t){Rh(e,function(e,n,r,s){r._w=r._w||{},t(e,r._w,r,s)})}function Lh(e,t,n){null!=t&&Em(Ph,e)&&Ph[e](t,n._a,n,e)}function Fh(e){return e%4==0&&e%100!=0||e%400==0}var zh=0,Uh=1,qh=2,Bh=3,Yh=4,Wh=5,Hh=6,Vh=7,$h=8;function Gh(e){return Fh(e)?366:365}nh("Y",0,0,function(){var e=this.year();return e<=9999?Xm(e,4):"+"+e}),nh(0,["YY",2],0,function(){return this.year()%100}),nh(0,["YYYY",4],0,"year"),nh(0,["YYYYY",5],0,"year"),nh(0,["YYYYYY",6,!0],0,"year"),Th("Y",Nh),Th("YY",gh,mh),Th("YYYY",bh,fh),Th("YYYYY",wh,ph),Th("YYYYYY",wh,ph),Rh(["YYYYY","YYYYYY"],zh),Rh("YYYY",function(e,t){t[zh]=2===e.length?km.parseTwoDigitYear(e):Ah(e)}),Rh("YY",function(e,t){t[zh]=km.parseTwoDigitYear(e)}),Rh("Y",function(e,t){t[zh]=parseInt(e,10)}),km.parseTwoDigitYear=function(e){return Ah(e)+(Ah(e)>68?1900:2e3)};var Kh,Qh=Xh("FullYear",!0);function Xh(e,t){return function(n){return null!=n?(Jh(this,e,n),km.updateOffset(this,t),this):Zh(this,e)}}function Zh(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Jh(e,t,n){var r,s,a,i,o;if(e.isValid()&&!isNaN(n)){switch(r=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}a=n,i=e.month(),o=29!==(o=e.date())||1!==i||Fh(a)?o:28,s?r.setUTCFullYear(a,i,o):r.setFullYear(a,i,o)}}function ef(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Fh(e)?29:28:31-r%7%2}Kh=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},nh("M",["MM",2],"Mo",function(){return this.month()+1}),nh("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),nh("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Th("M",gh,Eh),Th("MM",gh,mh),Th("MMM",function(e,t){return t.monthsShortRegex(e)}),Th("MMMM",function(e,t){return t.monthsRegex(e)}),Rh(["M","MM"],function(e,t){t[Uh]=Ah(e)-1}),Rh(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);null!=s?t[Uh]=s:Rm(n).invalidMonth=e});var tf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nf="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rf=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sf=_h,af=_h;function of(e,t,n){var r,s,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=Pm([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(s=Kh.call(this._shortMonthsParse,i))?s:null:-1!==(s=Kh.call(this._longMonthsParse,i))?s:null:"MMM"===t?-1!==(s=Kh.call(this._shortMonthsParse,i))||-1!==(s=Kh.call(this._longMonthsParse,i))?s:null:-1!==(s=Kh.call(this._longMonthsParse,i))||-1!==(s=Kh.call(this._shortMonthsParse,i))?s:null}function lf(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Ah(t);else if(!Mm(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,ef(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function cf(e){return null!=e?(lf(this,e),km.updateOffset(this,!0),this):Zh(this,"Month")}function df(){function e(e,t){return t.length-e.length}var t,n,r,s,a=[],i=[],o=[];for(t=0;t<12;t++)n=Pm([2e3,t]),r=Ch(this.monthsShort(n,"")),s=Ch(this.months(n,"")),a.push(r),i.push(s),o.push(s),o.push(r);a.sort(e),i.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function uf(e,t,n,r,s,a,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,s,a,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,s,a,i),o}function mf(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function hf(e,t,n){var r=7+t-n;return-((7+mf(e,0,r).getUTCDay()-t)%7)+r-1}function ff(e,t,n,r,s){var a,i,o=1+7*(t-1)+(7+n-r)%7+hf(e,r,s);return o<=0?i=Gh(a=e-1)+o:o>Gh(e)?(a=e+1,i=o-Gh(e)):(a=e,i=o),{year:a,dayOfYear:i}}function pf(e,t,n){var r,s,a=hf(e.year(),t,n),i=Math.floor((e.dayOfYear()-a-1)/7)+1;return i<1?r=i+gf(s=e.year()-1,t,n):i>gf(e.year(),t,n)?(r=i-gf(e.year(),t,n),s=e.year()+1):(s=e.year(),r=i),{week:r,year:s}}function gf(e,t,n){var r=hf(e,t,n),s=hf(e+1,t,n);return(Gh(e)-r+s)/7}nh("w",["ww",2],"wo","week"),nh("W",["WW",2],"Wo","isoWeek"),Th("w",gh,Eh),Th("ww",gh,mh),Th("W",gh,Eh),Th("WW",gh,mh),Ih(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ah(e)});function vf(e,t){return e.slice(t,7).concat(e.slice(0,t))}nh("d",0,"do","day"),nh("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),nh("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),nh("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),nh("e",0,0,"weekday"),nh("E",0,0,"isoWeekday"),Th("d",gh),Th("e",gh),Th("E",gh),Th("dd",function(e,t){return t.weekdaysMinRegex(e)}),Th("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Th("dddd",function(e,t){return t.weekdaysRegex(e)}),Ih(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);null!=s?t.d=s:Rm(n).invalidWeekday=e}),Ih(["d","e","E"],function(e,t,n,r){t[r]=Ah(e)});var xf="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yf="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bf="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wf=_h,jf=_h,Nf=_h;function kf(e,t,n){var r,s,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=Pm([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(s=Kh.call(this._weekdaysParse,i))?s:null:"ddd"===t?-1!==(s=Kh.call(this._shortWeekdaysParse,i))?s:null:-1!==(s=Kh.call(this._minWeekdaysParse,i))?s:null:"dddd"===t?-1!==(s=Kh.call(this._weekdaysParse,i))||-1!==(s=Kh.call(this._shortWeekdaysParse,i))||-1!==(s=Kh.call(this._minWeekdaysParse,i))?s:null:"ddd"===t?-1!==(s=Kh.call(this._shortWeekdaysParse,i))||-1!==(s=Kh.call(this._weekdaysParse,i))||-1!==(s=Kh.call(this._minWeekdaysParse,i))?s:null:-1!==(s=Kh.call(this._minWeekdaysParse,i))||-1!==(s=Kh.call(this._weekdaysParse,i))||-1!==(s=Kh.call(this._shortWeekdaysParse,i))?s:null}function Sf(){function e(e,t){return t.length-e.length}var t,n,r,s,a,i=[],o=[],l=[],c=[];for(t=0;t<7;t++)n=Pm([2e3,1]).day(t),r=Ch(this.weekdaysMin(n,"")),s=Ch(this.weekdaysShort(n,"")),a=Ch(this.weekdays(n,"")),i.push(r),o.push(s),l.push(a),c.push(r),c.push(s),c.push(a);i.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function _f(){return this.hours()%12||12}function Ef(e,t){nh(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Df(e,t){return t._meridiemParse}nh("H",["HH",2],0,"hour"),nh("h",["hh",2],0,_f),nh("k",["kk",2],0,function(){return this.hours()||24}),nh("hmm",0,0,function(){return""+_f.apply(this)+Xm(this.minutes(),2)}),nh("hmmss",0,0,function(){return""+_f.apply(this)+Xm(this.minutes(),2)+Xm(this.seconds(),2)}),nh("Hmm",0,0,function(){return""+this.hours()+Xm(this.minutes(),2)}),nh("Hmmss",0,0,function(){return""+this.hours()+Xm(this.minutes(),2)+Xm(this.seconds(),2)}),Ef("a",!0),Ef("A",!1),Th("a",Df),Th("A",Df),Th("H",gh,Dh),Th("h",gh,Eh),Th("k",gh,Eh),Th("HH",gh,mh),Th("hh",gh,mh),Th("kk",gh,mh),Th("hmm",vh),Th("hmmss",xh),Th("Hmm",vh),Th("Hmmss",xh),Rh(["H","HH"],Bh),Rh(["k","kk"],function(e,t,n){var r=Ah(e);t[Bh]=24===r?0:r}),Rh(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Rh(["h","hh"],function(e,t,n){t[Bh]=Ah(e),Rm(n).bigHour=!0}),Rh("hmm",function(e,t,n){var r=e.length-2;t[Bh]=Ah(e.substr(0,r)),t[Yh]=Ah(e.substr(r)),Rm(n).bigHour=!0}),Rh("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Bh]=Ah(e.substr(0,r)),t[Yh]=Ah(e.substr(r,2)),t[Wh]=Ah(e.substr(s)),Rm(n).bigHour=!0}),Rh("Hmm",function(e,t,n){var r=e.length-2;t[Bh]=Ah(e.substr(0,r)),t[Yh]=Ah(e.substr(r))}),Rh("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Bh]=Ah(e.substr(0,r)),t[Yh]=Ah(e.substr(r,2)),t[Wh]=Ah(e.substr(s))});var Tf=Xh("Hours",!0);var Mf,Cf={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:tf,monthsShort:nf,week:{dow:0,doy:6},weekdays:xf,weekdaysMin:bf,weekdaysShort:yf,meridiemParse:/[ap]\.?m?\.?/i},Of={},Af={};function Pf(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Rf(e){return e?e.toLowerCase().replace("_","-"):e}function If(e){var t=null;if(void 0===Of[e]&&"undefined"!=typeof module&&module&&module.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=Mf._abbr,require("./locale/"+e),Lf(t)}catch(Iw){Of[e]=null}return Of[e]}function Lf(e,t){var n;return e&&((n=Tm(t)?zf(e):Ff(e,t))?Mf=n:"undefined"!=typeof console&&console.warn),Mf._abbr}function Ff(e,t){if(null!==t){var n,r=Cf;if(t.abbr=e,null!=Of[e])$m("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Of[e]._config;else if(null!=t.parentLocale)if(null!=Of[t.parentLocale])r=Of[t.parentLocale]._config;else{if(null==(n=If(t.parentLocale)))return Af[t.parentLocale]||(Af[t.parentLocale]=[]),Af[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Of[e]=new Qm(Km(r,t)),Af[e]&&Af[e].forEach(function(e){Ff(e.name,e.config)}),Lf(e),Of[e]}return delete Of[e],null}function zf(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Mf;if(!Sm(e)){if(t=If(e))return t;e=[e]}return function(e){for(var t,n,r,s,a=0;a<e.length;){for(t=(s=Rf(e[a]).split("-")).length,n=(n=Rf(e[a+1]))?n.split("-"):null;t>0;){if(r=If(s.slice(0,t).join("-")))return r;if(n&&n.length>=t&&Pf(s,n)>=t-1)break;t--}a++}return Mf}(e)}function Uf(e){var t,n=e._a;return n&&-2===Rm(e).overflow&&(t=n[Uh]<0||n[Uh]>11?Uh:n[qh]<1||n[qh]>ef(n[zh],n[Uh])?qh:n[Bh]<0||n[Bh]>24||24===n[Bh]&&(0!==n[Yh]||0!==n[Wh]||0!==n[Hh])?Bh:n[Yh]<0||n[Yh]>59?Yh:n[Wh]<0||n[Wh]>59?Wh:n[Hh]<0||n[Hh]>999?Hh:-1,Rm(e)._overflowDayOfYear&&(t<zh||t>qh)&&(t=qh),Rm(e)._overflowWeeks&&-1===t&&(t=Vh),Rm(e)._overflowWeekday&&-1===t&&(t=$h),Rm(e).overflow=t),e}var qf=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yf=/Z|[+-]\d\d(?::?\d\d)?/,Wf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Hf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Vf=/^\/?Date\((-?\d+)/i,$f=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Gf={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Kf(e){var t,n,r,s,a,i,o=e._i,l=qf.exec(o)||Bf.exec(o),c=Wf.length,d=Hf.length;if(l){for(Rm(e).iso=!0,t=0,n=c;t<n;t++)if(Wf[t][1].exec(l[1])){s=Wf[t][0],r=!1!==Wf[t][2];break}if(null==s)return void(e._isValid=!1);if(l[3]){for(t=0,n=d;t<n;t++)if(Hf[t][1].exec(l[3])){a=(l[2]||" ")+Hf[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(l[4]){if(!Yf.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=s+(a||"")+(i||""),ep(e)}else e._isValid=!1}function Qf(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Xf(e){var t,n,r,s,a,i,o,l,c=$f.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],s=c[2],a=c[5],i=c[6],o=c[7],l=[Qf(n),nf.indexOf(r),parseInt(s,10),parseInt(a,10),parseInt(i,10)],o&&l.push(parseInt(o,10)),t=l,!function(e,t,n){return!e||yf.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(Rm(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return Gf[e];if(t)return 0;var r=parseInt(n,10),s=r%100;return(r-s)/100*60+s}(c[8],c[9],c[10]),e._d=mf.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Rm(e).rfc2822=!0}else e._isValid=!1}function Zf(e,t,n){return null!=e?e:null!=t?t:n}function Jf(e){var t,n,r,s,a,i=[];if(!e._d){for(r=function(e){var t=new Date(km.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[qh]&&null==e._a[Uh]&&function(e){var t,n,r,s,a,i,o,l,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,i=4,n=Zf(t.GG,e._a[zh],pf(rp(),1,4).year),r=Zf(t.W,1),((s=Zf(t.E,1))<1||s>7)&&(l=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,c=pf(rp(),a,i),n=Zf(t.gg,e._a[zh],c.year),r=Zf(t.w,c.week),null!=t.d?((s=t.d)<0||s>6)&&(l=!0):null!=t.e?(s=t.e+a,(t.e<0||t.e>6)&&(l=!0)):s=a);r<1||r>gf(n,a,i)?Rm(e)._overflowWeeks=!0:null!=l?Rm(e)._overflowWeekday=!0:(o=ff(n,r,s,a,i),e._a[zh]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(a=Zf(e._a[zh],r[zh]),(e._dayOfYear>Gh(a)||0===e._dayOfYear)&&(Rm(e)._overflowDayOfYear=!0),n=mf(a,0,e._dayOfYear),e._a[Uh]=n.getUTCMonth(),e._a[qh]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Bh]&&0===e._a[Yh]&&0===e._a[Wh]&&0===e._a[Hh]&&(e._nextDay=!0,e._a[Bh]=0),e._d=(e._useUTC?mf:uf).apply(null,i),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Bh]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(Rm(e).weekdayMismatch=!0)}}function ep(e){if(e._f!==km.ISO_8601)if(e._f!==km.RFC_2822){e._a=[],Rm(e).empty=!0;var t,n,r,s,a,i,o,l=""+e._i,c=l.length,d=0;for(o=(r=ah(e._f,e._locale).match(Zm)||[]).length,t=0;t<o;t++)s=r[t],(n=(l.match(Mh(s,e))||[])[0])&&((a=l.substr(0,l.indexOf(n))).length>0&&Rm(e).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),d+=n.length),th[s]?(n?Rm(e).empty=!1:Rm(e).unusedTokens.push(s),Lh(s,n,e)):e._strict&&!n&&Rm(e).unusedTokens.push(s);Rm(e).charsLeftOver=c-d,l.length>0&&Rm(e).unusedInput.push(l),e._a[Bh]<=12&&!0===Rm(e).bigHour&&e._a[Bh]>0&&(Rm(e).bigHour=void 0),Rm(e).parsedDateParts=e._a.slice(0),Rm(e).meridiem=e._meridiem,e._a[Bh]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[Bh],e._meridiem),null!==(i=Rm(e).era)&&(e._a[zh]=e._locale.erasConvertYear(i,e._a[zh])),Jf(e),Uf(e)}else Xf(e);else Kf(e)}function tp(e){var t=e._i,n=e._f;return e._locale=e._locale||zf(e._l),null===t||void 0===n&&""===t?Lm({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),Bm(t)?new qm(Uf(t)):(Cm(t)?e._d=t:Sm(n)?function(e){var t,n,r,s,a,i,o=!1,l=e._f.length;if(0===l)return Rm(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<l;s++)a=0,i=!1,t=Um({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],ep(t),Im(t)&&(i=!0),a+=Rm(t).charsLeftOver,a+=10*Rm(t).unusedTokens.length,Rm(t).score=a,o?a<r&&(r=a,n=t):(null==r||a<r||i)&&(r=a,n=t,i&&(o=!0));Am(e,n||t)}(e):n?ep(e):function(e){var t=e._i;Tm(t)?e._d=new Date(km.now()):Cm(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Vf.exec(e._i);null===t?(Kf(e),!1===e._isValid&&(delete e._isValid,Xf(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:km.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):Sm(t)?(e._a=Om(t.slice(0),function(e){return parseInt(e,10)}),Jf(e)):_m(t)?function(e){if(!e._d){var t=lh(e._i),n=void 0===t.day?t.date:t.day;e._a=Om([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Jf(e)}}(e):Mm(t)?e._d=new Date(t):km.createFromInputFallback(e)}(e),Im(e)||(e._d=null),e))}function np(e,t,n,r,s){var a,i={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(_m(e)&&Dm(e)||Sm(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=e,i._f=t,i._strict=r,(a=new qm(Uf(tp(i))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function rp(e,t,n,r){return np(e,t,n,r,!1)}km.createFromInputFallback=Wm("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),km.ISO_8601=function(){},km.RFC_2822=function(){};var sp=Wm("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=rp.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Lm()}),ap=Wm("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=rp.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Lm()});function ip(e,t){var n,r;if(1===t.length&&Sm(t[0])&&(t=t[0]),!t.length)return rp();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var op=["year","quarter","month","week","day","hour","minute","second","millisecond"];function lp(e){var t=lh(e),n=t.year||0,r=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,i=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,r=!1,s=op.length;for(t in e)if(Em(e,t)&&(-1===Kh.call(op,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<s;++n)if(e[op[n]]){if(r)return!1;parseFloat(e[op[n]])!==Ah(e[op[n]])&&(r=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*o*60*60,this._days=+i+7*a,this._months=+s+3*r+12*n,this._data={},this._locale=zf(),this._bubble()}function cp(e){return e instanceof lp}function dp(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function up(e,t){nh(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Xm(~~(e/60),2)+t+Xm(~~e%60,2)})}up("Z",":"),up("ZZ",""),Th("Z",Sh),Th("ZZ",Sh),Rh(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=hp(Sh,e)});var mp=/([\+\-]|\d\d)/gi;function hp(e,t){var n,r,s=(t||"").match(e);return null===s?null:0===(r=60*(n=((s[s.length-1]||[])+"").match(mp)||["-",0,0])[1]+Ah(n[2]))?0:"+"===n[0]?r:-r}function fp(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Bm(e)||Cm(e)?e.valueOf():rp(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),km.updateOffset(n,!1),n):rp(e).local()}function pp(e){return-Math.round(e._d.getTimezoneOffset())}function gp(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}km.updateOffset=function(){};var vp=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xp=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function yp(e,t){var n,r,s,a=e,i=null;return cp(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:Mm(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(i=vp.exec(e))?(n="-"===i[1]?-1:1,a={y:0,d:Ah(i[qh])*n,h:Ah(i[Bh])*n,m:Ah(i[Yh])*n,s:Ah(i[Wh])*n,ms:Ah(dp(1e3*i[Hh]))*n}):(i=xp.exec(e))?(n="-"===i[1]?-1:1,a={y:bp(i[2],n),M:bp(i[3],n),w:bp(i[4],n),d:bp(i[5],n),h:bp(i[6],n),m:bp(i[7],n),s:bp(i[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=fp(t,e),e.isBefore(t)?n=wp(e,t):((n=wp(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(rp(a.from),rp(a.to)),(a={}).ms=s.milliseconds,a.M=s.months),r=new lp(a),cp(e)&&Em(e,"_locale")&&(r._locale=e._locale),cp(e)&&Em(e,"_isValid")&&(r._isValid=e._isValid),r}function bp(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function wp(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function jp(e,t){return function(n,r){var s;return null===r||isNaN(+r)||($m(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),Np(this,yp(n,r),e),this}}function Np(e,t,n,r){var s=t._milliseconds,a=dp(t._days),i=dp(t._months);e.isValid()&&(r=null==r||r,i&&lf(e,Zh(e,"Month")+i*n),a&&Jh(e,"Date",Zh(e,"Date")+a*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&km.updateOffset(e,a||i))}yp.fn=lp.prototype,yp.invalid=function(){return yp(NaN)};var kp=jp(1,"add"),Sp=jp(-1,"subtract");function _p(e){return"string"==typeof e||e instanceof String}function Ep(e){return Bm(e)||Cm(e)||_p(e)||Mm(e)||function(e){var t=Sm(e),n=!1;t&&(n=0===e.filter(function(t){return!Mm(t)&&_p(e)}).length);return t&&n}(e)||function(e){var t,n,r=_m(e)&&!Dm(e),s=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i=a.length;for(t=0;t<i;t+=1)n=a[t],s=s||Em(e,n);return r&&s}(e)||null==e}function Dp(e,t){if(e.date()<t.date())return-Dp(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Tp(e){var t;return void 0===e?this._locale._abbr:(null!=(t=zf(e))&&(this._locale=t),this)}km.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",km.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Mp=Wm("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Cp(){return this._locale}var Op=1e3,Ap=6e4,Pp=36e5,Rp=126227808e5;function Ip(e,t){return(e%t+t)%t}function Lp(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Rp:new Date(e,t,n).valueOf()}function Fp(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Rp:Date.UTC(e,t,n)}function zp(e,t){return t.erasAbbrRegex(e)}function Up(){var e,t,n,r,s,a=[],i=[],o=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=Ch(c[e].name),r=Ch(c[e].abbr),s=Ch(c[e].narrow),i.push(n),a.push(r),o.push(s),l.push(n),l.push(r),l.push(s);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function qp(e,t){nh(0,[e,e.length],0,t)}function Bp(e,t,n,r,s){var a;return null==e?pf(this,r,s).year:(t>(a=gf(e,r,s))&&(t=a),Yp.call(this,e,t,n,r,s))}function Yp(e,t,n,r,s){var a=ff(e,t,n,r,s),i=mf(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}nh("N",0,0,"eraAbbr"),nh("NN",0,0,"eraAbbr"),nh("NNN",0,0,"eraAbbr"),nh("NNNN",0,0,"eraName"),nh("NNNNN",0,0,"eraNarrow"),nh("y",["y",1],"yo","eraYear"),nh("y",["yy",2],0,"eraYear"),nh("y",["yyy",3],0,"eraYear"),nh("y",["yyyy",4],0,"eraYear"),Th("N",zp),Th("NN",zp),Th("NNN",zp),Th("NNNN",function(e,t){return t.erasNameRegex(e)}),Th("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),Rh(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?Rm(n).era=s:Rm(n).invalidEra=e}),Th("y",jh),Th("yy",jh),Th("yyy",jh),Th("yyyy",jh),Th("yo",function(e,t){return t._eraYearOrdinalRegex||jh}),Rh(["y","yy","yyy","yyyy"],zh),Rh(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[zh]=n._locale.eraYearOrdinalParse(e,s):t[zh]=parseInt(e,10)}),nh(0,["gg",2],0,function(){return this.weekYear()%100}),nh(0,["GG",2],0,function(){return this.isoWeekYear()%100}),qp("gggg","weekYear"),qp("ggggg","weekYear"),qp("GGGG","isoWeekYear"),qp("GGGGG","isoWeekYear"),Th("G",Nh),Th("g",Nh),Th("GG",gh,mh),Th("gg",gh,mh),Th("GGGG",bh,fh),Th("gggg",bh,fh),Th("GGGGG",wh,ph),Th("ggggg",wh,ph),Ih(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ah(e)}),Ih(["gg","GG"],function(e,t,n,r){t[r]=km.parseTwoDigitYear(e)}),nh("Q",0,"Qo","quarter"),Th("Q",uh),Rh("Q",function(e,t){t[Uh]=3*(Ah(e)-1)}),nh("D",["DD",2],"Do","date"),Th("D",gh,Eh),Th("DD",gh,mh),Th("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Rh(["D","DD"],qh),Rh("Do",function(e,t){t[qh]=Ah(e.match(gh)[0])});var Wp=Xh("Date",!0);nh("DDD",["DDDD",3],"DDDo","dayOfYear"),Th("DDD",yh),Th("DDDD",hh),Rh(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ah(e)}),nh("m",["mm",2],0,"minute"),Th("m",gh,Dh),Th("mm",gh,mh),Rh(["m","mm"],Yh);var Hp=Xh("Minutes",!1);nh("s",["ss",2],0,"second"),Th("s",gh,Dh),Th("ss",gh,mh),Rh(["s","ss"],Wh);var Vp,$p,Gp=Xh("Seconds",!1);for(nh("S",0,0,function(){return~~(this.millisecond()/100)}),nh(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),nh(0,["SSS",3],0,"millisecond"),nh(0,["SSSS",4],0,function(){return 10*this.millisecond()}),nh(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),nh(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),nh(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),nh(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),nh(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Th("S",yh,uh),Th("SS",yh,mh),Th("SSS",yh,hh),Vp="SSSS";Vp.length<=9;Vp+="S")Th(Vp,jh);function Kp(e,t){t[Hh]=Ah(1e3*("0."+e))}for(Vp="S";Vp.length<=9;Vp+="S")Rh(Vp,Kp);$p=Xh("Milliseconds",!1),nh("z",0,0,"zoneAbbr"),nh("zz",0,0,"zoneName");var Qp=qm.prototype;function Xp(e){return e}Qp.add=kp,Qp.calendar=function(e,t){1===arguments.length&&(arguments[0]?Ep(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,n=_m(e)&&!Dm(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)r=r||Em(e,s[t]);return n&&r}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||rp(),r=fp(n,this).startOf("day"),s=km.calendarFormat(this,r)||"sameElse",a=t&&(Gm(t[s])?t[s].call(this,n):t[s]);return this.format(a||this.localeData().calendar(s,this,rp(n)))},Qp.clone=function(){return new qm(this)},Qp.diff=function(e,t,n){var r,s,a;if(!this.isValid())return NaN;if(!(r=fp(e,this)).isValid())return NaN;switch(s=6e4*(r.utcOffset()-this.utcOffset()),t=oh(t)){case"year":a=Dp(this,r)/12;break;case"month":a=Dp(this,r);break;case"quarter":a=Dp(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-s)/864e5;break;case"week":a=(this-r-s)/6048e5;break;default:a=this-r}return n?a:Oh(a)},Qp.endOf=function(e){var t,n;if(void 0===(e=oh(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Fp:Lp,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Pp-Ip(t+(this._isUTC?0:this.utcOffset()*Ap),Pp)-1;break;case"minute":t=this._d.valueOf(),t+=Ap-Ip(t,Ap)-1;break;case"second":t=this._d.valueOf(),t+=Op-Ip(t,Op)-1}return this._d.setTime(t),km.updateOffset(this,!0),this},Qp.format=function(e){e||(e=this.isUtc()?km.defaultFormatUtc:km.defaultFormat);var t=sh(this,e);return this.localeData().postformat(t)},Qp.from=function(e,t){return this.isValid()&&(Bm(e)&&e.isValid()||rp(e).isValid())?yp({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Qp.fromNow=function(e){return this.from(rp(),e)},Qp.to=function(e,t){return this.isValid()&&(Bm(e)&&e.isValid()||rp(e).isValid())?yp({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Qp.toNow=function(e){return this.to(rp(),e)},Qp.get=function(e){return Gm(this[e=oh(e)])?this[e]():this},Qp.invalidAt=function(){return Rm(this).overflow},Qp.isAfter=function(e,t){var n=Bm(e)?e:rp(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=oh(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Qp.isBefore=function(e,t){var n=Bm(e)?e:rp(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=oh(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Qp.isBetween=function(e,t,n,r){var s=Bm(e)?e:rp(e),a=Bm(t)?t:rp(t);return!!(this.isValid()&&s.isValid()&&a.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(s,n):!this.isBefore(s,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n)))},Qp.isSame=function(e,t){var n,r=Bm(e)?e:rp(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=oh(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Qp.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Qp.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Qp.isValid=function(){return Im(this)},Qp.lang=Mp,Qp.locale=Tp,Qp.localeData=Cp,Qp.max=ap,Qp.min=sp,Qp.parsingFlags=function(){return Am({},Rm(this))},Qp.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)Em(e,t)&&n.push({unit:t,priority:ch[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=lh(e)),s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(Gm(this[e=oh(e)]))return this[e](t);return this},Qp.startOf=function(e){var t,n;if(void 0===(e=oh(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Fp:Lp,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ip(t+(this._isUTC?0:this.utcOffset()*Ap),Pp);break;case"minute":t=this._d.valueOf(),t-=Ip(t,Ap);break;case"second":t=this._d.valueOf(),t-=Ip(t,Op)}return this._d.setTime(t),km.updateOffset(this,!0),this},Qp.subtract=Sp,Qp.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Qp.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Qp.toDate=function(){return new Date(this.valueOf())},Qp.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?sh(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Gm(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",sh(n,"Z")):sh(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Qp.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",s="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=s+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Qp[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Qp.toJSON=function(){return this.isValid()?this.toISOString():null},Qp.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Qp.unix=function(){return Math.floor(this.valueOf()/1e3)},Qp.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Qp.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Qp.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},Qp.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},Qp.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},Qp.eraYear=function(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-km(s[e].since).year())*n+s[e].offset;return this.year()},Qp.year=Qh,Qp.isLeapYear=function(){return Fh(this.year())},Qp.weekYear=function(e){return Bp.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},Qp.isoWeekYear=function(e){return Bp.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Qp.quarter=Qp.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Qp.month=cf,Qp.daysInMonth=function(){return ef(this.year(),this.month())},Qp.week=Qp.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Qp.isoWeek=Qp.isoWeeks=function(e){var t=pf(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Qp.weeksInYear=function(){var e=this.localeData()._week;return gf(this.year(),e.dow,e.doy)},Qp.weeksInWeekYear=function(){var e=this.localeData()._week;return gf(this.weekYear(),e.dow,e.doy)},Qp.isoWeeksInYear=function(){return gf(this.year(),1,4)},Qp.isoWeeksInISOWeekYear=function(){return gf(this.isoWeekYear(),1,4)},Qp.date=Wp,Qp.day=Qp.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=Zh(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Qp.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Qp.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Qp.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Qp.hour=Qp.hours=Tf,Qp.minute=Qp.minutes=Hp,Qp.second=Qp.seconds=Gp,Qp.millisecond=Qp.milliseconds=$p,Qp.utcOffset=function(e,t,n){var r,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=hp(Sh,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=pp(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==e&&(!t||this._changeInProgress?Np(this,yp(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,km.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:pp(this)},Qp.utc=function(e){return this.utcOffset(0,e)},Qp.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pp(this),"m")),this},Qp.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=hp(kh,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Qp.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?rp(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Qp.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Qp.isLocal=function(){return!!this.isValid()&&!this._isUTC},Qp.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Qp.isUtc=gp,Qp.isUTC=gp,Qp.zoneAbbr=function(){return this._isUTC?"UTC":""},Qp.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Qp.dates=Wm("dates accessor is deprecated. Use date instead.",Wp),Qp.months=Wm("months accessor is deprecated. Use month instead",cf),Qp.years=Wm("years accessor is deprecated. Use year instead",Qh),Qp.zone=Wm("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Qp.isDSTShifted=Wm("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!Tm(this._isDSTShifted))return this._isDSTShifted;var e,t={};return Um(t,this),(t=tp(t))._a?(e=t._isUTC?Pm(t._a):rp(t._a),this._isDSTShifted=this.isValid()&&function(e,t){var n,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(n=0;n<r;n++)Ah(e[n])!==Ah(t[n])&&a++;return a+s}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Zp=Qm.prototype;function Jp(e,t,n,r){var s=zf(),a=Pm().set(r,t);return s[n](a,e)}function eg(e,t,n){if(Mm(e)&&(t=e,e=void 0),e=e||"",null!=t)return Jp(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Jp(e,r,n,"month");return s}function tg(e,t,n,r){"boolean"==typeof e?(Mm(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,Mm(t)&&(n=t,t=void 0),t=t||"");var s,a=zf(),i=e?a._week.dow:0,o=[];if(null!=n)return Jp(t,(n+i)%7,r,"day");for(s=0;s<7;s++)o[s]=Jp(t,(s+i)%7,r,"day");return o}Zp.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Gm(r)?r.call(t,n):r},Zp.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Zm).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},Zp.invalidDate=function(){return this._invalidDate},Zp.ordinal=function(e){return this._ordinal.replace("%d",e)},Zp.preparse=Xp,Zp.postformat=Xp,Zp.relativeTime=function(e,t,n,r){var s=this._relativeTime[n];return Gm(s)?s(e,t,n,r):s.replace(/%d/i,e)},Zp.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return Gm(n)?n(t):n.replace(/%s/i,t)},Zp.set=function(e){var t,n;for(n in e)Em(e,n)&&(Gm(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Zp.eras=function(e,t){var n,r,s,a=this._eras||zf("en")._eras;for(n=0,r=a.length;n<r;++n){if("string"==typeof a[n].since)s=km(a[n].since).startOf("day"),a[n].since=s.valueOf();switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":s=km(a[n].until).startOf("day").valueOf(),a[n].until=s.valueOf()}}return a},Zp.erasParse=function(e,t,n){var r,s,a,i,o,l=this.eras();for(e=e.toUpperCase(),r=0,s=l.length;r<s;++r)if(a=l[r].name.toUpperCase(),i=l[r].abbr.toUpperCase(),o=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(i===e)return l[r];break;case"NNNN":if(a===e)return l[r];break;case"NNNNN":if(o===e)return l[r]}else if([a,i,o].indexOf(e)>=0)return l[r]},Zp.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?km(e.since).year():km(e.since).year()+(t-e.offset)*n},Zp.erasAbbrRegex=function(e){return Em(this,"_erasAbbrRegex")||Up.call(this),e?this._erasAbbrRegex:this._erasRegex},Zp.erasNameRegex=function(e){return Em(this,"_erasNameRegex")||Up.call(this),e?this._erasNameRegex:this._erasRegex},Zp.erasNarrowRegex=function(e){return Em(this,"_erasNarrowRegex")||Up.call(this),e?this._erasNarrowRegex:this._erasRegex},Zp.months=function(e,t){return e?Sm(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rf).test(t)?"format":"standalone"][e.month()]:Sm(this._months)?this._months:this._months.standalone},Zp.monthsShort=function(e,t){return e?Sm(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rf.test(t)?"format":"standalone"][e.month()]:Sm(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Zp.monthsParse=function(e,t,n){var r,s,a;if(this._monthsParseExact)return of.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Pm([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Zp.monthsRegex=function(e){return this._monthsParseExact?(Em(this,"_monthsRegex")||df.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Em(this,"_monthsRegex")||(this._monthsRegex=af),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Zp.monthsShortRegex=function(e){return this._monthsParseExact?(Em(this,"_monthsRegex")||df.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Em(this,"_monthsShortRegex")||(this._monthsShortRegex=sf),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Zp.week=function(e){return pf(e,this._week.dow,this._week.doy).week},Zp.firstDayOfYear=function(){return this._week.doy},Zp.firstDayOfWeek=function(){return this._week.dow},Zp.weekdays=function(e,t){var n=Sm(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?vf(n,this._week.dow):e?n[e.day()]:n},Zp.weekdaysMin=function(e){return!0===e?vf(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Zp.weekdaysShort=function(e){return!0===e?vf(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Zp.weekdaysParse=function(e,t,n){var r,s,a;if(this._weekdaysParseExact)return kf.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Pm([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Zp.weekdaysRegex=function(e){return this._weekdaysParseExact?(Em(this,"_weekdaysRegex")||Sf.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Em(this,"_weekdaysRegex")||(this._weekdaysRegex=wf),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Zp.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(Em(this,"_weekdaysRegex")||Sf.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Em(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jf),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Zp.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(Em(this,"_weekdaysRegex")||Sf.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Em(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Nf),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Zp.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Zp.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},Lf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Ah(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),km.lang=Wm("moment.lang is deprecated. Use moment.locale instead.",Lf),km.langData=Wm("moment.langData is deprecated. Use moment.localeData instead.",zf);var ng=Math.abs;function rg(e,t,n,r){var s=yp(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function sg(e){return e<0?Math.floor(e):Math.ceil(e)}function ag(e){return 4800*e/146097}function ig(e){return 146097*e/4800}function og(e){return function(){return this.as(e)}}var lg=og("ms"),cg=og("s"),dg=og("m"),ug=og("h"),mg=og("d"),hg=og("w"),fg=og("M"),pg=og("Q"),gg=og("y"),vg=lg;function xg(e){return function(){return this.isValid()?this._data[e]:NaN}}var yg=xg("milliseconds"),bg=xg("seconds"),wg=xg("minutes"),jg=xg("hours"),Ng=xg("days"),kg=xg("months"),Sg=xg("years");var _g=Math.round,Eg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Dg(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}var Tg=Math.abs;function Mg(e){return(e>0)-(e<0)||+e}function Cg(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,s,a,i,o,l=Tg(this._milliseconds)/1e3,c=Tg(this._days),d=Tg(this._months),u=this.asSeconds();return u?(e=Oh(l/60),t=Oh(e/60),l%=60,e%=60,n=Oh(d/12),d%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",s=u<0?"-":"",a=Mg(this._months)!==Mg(u)?"-":"",i=Mg(this._days)!==Mg(u)?"-":"",o=Mg(this._milliseconds)!==Mg(u)?"-":"",s+"P"+(n?a+n+"Y":"")+(d?a+d+"M":"")+(c?i+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+r+"S":"")):"P0D"}var Og=lp.prototype;Og.isValid=function(){return this._isValid},Og.abs=function(){var e=this._data;return this._milliseconds=ng(this._milliseconds),this._days=ng(this._days),this._months=ng(this._months),e.milliseconds=ng(e.milliseconds),e.seconds=ng(e.seconds),e.minutes=ng(e.minutes),e.hours=ng(e.hours),e.months=ng(e.months),e.years=ng(e.years),this},Og.add=function(e,t){return rg(this,e,t,1)},Og.subtract=function(e,t){return rg(this,e,t,-1)},Og.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=oh(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+ag(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ig(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Og.asMilliseconds=lg,Og.asSeconds=cg,Og.asMinutes=dg,Og.asHours=ug,Og.asDays=mg,Og.asWeeks=hg,Og.asMonths=fg,Og.asQuarters=pg,Og.asYears=gg,Og.valueOf=vg,Og._bubble=function(){var e,t,n,r,s,a=this._milliseconds,i=this._days,o=this._months,l=this._data;return a>=0&&i>=0&&o>=0||a<=0&&i<=0&&o<=0||(a+=864e5*sg(ig(o)+i),i=0,o=0),l.milliseconds=a%1e3,e=Oh(a/1e3),l.seconds=e%60,t=Oh(e/60),l.minutes=t%60,n=Oh(t/60),l.hours=n%24,i+=Oh(n/24),o+=s=Oh(ag(i)),i-=sg(ig(s)),r=Oh(o/12),o%=12,l.days=i,l.months=o,l.years=r,this},Og.clone=function(){return yp(this)},Og.get=function(e){return e=oh(e),this.isValid()?this[e+"s"]():NaN},Og.milliseconds=yg,Og.seconds=bg,Og.minutes=wg,Og.hours=jg,Og.days=Ng,Og.weeks=function(){return Oh(this.days()/7)},Og.months=kg,Og.years=Sg,Og.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,s=!1,a=Eg;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(s=e),"object"==typeof t&&(a=Object.assign({},Eg,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=function(e,t,n,r){var s=yp(e).abs(),a=_g(s.as("s")),i=_g(s.as("m")),o=_g(s.as("h")),l=_g(s.as("d")),c=_g(s.as("M")),d=_g(s.as("w")),u=_g(s.as("y")),m=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||i<=1&&["m"]||i<n.m&&["mm",i]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(m=m||d<=1&&["w"]||d<n.w&&["ww",d]),(m=m||c<=1&&["M"]||c<n.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,m[3]=+e>0,m[4]=r,Dg.apply(null,m)}(this,!s,a,n=this.localeData()),s&&(r=n.pastFuture(+this,r)),n.postformat(r)},Og.toISOString=Cg,Og.toString=Cg,Og.toJSON=Cg,Og.locale=Tp,Og.localeData=Cp,Og.toIsoString=Wm("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cg),Og.lang=Mp,nh("X",0,0,"unix"),nh("x",0,0,"valueOf"),Th("x",Nh),Th("X",/[+-]?\d+(\.\d{1,3})?/),Rh("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),Rh("x",function(e,t,n){n._d=new Date(Ah(e))}),
//! moment.js
km.version="2.30.1",xm=rp,km.fn=Qp,km.min=function(){return ip("isBefore",[].slice.call(arguments,0))},km.max=function(){return ip("isAfter",[].slice.call(arguments,0))},km.now=function(){return Date.now?Date.now():+new Date},km.utc=Pm,km.unix=function(e){return rp(1e3*e)},km.months=function(e,t){return eg(e,t,"months")},km.isDate=Cm,km.locale=Lf,km.invalid=Lm,km.duration=yp,km.isMoment=Bm,km.weekdays=function(e,t,n){return tg(e,t,n,"weekdays")},km.parseZone=function(){return rp.apply(null,arguments).parseZone()},km.localeData=zf,km.isDuration=cp,km.monthsShort=function(e,t){return eg(e,t,"monthsShort")},km.weekdaysMin=function(e,t,n){return tg(e,t,n,"weekdaysMin")},km.defineLocale=Ff,km.updateLocale=function(e,t){if(null!=t){var n,r,s=Cf;null!=Of[e]&&null!=Of[e].parentLocale?Of[e].set(Km(Of[e]._config,t)):(null!=(r=If(e))&&(s=r._config),t=Km(s,t),null==r&&(t.abbr=e),(n=new Qm(t)).parentLocale=Of[e],Of[e]=n),Lf(e)}else null!=Of[e]&&(null!=Of[e].parentLocale?(Of[e]=Of[e].parentLocale,e===Lf()&&Lf(e)):null!=Of[e]&&delete Of[e]);return Of[e]},km.locales=function(){return Hm(Of)},km.weekdaysShort=function(e,t,n){return tg(e,t,n,"weekdaysShort")},km.normalizeUnits=oh,km.relativeTimeRounding=function(e){return void 0===e?_g:"function"==typeof e&&(_g=e,!0)},km.relativeTimeThreshold=function(e,t){return void 0!==Eg[e]&&(void 0===t?Eg[e]:(Eg[e]=t,"s"===e&&(Eg.ss=t-1),!0))},km.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},km.prototype=Qp,km.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Ag=[{id:"ws25-launch-2359",title:"Season WS25 FS QDS Battleground begins!",date:"2025-09-13",time:"23:59",endTime:"23:59",location:"Online",description:"Winter Semester 2025 Battleground season kickoff. Prepare your strategies and get ready to compete!",type:"competition",organizer:"FS Quant & Data Science",tags:["battleground","ws25","launch"]},{id:"ws25-agenda-2100",title:"Agenda for WS25 goes live!",date:"2025-09-13",time:"21:00",endTime:"22:00",location:"Frankfurt School",description:"Detailed WS25 schedule, milestones, and participation guide published.",type:"meetup",organizer:"FS Quant & Data Science",tags:["agenda","ws25"]},{id:"event-001",title:"Introduction to Quantitative Finance",date:"2025-02-15",time:"14:00",endTime:"17:00",location:"Frankfurt School, Room 201",description:"Learn the fundamentals of quantitative finance, risk modeling, and algorithmic trading strategies",type:"workshop",organizer:"FS Quant & Data Science",registrationLink:"https://fs-students.de/events/quant-finance",capacity:30,tags:["quantitative-finance","python","beginner-friendly"]},{id:"event-002",title:"Data Science Career Night with McKinsey",date:"2025-02-20",time:"18:00",endTime:"20:30",location:"Frankfurt School, Audimax",description:"Join us for an evening with McKinsey data scientists discussing career opportunities and real-world projects",type:"speaker",organizer:"FS Quant & Data Science",capacity:100,tags:["career","networking","mckinsey"]},{id:"event-003",title:"Hack the DAX - Trading Competition",date:"2025-03-01",time:"09:00",endTime:"18:00",location:"Frankfurt School, Trading Lab",description:"Annual trading competition - build and test your algorithmic trading strategies on real market data",type:"competition",organizer:"FS Quant & Data Science",registrationLink:"https://fs-students.de/events/hack-the-dax",capacity:50,tags:["competition","trading","prizes"]},{id:"event-004",title:"Machine Learning Study Group",date:"2025-02-25",time:"16:00",endTime:"18:00",location:"Frankfurt School, Library Study Room 3",description:"Weekly study group for machine learning enthusiasts. This week: Neural Networks and Deep Learning",type:"meetup",organizer:"FS Quant & Data Science",capacity:20,tags:["study-group","machine-learning","deep-learning"]},{id:"event-005",title:"Kickoff Meeting - FS Quant & Data Science Initiative",date:"2025-09-13",time:"20:15",endTime:"20:45",location:"Frankfurt School Campus",description:"Join us for the kickoff meeting of the initiative. Meet the team, learn about divisions, and how to get involved.",type:"meetup",organizer:"FS Quant & Data Science"},{id:"event-006",title:"Community Life Fair",date:"2025-09-02",time:"17:00",endTime:"20:00",location:"Outside Audimax",description:"Discover campus clubs and initiatives at the Community Life Fair.",type:"meetup",organizer:"Frankfurt School Student Life"}],Pg=[{id:"past-001",title:"Data Science Career Panel",date:"2024-01-10",time:"18:00",endTime:"20:00",location:"Frankfurt School, Audimax",description:"Industry professionals discuss career paths in data science",type:"speaker",organizer:"FS Quant & Data Science",tags:["career","networking"]},{id:"past-002",title:"Quantitative Trading Strategies Workshop",date:"2024-01-25",time:"15:00",endTime:"18:00",location:"Frankfurt School, Trading Lab",description:"Learn about algorithmic trading and backtesting strategies",type:"workshop",organizer:"FS Quant & Data Science",tags:["trading","finance","python"]}];const Rg=pe,Ig=fe,Lg=Ke.forwardRef(({className:e,...t},n)=>$.jsx(ce,{ref:n,className:Da("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Lg.displayName=ce.displayName;const Fg=Ke.forwardRef(({className:e,children:t,...n},r)=>$.jsxs(Ig,{children:[$.jsx(Lg,{}),$.jsxs(de,{ref:r,className:Da("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,$.jsxs(ue,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[$.jsx(tr,{className:"h-4 w-4"}),$.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fg.displayName=de.displayName;const zg=({className:e,...t})=>$.jsx("div",{className:Da("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zg.displayName="DialogHeader";const Ug=Ke.forwardRef(({className:e,...t},n)=>$.jsx(me,{ref:n,className:Da("text-lg font-semibold leading-none tracking-tight",e),...t}));Ug.displayName=me.displayName;Ke.forwardRef(({className:e,...t},n)=>$.jsx(he,{ref:n,className:Da("text-sm text-muted-foreground",e),...t})).displayName=he.displayName;const qg=function(e){function t(t,n){var r,s,a=e(t).local(),i=e(n).local();if(!e.tz)return a.toDate().getTimezoneOffset()-i.toDate().getTimezoneOffset();var o=null!==(r=null==a||null===(s=a._z)||void 0===s?void 0:s.name)&&void 0!==r?r:e.tz.guess();return e.tz.zone(o).utcOffset(+a)-e.tz.zone(o).utcOffset(+i)}function n(t,n,r){var s=Nm(r);return[s?e(t).startOf(s):e(t),s?e(n).startOf(s):e(n),s]}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Nm(arguments.length>1?arguments[1]:void 0);return n?e(t).startOf(n).toDate():e(t).toDate()}function s(e,t,r){var s=Ai(n(e,t,r),3),a=s[0],i=s[1],o=s[2];return a.isSame(i,o)}function a(e,t,r){var s=Ai(n(e,t,r),3),a=s[0],i=s[1],o=s[2];return a.isSameOrBefore(i,o)}function i(t,n,r){var s=Nm(r);return e(t).add(n,s).toDate()}function o(t,n){var r=Nm(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),s=e(t);return e(n).diff(s,r)}function l(t){return e(t).startOf("month").startOf("week").toDate()}function c(t){return e(t).endOf("month").endOf("week").toDate()}function d(t,n){var r=e(t),s=e(n);return e.duration(s.diff(r)).days()}return new Vd({formats:jm,firstOfWeek:function(t){var n=t?e.localeData(t):e.localeData();return n?n.firstDayOfWeek():0},firstVisibleDay:l,lastVisibleDay:c,visibleDays:function(e){for(var t=l(e),n=c(e),r=[];a(t,n);)r.push(t),t=i(t,1,"d");return r},format:function(t,n,r){return(s=e(t),a=r,a?s.locale(a):s).format(n);var s,a},lt:function(e,t,r){var s=Ai(n(e,t,r),3),a=s[0],i=s[1],o=s[2];return a.isBefore(i,o)},lte:a,gt:function(e,t,r){var s=Ai(n(e,t,r),3),a=s[0],i=s[1],o=s[2];return a.isAfter(i,o)},gte:function(e,t,r){var s=Ai(n(e,t,r),3),a=s[0],i=s[1],o=s[2];return a.isSameOrBefore(i,o)},eq:s,neq:function(e,t,n){return!s(e,t,n)},merge:function(t,n){if(!t&&!n)return null;var r=e(n).format("HH:mm:ss"),s=e(t).startOf("day").format("MM/DD/YYYY");return e("".concat(s," ").concat(r),"MM/DD/YYYY HH:mm:ss").toDate()},inRange:function(t,n,r){var s=Nm(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"day"),a=e(t),i=e(n),o=e(r);return a.isBetween(i,o,s,"[]")},startOf:r,endOf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Nm(arguments.length>1?arguments[1]:void 0);return n?e(t).endOf(n).toDate():e(t).toDate()},range:function(t,n){for(var r=Nm(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),s=e(t).toDate(),o=[];a(s,n);)o.push(s),s=i(s,1,r);return o},add:i,diff:o,ceil:function(e,t){var n=Nm(t),a=r(e,n);return s(a,e)?a:i(a,1,n)},min:function(t,n){var r=e(t),s=e(n);return e.min(r,s).toDate()},max:function(t,n){var r=e(t),s=e(n);return e.max(r,s).toDate()},minutes:function(t){return e(t).minutes()},getSlotDate:function(t,n,r){return e(t).startOf("day").minute(n+r).toDate()},getTimezoneOffset:function(t){return e(t).toDate().getTimezoneOffset()},getDstOffset:t,getTotalMin:function(e,t){return o(e,t,"minutes")},getMinutesFromMidnight:function(n){var r=e(n).startOf("day");return e(n).diff(r,"minutes")+function(n){return t(e(n).startOf("day"),n)}(n)},continuesPrior:function(t,n){var r=e(t),s=e(n);return r.isBefore(s,"day")},continuesAfter:function(t,n,r){var s=e(n),a=e(r);return s.isSameOrAfter(a,"minutes")},sortEvents:function(e){var t=e.evtA,n=t.start,s=t.end,a=t.allDay,i=e.evtB,o=i.start,l=i.end,c=i.allDay,u=+r(n,"day")-+r(o,"day"),m=d(n,s),h=d(o,l);return u||h-m||!!c-!!a||+n-+o||+s-+l},inEventRange:function(t){var n=t.event,r=n.start,s=n.end,a=t.range,i=a.start,o=a.end,l=e(r).startOf("day"),c=e(s),d=e(i),u=e(o),m=l.isSameOrBefore(u,"day"),h=!l.isSame(c,"minutes")?c.isAfter(d,"minutes"):c.isSameOrAfter(d,"minutes");return m&&h},isSameDate:function(t,n){var r=e(t),s=e(n);return r.isSame(s,"day")},daySpan:d,browserTZOffset:function(){var t=new Date,n=/-/.test(t.toString())?"-":"",r=t.getTimezoneOffset(),s=Number("".concat(n).concat(Math.abs(r)));return e().utcOffset()>s?1:0}})}
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(km),Bg=()=>{const[e,t]=Ke.useState(null),[n,r]=Ke.useState("month"),s=function(e){return e.map(e=>{const t=new Date(e.date),n=new Date(e.date);if(e.time){const[n,r]=e.time.split(":");t.setHours(parseInt(n),parseInt(r))}if(e.endTime){const[t,r]=e.endTime.split(":");n.setHours(parseInt(t),parseInt(r))}else e.time&&n.setTime(t.getTime()+72e5);return{id:e.id,title:e.title,start:t,end:n,location:e.location,description:e.description,type:e.type,organizer:e.organizer,allDay:!e.time}})}([...Ag,...Pg]),a=Ke.useCallback(e=>{t(e)},[]);return $.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden shadow-md",children:[$.jsx(bm,{localizer:qg,events:s,startAccessor:"start",endAccessor:"end",style:{height:600},views:["month","week","day","agenda"],defaultView:jd.MONTH,onSelectEvent:a,eventPropGetter:e=>{let t={backgroundColor:"#f8f9fa",borderRadius:"4px",opacity:.9,color:"#3c4043",border:"0",display:"block",fontWeight:"500"};switch(e.type){case"workshop":t.backgroundColor="#0B3D91",t.color="#ffffff";break;case"speaker":t.backgroundColor="#00A6ED",t.color="#ffffff";break;case"competition":t.backgroundColor="#FFC107",t.color="#0B3D91";break;case"meetup":t.backgroundColor="#28A745",t.color="#ffffff";break;default:t.backgroundColor="#6c757d",t.color="#ffffff"}return{style:t}},components:{toolbar:e=>$.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center p-4 mb-4 bg-neutral-50",children:[$.jsx("div",{className:"mb-4 md:mb-0",children:$.jsx("h2",{className:"text-xl font-semibold text-neutral-800",children:e.label})}),$.jsxs("div",{className:"flex space-x-2 mb-4 md:mb-0",children:[$.jsxs(fi,{variant:"outline",className:"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{e.onNavigate("PREV")},children:[$.jsx("i",{className:"fas fa-chevron-left mr-1"})," Prev"]}),$.jsx(fi,{variant:"outline",className:"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{e.onNavigate("TODAY")},children:"Today"}),$.jsxs(fi,{variant:"outline",className:"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{e.onNavigate("NEXT")},children:["Next ",$.jsx("i",{className:"fas fa-chevron-right ml-1"})]})]}),$.jsxs("div",{className:"flex space-x-2",children:[$.jsx(fi,{variant:"outline",className:"month"===n?"bg-[#0B3D91] text-white border-[#0B3D91]":"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{r("month"),e.onView("month")},children:"Month"}),$.jsx(fi,{variant:"outline",className:"week"===n?"bg-[#0B3D91] text-white border-[#0B3D91]":"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{r("week"),e.onView("week")},children:"Week"}),$.jsx(fi,{variant:"outline",className:"day"===n?"bg-[#0B3D91] text-white border-[#0B3D91]":"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{r("day"),e.onView("day")},children:"Day"}),$.jsx(fi,{variant:"outline",className:"agenda"===n?"bg-[#0B3D91] text-white border-[#0B3D91]":"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{r("agenda"),e.onView("agenda")},children:"Agenda"})]})]})},className:"text-neutral-700"}),e&&$.jsx(Rg,{open:!!e,onOpenChange:e=>!e&&t(null),children:$.jsxs(Fg,{className:"bg-white text-neutral-700 border-neutral-200",children:[$.jsx(zg,{children:$.jsx(Ug,{className:"text-lg font-semibold text-neutral-900",children:e.title})}),$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{className:"flex items-center space-x-2",children:[$.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${(i=e.type,{workshop:"bg-[#0B3D91] text-white",speaker:"bg-blue-500 text-white",competition:"bg-[#FFC107] text-[#0B3D91]",meetup:"bg-green-500 text-white",conference:"bg-indigo-600 text-white"}[i]||"bg-gray-500 text-white").split(" ")[0]}`}),$.jsx("span",{className:"capitalize",children:e.type})]}),$.jsxs("div",{className:"space-y-2",children:[$.jsxs("div",{className:"flex items-start",children:[$.jsx("i",{className:"fas fa-calendar-alt text-neutral-400 mt-1 mr-2 w-5"}),$.jsxs("div",{children:[$.jsx("div",{children:km(e.start).format("dddd, MMMM D, YYYY")}),!e.allDay&&$.jsxs("div",{className:"text-neutral-400",children:[km(e.start).format("h:mm A")," - ",km(e.end).format("h:mm A")]})]})]}),e.location&&$.jsxs("div",{className:"flex items-start",children:[$.jsx("i",{className:"fas fa-map-marker-alt text-neutral-400 mt-1 mr-2 w-5"}),$.jsx("div",{children:e.location})]}),e.description&&$.jsxs("div",{className:"flex items-start",children:[$.jsx("i",{className:"fas fa-align-left text-neutral-400 mt-1 mr-2 w-5"}),$.jsx("div",{children:e.description})]}),e.organizer&&$.jsxs("div",{className:"flex items-start",children:[$.jsx("i",{className:"fas fa-user text-neutral-400 mt-1 mr-2 w-5"}),$.jsx("div",{children:e.organizer})]})]}),$.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 pt-2",children:[$.jsxs(fi,{variant:"outline",className:"border-[#0B3D91] text-[#0B3D91] hover:bg-[#0B3D91] hover:text-white bg-white",onClick:()=>(e=>{const t=ui(e),n=new Blob([t],{type:"text/calendar;charset=utf-8"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.setAttribute("download",`${e.title.replace(/\s+/g,"-")}.ics`),document.body.appendChild(s),s.click(),document.body.removeChild(s)})(e),children:[$.jsx("i",{className:"fas fa-calendar-plus mr-2"})," Add to Calendar (iCal)"]}),$.jsxs(fi,{variant:"outline",className:"bg-[#0B3D91] text-white hover:bg-[#0A357F] border-[#0B3D91]",onClick:()=>window.open(mi(e),"_blank"),children:[$.jsx("i",{className:"fab fa-google mr-2"})," Add to Google Calendar"]})]})]})]})})]});var i},Yg=()=>{const{t:e}=Za(),t=function(){const e=new Date;return e.setHours(0,0,0,0),Ag.filter(t=>new Date(t.date)>=e).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())}();return $.jsx("section",{id:"events",className:"py-16 bg-white min-h-screen",children:$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[$.jsxs("div",{className:"text-center mb-16",children:[$.jsx("h2",{className:"text-3xl font-inter font-bold text-gray-800 mb-4",children:e("eventsTitle")}),$.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:e("eventsSubtitle")})]}),$.jsxs("div",{className:"mb-12 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[$.jsx("h3",{className:"text-xl font-inter font-semibold mb-4 text-gray-800",children:e("events.calendar")}),$.jsx(Bg,{}),$.jsx("div",{className:"mt-3 text-right text-sm",children:$.jsx("span",{className:"text-gray-500 italic",children:e("events.newEventsComingSoon")})})]}),t.length>0?$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:t.map(e=>$.jsx(pi,{event:e},e.id))}):$.jsxs("div",{className:"text-center py-12 mb-16 bg-blue-50 rounded-lg",children:[$.jsx("i",{className:"fas fa-calendar-check text-4xl text-blue-400 mb-4"}),$.jsx("p",{className:"text-gray-600",children:e("noUpcomingEvents")})]}),$.jsxs("div",{className:"mt-16",children:[$.jsxs("div",{className:"text-center mb-12",children:[$.jsx("h3",{className:"font-inter text-2xl font-semibold mb-4 text-gray-800",children:e("events.pastCollaborations")}),$.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto",children:e("events.pastCollaborationsDescription")})]}),$.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg p-8 border border-gray-200",children:$.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[{name:"DWS Group",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/DWS_Group_202x_logo.svg/250px-DWS_Group_202x_logo.svg.png"},{name:"Tableau",logo:"https://logos-world.net/wp-content/uploads/2021/10/Tableau-Logo.png"},{name:"Deloitte",logo:"https://upload.wikimedia.org/wikipedia/commons/e/ed/Logo_of_Deloitte.svg"},{name:"Google",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/250px-Google_2015_logo.svg.png"},{name:"McKinsey",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNN12aWh7ruc5rs0kAhGfaUkOyW0tuypaPLg&s"},{name:"Statworx",logo:"https://statistik-und-beratung.de/wp-content/uploads/2021/04/logo-statworx-data-science-dark.png"},{name:"IKEA",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Ikea_logo.svg/250px-Ikea_logo.svg.png"},{name:"BCG",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Boston_Consulting_Group_2020_logo.svg/250px-Boston_Consulting_Group_2020_logo.svg.png"},{name:"EY",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/EY_logo_2019.svg/200px-EY_logo_2019.svg.png"},{name:"KPMG",logo:"https://upload.wikimedia.org/wikipedia/commons/d/db/KPMG_blue_logo.svg"},{name:"Commerzbank",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Commerzbank_%282009%29.svg/250px-Commerzbank_%282009%29.svg.png"}].map((e,t)=>$.jsx("div",{className:"flex items-center justify-center p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:$.jsx("img",{src:e.logo,alt:e.name,className:"max-h-12 max-w-full object-contain filter grayscale hover:grayscale-0 transition-all",onError:t=>{const n=t.target;n.style.display="none";const r=n.parentElement;r&&(r.innerHTML=`<div class="text-gray-600 font-semibold">${e.name}</div>`)}})},t))})})]})]})})};function Wg(...e){return tt(nt(e))}function Hg({className:e,...t}){return $.jsx(ge,{"data-slot":"tabs",className:Wg("flex flex-col gap-2",e),...t})}function Vg({className:e,...t}){return $.jsx(ve,{"data-slot":"tabs-list",className:Wg("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function $g({className:e,...t}){return $.jsx(xe,{"data-slot":"tabs-trigger",className:Wg("data-[state=active]:bg-[var(--card)] dark:data-[state=active]:text-[var(--foreground)] focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground dark:text-muted-foreground inline-flex h-full flex-1 items-center justify-center gap-1.5 rounded-xl px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Gg({className:e,...t}){return $.jsx(ye,{"data-slot":"tabs-content",className:Wg("flex-1 outline-none",e),...t})}const Kg=Ea("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Qg({className:e,variant:t,asChild:n=!1,...r}){const s=n?le:"span";return $.jsx(s,{"data-slot":"badge",className:Wg(Kg({variant:t}),e),...r})}function Xg(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return Ke.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var Zg="Progress",[Jg,ev]=function(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>Ke.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return Ke.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const s=Ke.createContext(r),a=n.length;function i(t){const{scope:n,children:r,...i}=t,o=(null==n?void 0:n[e][a])||s,l=Ke.useMemo(()=>i,Object.values(i));return $.jsx(o.Provider,{value:l,children:r})}return n=[...n,r],i.displayName=t+"Provider",[i,function(n,i){const o=(null==i?void 0:i[e][a])||s,l=Ke.useContext(o);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Xg(r,...t)]}(Zg),[tv,nv]=Jg(Zg),rv=Ke.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=iv,...i}=e;(s||0===s)&&cv(s);const o=cv(s)?s:100;null!==r&&dv(r,o);const l=dv(r,o)?r:null,c=lv(l)?a(l,o):void 0;return $.jsx(tv,{scope:n,value:l,max:o,children:$.jsx(Z.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":lv(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":ov(l,o),"data-value":l??void 0,"data-max":o,...i,ref:t})})});rv.displayName=Zg;var sv="ProgressIndicator",av=Ke.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=nv(sv,n);return $.jsx(Z.div,{"data-state":ov(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});function iv(e,t){return`${Math.round(e/t*100)}%`}function ov(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function lv(e){return"number"==typeof e}function cv(e){return lv(e)&&!isNaN(e)&&e>0}function dv(e,t){return lv(e)&&!isNaN(e)&&e<=t&&e>=0}av.displayName=sv;var uv=rv,mv=av;function hv({className:e,value:t,...n}){return $.jsx(uv,{"data-slot":"progress",className:Wg("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:$.jsx(mv,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function fv({className:e,...t}){return $.jsx("div",{"data-slot":"card",className:Wg("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function pv({className:e,...t}){return $.jsx("div",{"data-slot":"card-header",className:Wg("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function gv({className:e,...t}){return $.jsx("h4",{"data-slot":"card-title",className:Wg("leading-none",e),...t})}function vv({className:e,...t}){return $.jsx("div",{"data-slot":"card-content",className:Wg("px-6 [&:last-child]:pb-6",e),...t})}const xv=Ea("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function yv({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?le:"button";return $.jsx(a,{"data-slot":"button",className:Wg(xv({variant:t,size:n,className:e})),...s})}function bv({...e}){return $.jsx(be,{"data-slot":"select",...e})}function wv({...e}){return $.jsx(we,{"data-slot":"select-value",...e})}function jv({className:e,size:t="default",children:n,...r}){return $.jsxs(je,{"data-slot":"select-trigger","data-size":t,className:Wg("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,$.jsx(Ne,{asChild:!0,children:$.jsx(Nn,{className:"size-4 opacity-50"})})]})}function Nv({className:e,children:t,position:n="popper",...r}){return $.jsx(ke,{children:$.jsxs(Se,{"data-slot":"select-content",className:Wg("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[$.jsx(Sv,{}),$.jsx(_e,{className:Wg("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),$.jsx(_v,{})]})})}function kv({className:e,children:t,...n}){return $.jsxs(Ee,{"data-slot":"select-item",className:Wg("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[$.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:$.jsx(De,{children:$.jsx(jn,{className:"size-4"})})}),$.jsx(Te,{children:t})]})}function Sv({className:e,...t}){return $.jsx(Me,{"data-slot":"select-scroll-up-button",className:Wg("flex cursor-default items-center justify-center py-1",e),...t,children:$.jsx(_n,{className:"size-4"})})}function _v({className:e,...t}){return $.jsx(Ce,{"data-slot":"select-scroll-down-button",className:Wg("flex cursor-default items-center justify-center py-1",e),...t,children:$.jsx(Nn,{className:"size-4"})})}function Ev(e){if("number"==typeof e)return Number.isFinite(e)?e:null;if("string"==typeof e){const t=e.trim();if(""===t)return null;const n=Number(t);return Number.isFinite(n)?n:null}return null}function Dv(e,t=2,n=""){const r=Ev(e);return null===r?n:r.toFixed(t)}function Tv(e,t=2,n=""){const r=Ev(e);if(null===r)return n;return`${r>=0?"+":""}${r.toFixed(t)}`}function Mv(e,t=2,n="",r=""){const s=Ev(e);return null===s?r:`${n}${s.toFixed(t)}`}function Cv(e,t=1,n=!1,r="%"){const s=Ev(e);if(null===s)return r;return`${n&&s>=0?"+":""}${s.toFixed(t)}%`}function Ov(e,t=0){const n=Ev(e);return null===n?t:n}const Av={AIR:"/public-logos/AIR.png",ALV:"/public-logos/ALV.png",BMW:"/public-logos/BMW.png",BNR:"/public-logos/BNR.png",DBK:"/public-logos/DBK.png",DTE:"/public-logos/DTE.png",ENR:"/public-logos/ENR.png",MUV2:"/public-logos/MUV2.png",RHM:"/public-logos/RHM.png",SIE:"/public-logos/SIE.png",SY1:"/public-logos/SY1.png",ZAL:"/public-logos/ZAL.png"},Pv={};const Rv={SIE:"https://cdn.brandfetch.io/id6kfFgTVj/w/180/h/180/theme/dark/logo.png?c=1bxid64Mup7aczewSAYMX&t=1753665761846",DTE:"https://www.telekom.com/resource/blob/1002342/12f9f204ed4293439e1c93f7851ae186/dl-telekom-logo-01-data.jpg",AIR:"https://companieslogo.com/img/orig/AIR.PA-9f3a3975.png?t=1720244490",ALV:"https://www.allianz-partners.com/content/onemarketing/awp/azpartnerscom/de_DE.thumb.1280.1280.png?ck=1757401290",RHM:"https://s3-symbol-logo.tradingview.com/rheinmetall-ag--600.png",ENR:"https://indcdn.indmoney.com/cdn-cgi/image/quality=90,format=auto,metadata=copyright,width=500/https://indcdn.indmoney.com/public/images/INDS37201.png",MUV2:"https://companieslogo.com/img/orig/MUV2.DE-6afaafb5.png?t=1720244493",SY1:"https://rest.arbeitsagentur.de/vermittlung/ag-darstellung-service/ct/v1/arbeitgeberlogo/4JLqgedHX82_0OO-z88rTtZAcYiMJrbi3lAXG2vhNTQ=",BNR:"https://cdn.zonebourse.com/static/instruments-logo-39434198",ZAL:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShrYV4IQNnjg9tA-LdOAfj7jGiRbcmV293Lw&s",BMW:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/BMW.svg/2048px-BMW.svg.png",DB:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Deutsche_Bank_logo_without_wordmark.svg/2048px-Deutsche_Bank_logo_without_wordmark.svg.png",SIEGY:"https://logo.clearbit.com/siemens.com",EADSY:"https://logo.clearbit.com/airbus.com",DTEGY:"https://logo.clearbit.com/telekom.com",ALIZF:"https://logo.clearbit.com/allianz.com",SMNEY:"https://logo.clearbit.com/siemens-energy.com",MURGY:"https://logo.clearbit.com/munichre.com",DBK:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Deutsche_Bank_logo_without_wordmark.svg/2048px-Deutsche_Bank_logo_without_wordmark.svg.png",BMWYY:"https://logo.clearbit.com/bmwgroup.com",MUV:"https://companieslogo.com/img/orig/MUV2.DE-6afaafb5.png?t=1720244493",SY:"https://rest.arbeitsagentur.de/vermittlung/ag-darstellung-service/ct/v1/arbeitgeberlogo/4JLqgedHX82_0OO-z88rTtZAcYiMJrbi3lAXG2vhNTQ=",DEFAULT:"/placeholder-logo.png"};async function Iv(e){var t,n,r;const s=String(e||"").toUpperCase(),a=(Av||{})[s];if("string"==typeof a&&a.length>0){if(a.startsWith("/")){let e="";if(a.startsWith("/public-logos/")?e=a.replace("/public-logos/",""):a.startsWith("/storage/v1/object/public/public-logos/")&&(e=a.replace("/storage/v1/object/public/public-logos/","")),e){const n=Ga.storage.from("public-logos").getPublicUrl(e);if(null==(t=null==n?void 0:n.data)?void 0:t.publicUrl){const e=await async function(e){var t,n,r,s;try{if("true"!==String((null==(n=null==(t=import.meta)?void 0:t.env)?void 0:n.VITE_LOGO_SIGN)??"false").toLowerCase())return null;let a="";if(e.startsWith("/public-logos/"))a=e.replace("/public-logos/","");else{if(!e.startsWith("/storage/v1/object/public/public-logos/"))return null;a=e.replace("/storage/v1/object/public/public-logos/","")}const i=`public-logos/${a}`,o=Date.now(),l=Pv[i];if(l&&l.expiresAt>o)return l.url;const c=Number((null==(s=null==(r=import.meta)?void 0:r.env)?void 0:s.VITE_LOGO_SIGN_TTL_SEC)??604800),d=Math.max(60,Math.min(604800,Number.isFinite(c)?c:604800)),{data:u,error:m}=await Ga.storage.from("public-logos").createSignedUrl(a,d);return m||!(null==u?void 0:u.signedUrl)?null:(Pv[i]={url:u.signedUrl,expiresAt:o+1e3*d},u.signedUrl)}catch{return null}}(a);return e||n.data.publicUrl}}const s=((null==(r=null==(n=import.meta)?void 0:n.env)?void 0:r.VITE_SUPABASE_URL)||$a||"").replace(/\/$/,"");if(s)return a.startsWith("/public-logos/")?`${s}/storage/v1/object/public${a}`:`${s}${a}`}return a}return Rv[s]?Rv[s]:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4K"}function Lv(e){var t,n,r;const s=String(e||"").toUpperCase(),a=(Av||{})[s];if("string"==typeof a&&a.length>0){if(a.startsWith("/")){let e="";if(a.startsWith("/public-logos/")?e=a.replace("/public-logos/",""):a.startsWith("/storage/v1/object/public/public-logos/")&&(e=a.replace("/storage/v1/object/public/public-logos/","")),e){const n=Ga.storage.from("public-logos").getPublicUrl(e);if(null==(t=null==n?void 0:n.data)?void 0:t.publicUrl)return n.data.publicUrl}const s=((null==(r=null==(n=import.meta)?void 0:n.env)?void 0:r.VITE_SUPABASE_URL)||$a||"").replace(/\/$/,"");if(s)return a.startsWith("/public-logos/")?`${s}/storage/v1/object/public${a}`:`${s}${a}`}return a}return Rv[s]?Rv[s]:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4K"}const Fv=[{ticker:"SIE",adr:"SIEGY",name:"Siemens AG",sector:"Industrials",logo:Lv("SIE")},{ticker:"DTE",adr:"DTEGY",name:"Deutsche Telekom AG",sector:"Communication Services",logo:Lv("DTE")},{ticker:"AIR",adr:"EADSY",name:"Airbus SE",sector:"Industrials",logo:Lv("AIR")},{ticker:"ALV",adr:"ALIZF",name:"Allianz SE",sector:"Financials",logo:Lv("ALV")},{ticker:"RHM",adr:"",name:"Rheinmetall AG",sector:"Industrials",logo:Lv("RHM")},{ticker:"ENR",adr:"SMNEY",name:"Siemens Energy AG",sector:"Utilities",logo:Lv("ENR")},{ticker:"MUV2",adr:"MURGY",name:"Munich Re",sector:"Financials",logo:Lv("MUV2")},{ticker:"DBK",adr:"DB",name:"Deutsche Bank AG",sector:"Financials",logo:Lv("DBK")},{ticker:"BMW",adr:"BMWYY",name:"BMW AG",sector:"Consumer Discretionary",logo:Lv("BMW")},{ticker:"SY1",adr:"SYIEF",name:"Symrise AG",sector:"Materials",logo:Lv("SY1")},{ticker:"BNR",adr:"BNTGY",name:"Brenntag SE",sector:"Industrials",logo:Lv("BNR")},{ticker:"ZAL",adr:"ZLNDY",name:"Zalando SE",sector:"Consumer Discretionary",logo:Lv("ZAL")}];function zv(e,t){var n;try{const t=Av[e];if("string"==typeof t&&t.startsWith("/")){let e="";if(t.startsWith("/public-logos/")?e=t.replace("/public-logos/",""):t.startsWith("/storage/v1/object/public/public-logos/")&&(e=t.replace("/storage/v1/object/public/public-logos/","")),e){const t=Ga.storage.from("public-logos").getPublicUrl(e);if(null==(n=null==t?void 0:t.data)?void 0:n.publicUrl)return t.data.publicUrl}}}catch{}return t&&"string"==typeof t?t:Lv(e)}function Uv({ticker:e,src:t,alt:n,className:r,style:s,...a}){const i=String(e||"").toUpperCase(),[o,l]=Xe.useState(()=>zv(i,t)),[c,d]=Xe.useState(!1);return Xe.useEffect(()=>{c||l(zv(i,t))},[i,t,c]),Xe.useEffect(()=>{let e=!1;return(async()=>{try{const t=await Iv(i);if(!t||c||e||t===o)return;const n=new Image;n.onload=()=>{e||c||l(t)},n.onerror=()=>{},n.src=t}catch{}})(),()=>{e=!0}},[i,c]),$.jsx("img",{src:o,alt:n||`${i} logo`,loading:"lazy",decoding:"async",className:r,style:s,onError:()=>{d(!0),l("/placeholder-logo.png")},...a})}function qv(e){return String(e).padStart(2,"0")}function Bv(e){const[t,n]=e.split(":").map(e=>parseInt(e,10));return{h:isNaN(t)?0:t,m:isNaN(n)?0:n}}function Yv(){var e,t,n,r,s,a;const i=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Berlin",hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(new Date),o=Number((null==(e=i.find(e=>"year"===e.type))?void 0:e.value)||"1970"),l=Number((null==(t=i.find(e=>"month"===e.type))?void 0:t.value)||"01"),c=Number((null==(n=i.find(e=>"day"===e.type))?void 0:n.value)||"01"),d=Number((null==(r=i.find(e=>"hour"===e.type))?void 0:r.value)||"00"),u=Number((null==(s=i.find(e=>"minute"===e.type))?void 0:s.value)||"00"),m=Number((null==(a=i.find(e=>"second"===e.type))?void 0:a.value)||"00"),h=`${qv(o)}-${qv(l)}-${qv(c)}T${qv(d)}:${qv(u)}:${qv(m)}`;return new Date(h)}function Wv(e,t){const n=Yv(),r=new Date(n);return r.setHours(e,t,0,0),r}function Hv(e,t){const n=e.getTime()-t.getTime();return Math.max(0,Math.floor(n/1e3))}function Vv(e){const{openWindow:t=["09:10","09:25"],openCutoff:n="08:55",closeWindow:r=["17:40","17:55"],closeCutoff:s="17:25"}={},[a,i]=Ke.useState(Yv());Ke.useEffect(()=>{const e=window.setInterval(()=>i(Yv()),1e3);return()=>window.clearInterval(e)},[]);const o=Ke.useMemo(()=>{const e=`${qv(a.getHours())}:${qv(a.getMinutes())}`,[i,o]=t,[l,c]=r,d=(e,t,n)=>e>=t&&e<=n,u=d(e,i,o),m=d(e,l,c),{h:h,m:f}=Bv(i),{h:p,m:g}=Bv(o),{h:v,m:x}=Bv(l),{h:y,m:b}=Bv(c),{h:w,m:j}=Bv(n),{h:N,m:k}=Bv(s),S=Wv(h,f),_=Wv(p,g),E=Wv(v,x),D=Wv(y,b),T=Wv(w,j),M=Wv(N,k);if(u){return{phase:"open-live",seconds:Hv(_,a),label:"Open auction live",cancelUntil:n,nextSlot:"open",windows:{openStart:S,openEnd:_,closeStart:E,closeEnd:D},cutoffs:{openCut:T,closeCut:M}}}if(e<i){return{phase:"pre-open",seconds:Hv(S,a),label:"Open auction in",cancelUntil:n,nextSlot:"open",windows:{openStart:S,openEnd:_,closeStart:E,closeEnd:D},cutoffs:{openCut:T,closeCut:M}}}if(e>o&&e<l){return{phase:"pre-close",seconds:Hv(E,a),label:"Close auction in",cancelUntil:s,nextSlot:"close",windows:{openStart:S,openEnd:_,closeStart:E,closeEnd:D},cutoffs:{openCut:T,closeCut:M}}}if(m){return{phase:"close-live",seconds:Hv(D,a),label:"Close auction live",cancelUntil:s,nextSlot:"close",windows:{openStart:S,openEnd:_,closeStart:E,closeEnd:D},cutoffs:{openCut:T,closeCut:M}}}const C=Wv(h,f);C.setDate(C.getDate()+1);return{phase:"overnight",seconds:Hv(C,a),label:"Next open auction in",cancelUntil:n,nextSlot:"open",windows:{openStart:S,openEnd:_,closeStart:E,closeEnd:D},cutoffs:{openCut:T,closeCut:M}}},[a,t,r,n,s]),l=Ke.useMemo(()=>{const e=Math.max(0,o.seconds),t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return`${qv(t)}:${qv(n)}:${qv(r)}`},[o.seconds]);return{...o,hhmmss:l}}const $v="https://fsqds-production.yadavkartik-arbeit.workers.dev",Gv=$v.includes("fsqds-production.")?$v:"https://fsqds-production.yadavkartik-arbeit.workers.dev",Kv={htiPlaceOrder:`${$v}/api/hti/place-order`,htiSaveScore:`${$v}/api/hti/save-score`,htiLeaderboard:`${$v}/api/leaderboards/hti`,adxPlaceOrder:`${$v}/api/adx/place-order`,adxSavePrediction:`${$v}/api/adx/save-prediction`,adxLeaderboard:`${$v}/api/leaderboards/adx`,marketOptions:e=>`${$v}/api/market/${e}/options`,health:`${Gv}/health`,healthMetrics:`${Gv}/health/metrics`,adminRunParityCheck:`${$v}/api/admin/run-parity-check`,adminRunLoadSlo:`${$v}/api/admin/run-load-slo`};function Qv(e){if(!e)return"";try{return new Date(e).toLocaleTimeString()}catch{return""}}function Xv(){var e,t,n,r,s;const{label:a,hhmmss:i,phase:o,windows:l,cutoffs:c}=Vv(),[d,u]=Ke.useState(null),m=Ke.useRef(null),h=Ke.useRef(null),f=Ke.useMemo(()=>`${(null==l?void 0:l.openStart)?l.openStart.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"09:10"}${(null==l?void 0:l.openEnd)?l.openEnd.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"09:25"}`,[l]),p=Ke.useMemo(()=>`${(null==l?void 0:l.closeStart)?l.closeStart.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"17:40"}${(null==l?void 0:l.closeEnd)?l.closeEnd.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"17:55"}`,[l]),g=Ke.useMemo(()=>{var e;return(null==(e=null==c?void 0:c.openCut)?void 0:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||"08:55"},[c]),v=Ke.useMemo(()=>{var e;return(null==(e=null==c?void 0:c.closeCut)?void 0:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||"17:25"},[c]);Ke.useEffect(()=>{let e=!1;async function t(){var t,n;try{const r=[Kv.healthMetrics,"https://fsqds-production.yadavkartik-arbeit.workers.dev/health/metrics"];let s=null;for(const e of r)try{const t=await fetch(e,{cache:"no-store",headers:{Accept:"application/json"}});if(t.ok){s=await t.json();break}}catch{}if(!s||e)return;u(s);const a=(null==(t=null==s?void 0:s.orchestrator)?void 0:t.last_auction_open)||null,i=(null==(n=null==s?void 0:s.orchestrator)?void 0:n.last_auction_close)||null;a&&a!==m.current&&(m.current=a,window.dispatchEvent(new CustomEvent("auction-run:open",{detail:{at:a}}))),i&&i!==h.current&&(h.current=i,window.dispatchEvent(new CustomEvent("auction-run:close",{detail:{at:i}})))}catch{}}t();const n=window.setInterval(t,6e4);return()=>{e=!0,window.clearInterval(n)}},[]);const x=o.includes("live")?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800",y=null==d?void 0:d.orchestrator,b=(null==(e=null==y?void 0:y.last_precheck_open)?void 0:e.data)||(null==y?void 0:y.last_precheck_open)||null,w=(null==(t=null==y?void 0:y.last_precheck_close)?void 0:t.data)||(null==y?void 0:y.last_precheck_close)||null,j=e=>{var t,n;if(!e||"object"!=typeof e)return"";const r=Number(e.staged||0),s=Number((null==(t=e.stale)?void 0:t.quotes)||0),a=Number((null==(n=e.stale)?void 0:n.marks)||0);return`${r}  ${r>0?Math.round((s+a)/r*100):0}% stale`};return $.jsx(fv,{className:"border shadow-sm",children:$.jsxs(vv,{className:"py-2 px-3 text-xs flex flex-wrap items-center gap-3",children:[$.jsxs("span",{className:`inline-flex items-center gap-1 px-1.5 py-0.5 rounded ${x}`,"aria-live":"polite",children:[a,": ",$.jsx("span",{className:"font-mono",children:i})]}),$.jsxs("span",{className:"text-muted-foreground",children:["Open ",f," (cutoff ",g,")"]}),$.jsxs("span",{className:"text-muted-foreground",children:["Close ",p," (cutoff ",v,")"]}),$.jsx("span",{className:"ml-auto"}),$.jsxs("span",{title:"Spread policy version",children:["Policy: ",(null==d?void 0:d.quotes_policy_version)?`model ${d.quotes_policy_version}`:""]}),$.jsxs("span",{title:"Last leaderboard rebuild",children:["LB: ",Qv(null==(n=null==d?void 0:d.orchestrator)?void 0:n.last_leaderboard_rebuild)]}),$.jsxs("span",{title:"Last open auction",children:["Open: ",Qv(null==(r=null==d?void 0:d.orchestrator)?void 0:r.last_auction_open)]}),$.jsxs("span",{title:"Last close auction",children:["Close: ",Qv(null==(s=null==d?void 0:d.orchestrator)?void 0:s.last_auction_close)]}),$.jsxs("span",{title:"Precheck open",children:["Pre(O): ",j(b)]}),$.jsxs("span",{title:"Precheck close",children:["Pre(C): ",j(w)]})]})})}const Zv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CACHE_BASE:"https://fsqds-production.yadavkartik-arbeit.workers.dev",VITE_DISABLE_REALTIME:"true",VITE_MARKET_DEFAULT_PAUSED:"true",VITE_MARKET_POLL_MS:"180000",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1za3B4ZWJic2N2aXN4Y2NlaXd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NTM4NTksImV4cCI6MjA3MDQyOTg1OX0.QiAMNLTK6UPpsPm3Ic08I6UMuPMcuWiT6BO1lzQIqeo",VITE_SUPABASE_URL:"https://mskpxebbscvisxcceiwx.supabase.co",VITE_TURNSTILE_SITE_KEY:"0x4AAAAAABrWQXwBLHZk3OrF",VITE_USE_WORKER_MARKET_API:"true",VITE_USE_WORKER_WRITES:"false"};function Jv(e){if(!e)return"";try{return new Date(e).toLocaleTimeString()}catch{return""}}function ex(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:Math.max(0,(Date.now()-t.getTime())/6e4)}function tx(e,t){const n="ok"===t?"text-green-700":"warn"===t?"text-yellow-700":"text-red-700";return $.jsx("span",{className:n,children:e})}function nx(){var e,t,n,r,s,a;const[i,o]=Ke.useState(null),[l,c]=Ke.useState(!0),[d,u]=Ke.useState(null),[m,h]=Ke.useState(null),f=Number((null==Zv?void 0:Zv.VITE_SLO_P95_MS)||1500);async function p(){try{u(null);const e=[Kv.healthMetrics,"https://fsqds-production.yadavkartik-arbeit.workers.dev/health/metrics"];let t=null;for(const n of e)try{const e=await fetch(n,{method:"GET",headers:{Accept:"application/json"}});if(e.ok){t=await e.json();break}}catch{}if(!t)throw new Error("No health metrics available");o(t)}catch(Iw){u((null==Iw?void 0:Iw.message)||"Failed")}finally{c(!1)}}Ke.useEffect(()=>{p();const e=window.setInterval(p,6e4);return()=>window.clearInterval(e)},[]),Ke.useEffect(()=>{let e=!1;async function t(){const t=[],n=Kv.healthMetrics;for(let e=0;e<7;e++){const r=performance.now();try{await fetch(`${n}?t=${Date.now()}&i=${e}`,{method:"GET",cache:"no-store"})}catch(s){}const a=performance.now();t.push(a-r)}t.sort((e,t)=>e-t);const r=t[Math.max(0,Math.ceil(.95*t.length)-1)]||null;e||h(r)}t();const n=window.setInterval(t,3e5);return()=>{e=!0,window.clearInterval(n)}},[]);const g=(null==(e=null==i?void 0:i.stock_prices)?void 0:e.stale_count)??0,v=!!g;return $.jsxs(fv,{className:"border shadow-sm",children:[$.jsx(pv,{className:"py-2",children:$.jsx(gv,{className:"text-xs",children:"System Status"})}),$.jsx(vv,{className:"text-xs grid grid-cols-2 gap-x-4 gap-y-1",children:l?$.jsx("div",{className:"col-span-2 text-muted-foreground",children:"Loading"}):d?$.jsx("div",{className:"col-span-2 text-red-600",children:d}):$.jsxs($.Fragment,{children:[$.jsx("div",{children:"Spot (last):"}),$.jsxs("div",{className:"text-right",children:[Jv((null==(t=null==i?void 0:i.stock_prices)?void 0:t.last_updated)??null)," ",(()=>{var e;const t=ex((null==(e=null==i?void 0:i.stock_prices)?void 0:e.last_updated)??null);return null==t?tx("n/a","crit"):t<=10?tx("hot","ok"):t<=30?tx("warm","warn"):tx("stale","crit")})()]}),$.jsx("div",{children:"Marks (last):"}),$.jsxs("div",{className:"text-right",children:[Jv((null==(n=null==i?void 0:i.options_model_marks)?void 0:n.last_calc_ts)??null)," ",(()=>{var e;const t=ex((null==(e=null==i?void 0:i.options_model_marks)?void 0:e.last_calc_ts)??null);return null==t?tx("n/a","crit"):t<=10?tx("hot","ok"):t<=30?tx("warm","warn"):tx("stale","crit")})()]}),$.jsx("div",{children:"Quotes (last):"}),$.jsxs("div",{className:"text-right",children:[Jv((null==(r=null==i?void 0:i.options_quotes)?void 0:r.last_computed_at)??null)," ",(()=>{var e;const t=ex((null==(e=null==i?void 0:i.options_quotes)?void 0:e.last_computed_at)??null);return null==t?tx("n/a","crit"):t<=10?tx("hot","ok"):t<=30?tx("warm","warn"):tx("stale","crit")})()]}),$.jsxs("div",{children:["Stale count (>",null==i?void 0:i.stale_cutoff_minutes,"m):"]}),$.jsx("div",{className:"text-right "+(v?"text-yellow-700":"text-green-700"),children:g}),$.jsx("div",{children:"LB Cache (v2/v1):"}),$.jsxs("div",{className:"text-right",children:[(null==(s=null==i?void 0:i.leaderboard_cache)?void 0:s.v2_present)?"Y":"N"," / ",(null==(a=null==i?void 0:i.leaderboard_cache)?void 0:a.v1_present)?"Y":"N"]}),$.jsx("div",{children:"Spread policy:"}),$.jsx("div",{className:"text-right",children:(null==i?void 0:i.quotes_policy_version)?`model ${i.quotes_policy_version}`:""}),(()=>{var e,t;const n=null==(e=null==i?void 0:i.orchestrator)?void 0:e.last_precheck_open,r=null==(t=null==i?void 0:i.orchestrator)?void 0:t.last_precheck_close,s=(null==n?void 0:n.data)||n,a=(null==r?void 0:r.data)||r,o=e=>{var t,n;if(!e||"object"!=typeof e)return"";const r=Number(e.staged||0),s=Number((null==(t=e.stale)?void 0:t.quotes)||0),a=Number((null==(n=e.stale)?void 0:n.marks)||0),i=r>0?(s+a)/r:0;return`${r}  ${Math.round(100*i)}%`};return $.jsxs($.Fragment,{children:[$.jsx("div",{children:"Precheck (O/C):"}),$.jsxs("div",{className:"text-right",children:[o(s)," / ",o(a)]})]})})(),$.jsx("div",{children:"SLO p95:"}),$.jsx("div",{className:"text-right "+(null==m?"":m<=f?"text-green-700":"text-red-700"),children:null==m?"":`${Math.round(m)}ms (<=${f}ms)`}),$.jsx("div",{children:"Ops Parity:"}),$.jsx("div",{className:"text-right",children:(()=>{var e;const t=null==(e=null==i?void 0:i.ops)?void 0:e.parity;if(!t)return"";const n=Number(t.warns??0),r=n>0?"text-yellow-700":"text-green-700";return $.jsxs("span",{className:r,children:[Jv(t.ts),"  warns ",n]})})()}),$.jsx("div",{children:"Ops SLO:"}),$.jsx("div",{className:"text-right",children:(()=>{var e;const t=null==(e=null==i?void 0:i.ops)?void 0:e.slo;if(!t)return"";const n=!t.failed;return $.jsxs("span",{className:n?"text-green-700":"text-red-700",children:[Jv(t.ts),"  ",n?"PASS":"FAIL"]})})()})]})})]})}function rx(){const[e,t]=Xe.useState(!1),n=function(){const[e,t]=Ke.useState(null);return Ke.useEffect(()=>{let e=!0;async function n(){try{const n=await fetch(Kv.healthMetrics);if(!n.ok)return;const r=await n.json();if(!e)return;const s=(null==r?void 0:r.quotes_policy_version)||null;t(s)}catch{}}n();const r=window.setInterval(n,3e5);return()=>{e=!1,window.clearInterval(r)}},[]),e}(),r=n?`Spread policy: model ${n}`:"Spread policy: loading";return $.jsxs("div",{className:"text-[11px] text-muted-foreground flex items-center gap-2",children:[$.jsx(Qg,{variant:"outline",className:"px-1.5 py-0.5 text-[10px]",children:r}),$.jsx("button",{className:"underline decoration-dotted",onClick:()=>t(!e),"aria-expanded":e,"aria-label":"Pricing policy",disabled:!n,children:"What is this?"}),e&&n&&$.jsxs("div",{className:"mt-1 p-2 border rounded bg-card shadow-sm max-w-[480px]",children:[$.jsx("div",{className:"mb-1 font-medium",children:"Pricing policy"}),$.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[$.jsx("li",{children:"Quotes are synthetic: BlackScholes mid  spread; spread depends on moneyness, tenor, and volatility."}),$.jsx("li",{children:"Dividend yield (q) is applied; prices are bounded by no-arbitrage limits and tick-rounded."}),$.jsx("li",{children:"Auction execution uses the model mid plus half-spread and size-based slippage tiers."})]}),$.jsx("div",{className:"mt-2 text-[10px] text-muted-foreground",children:"Educational only  Not investment advice"})]})]})}var sx={},ax=et&&et.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),ix=et&&et.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ox=et&&et.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&ax(t,e,n);return ix(t,e),t};Object.defineProperty(sx,"__esModule",{value:!0}),sx.useTurnstile=void 0;const lx=ox(Ke),cx="undefined"!=typeof globalThis?globalThis:window;let dx,ux,mx=void 0!==cx.turnstile?"ready":"unloaded";const hx=new Promise((e,t)=>{ux={resolve:e,reject:t},"ready"===mx&&e(void 0)});{const e="cf__reactTurnstileOnLoad",t="https://challenges.cloudflare.com/turnstile/v0/api.js";dx=()=>{if("unloaded"===mx){mx="loading",cx[e]=()=>{ux.resolve(),mx="ready",delete cx[e]};const n=`${t}?onload=${e}&render=explicit`,r=document.createElement("script");r.src=n,r.async=!0,r.addEventListener("error",()=>{ux.reject("Failed to load Turnstile."),delete cx[e]}),document.head.appendChild(r)}return hx}}var fx=sx.default=function({id:e,className:t,style:n,sitekey:r,action:s,cData:a,theme:i,language:o,tabIndex:l,responseField:c,responseFieldName:d,size:u,fixedSize:m,retry:h,retryInterval:f,refreshExpired:p,appearance:g,execution:v,userRef:x,onVerify:y,onSuccess:b,onLoad:w,onError:j,onExpire:N,onTimeout:k,onAfterInteractive:S,onBeforeInteractive:_,onUnsupported:E}){const D=(0,lx.useRef)(null),T=(0,lx.useState)({onVerify:y,onSuccess:b,onLoad:w,onError:j,onExpire:N,onTimeout:k,onAfterInteractive:S,onBeforeInteractive:_,onUnsupported:E})[0],M=null!=x?x:D,C=m?{width:"compact"===u?"130px":"flexible"===u?"100%":"300px",height:"compact"===u?"120px":"65px",...n}:n;return(0,lx.useEffect)(()=>{if(!M.current)return;let e=!1,t="";return(async()=>{var n,m;if("ready"!==mx)try{await dx()}catch(Iw){return void(null===(n=T.onError)||void 0===n||n.call(T,Iw))}if(e||!M.current)return;let x;const y={sitekey:r,action:s,cData:a,theme:i,language:o,tabindex:l,"response-field":c,"response-field-name":d,size:u,retry:h,"retry-interval":f,"refresh-expired":p,appearance:g,execution:v,callback:(e,t)=>{var n,r;null===(n=T.onVerify)||void 0===n||n.call(T,e,x),null===(r=T.onSuccess)||void 0===r||r.call(T,e,t,x)},"error-callback":e=>{var t;return null===(t=T.onError)||void 0===t?void 0:t.call(T,e,x)},"expired-callback":e=>{var t;return null===(t=T.onExpire)||void 0===t?void 0:t.call(T,e,x)},"timeout-callback":()=>{var e;return null===(e=T.onTimeout)||void 0===e?void 0:e.call(T,x)},"after-interactive-callback":()=>{var e;return null===(e=T.onAfterInteractive)||void 0===e?void 0:e.call(T,x)},"before-interactive-callback":()=>{var e;return null===(e=T.onBeforeInteractive)||void 0===e?void 0:e.call(T,x)},"unsupported-callback":()=>{var e;return null===(e=T.onUnsupported)||void 0===e?void 0:e.call(T,x)}};t=window.turnstile.render(M.current,y),x=function(e){return{execute:t=>window.turnstile.execute(e,t),reset:()=>window.turnstile.reset(e),getResponse:()=>window.turnstile.getResponse(e),isExpired:()=>window.turnstile.isExpired(e)}}(t),null===(m=T.onLoad)||void 0===m||m.call(T,t,x)})(),()=>{e=!0,t&&window.turnstile.remove(t)}},[r,s,a,i,o,l,c,d,u,h,f,p,g,v]),(0,lx.useEffect)(()=>{T.onVerify=y,T.onSuccess=b,T.onLoad=w,T.onError=j,T.onExpire=N,T.onTimeout=k,T.onAfterInteractive=S,T.onBeforeInteractive=_,T.onUnsupported=E},[y,b,w,j,N,k,S,_,E]),lx.default.createElement("div",{ref:M,id:e,className:t,style:C})};function px(e){const t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDate();return new Date(Date.UTC(t,n,r))}function gx(e){if(!e)return 0;const t=new Date(e);if(Number.isNaN(t.getTime()))return 0;const n=function(e,t){const n=px(e).getTime(),r=px(t).getTime();return Math.round((n-r)/864e5)}(t,new Date);return Math.max(0,n)}sx.useTurnstile=function(){const[e,t]=(0,lx.useState)(mx);return(0,lx.useEffect)(()=>{"ready"!==mx&&hx.then(()=>t(mx))},[]),cx.turnstile};const vx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CACHE_BASE:"https://fsqds-production.yadavkartik-arbeit.workers.dev",VITE_DISABLE_REALTIME:"true",VITE_MARKET_DEFAULT_PAUSED:"true",VITE_MARKET_POLL_MS:"180000",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1za3B4ZWJic2N2aXN4Y2NlaXd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NTM4NTksImV4cCI6MjA3MDQyOTg1OX0.QiAMNLTK6UPpsPm3Ic08I6UMuPMcuWiT6BO1lzQIqeo",VITE_SUPABASE_URL:"https://mskpxebbscvisxcceiwx.supabase.co",VITE_TURNSTILE_SITE_KEY:"0x4AAAAAABrWQXwBLHZk3OrF",VITE_USE_WORKER_MARKET_API:"true",VITE_USE_WORKER_WRITES:"false"},xx=[{symbol:"SAP",name:"SAP SE",adr:"SAP"},{symbol:"SIE",name:"Siemens AG",adr:"SIEGY"},{symbol:"ALV",name:"Allianz SE",adr:"AZSEY"},{symbol:"BAS",name:"BASF SE",adr:"BASFY"},{symbol:"BAYN",name:"Bayer AG",adr:"BAYRY"},{symbol:"BMW",name:"BMW AG",adr:"BMWYY"},{symbol:"VOW3",name:"Volkswagen AG",adr:"VWAGY"},{symbol:"DTE",name:"Deutsche Telekom AG",adr:"DTEGY"},{symbol:"MBG",name:"Mercedes-Benz Group AG",adr:"MBGAF"},{symbol:"MUV2",name:"Munich RE",adr:"MURGY"}];const yx=new class{constructor(){this.STARTING_BALANCE=1e5,this.MAX_TRADES_PER_DAY=100,this.SLIPPAGE_PERCENT=.5}async getUserPortfolio(){const{data:{user:e}}=await Ga.auth.getUser();if(!e)return null;const{data:t}=await Ga.from("seasons").select("id").eq("status","active").single();if(!t)return null;let{data:n,error:r}=await Ga.from("adx_portfolios").select("*").eq("user_id",e.id).eq("season_id",t.id).maybeSingle();if(!n){const{data:r,error:s}=await Ga.from("adx_portfolios").insert({user_id:e.id,season_id:t.id,starting_cash:this.STARTING_BALANCE,current_value:this.STARTING_BALANCE,total_pnl:0,total_trades:0,winning_trades:0}).select().single();if(s)return null;n=r}return n}async getUserPositions(e){try{const{data:t,error:n}=await Ga.from("v_adx_positions_enriched").select("portfolio_id, option_symbol, qty, avg_price, ticker, type, strike, expiry, model_mid").eq("portfolio_id",e);if(!n&&t)return t.map(e=>{const t="number"==typeof e.model_mid&&e.model_mid>0?Number(e.model_mid):Number(e.avg_price),n=(t-Number(e.avg_price))*Number(e.qty)*100,r=Number(e.avg_price)?(t-Number(e.avg_price))/Number(e.avg_price)*100:0,s=gx(e.expiry);return{portfolio_id:e.portfolio_id,option_symbol:e.option_symbol,qty:Number(e.qty),avg_price:Number(e.avg_price),ticker:e.ticker,type:e.type,strike:Number(e.strike),expiry:e.expiry,current_price:t,pnl:n,pnl_percent:r,days_to_expiry:s}})}catch(i){}const{data:t,error:n}=await Ga.from("adx_positions").select("portfolio_id, option_symbol, qty, avg_price").eq("portfolio_id",e);if(n)return[];const r=Array.from(new Set((t||[]).map(e=>e.option_symbol).filter(Boolean)));let s={},a={};if(r.length>0){const[e,t]=await Promise.all([Ga.from("options_market_data").select("option_symbol, ticker, type, strike, expiry, mid").in("option_symbol",r),Ga.from("options_model_marks").select("option_symbol, model_price").in("option_symbol",r)]);e.data&&(s=Object.fromEntries(e.data.map(e=>[e.option_symbol,e]))),t.data&&(a=Object.fromEntries(t.data.map(e=>[e.option_symbol,Number(e.model_price)||0])))}return(t||[]).map(e=>{const t=s[e.option_symbol],n=a[e.option_symbol],r=(null==t?void 0:t.ticker)||e.ticker,i=(null==t?void 0:t.type)||e.type,o=(null==t?void 0:t.strike)??e.strike,l=(null==t?void 0:t.expiry)||e.expiry,c="number"==typeof n&&n>0?n:"number"==typeof(null==t?void 0:t.mid)&&t.mid>0?t.mid:e.avg_price,d=(c-e.avg_price)*e.qty*100,u=e.avg_price?(c-e.avg_price)/e.avg_price*100:0,m=gx(l);return{...e,ticker:r,type:i,strike:o,expiry:l,current_price:c,pnl:d,pnl_percent:u,days_to_expiry:m}})}async getTradingMetrics(){const{data:e}=await Ga.functions.invoke("adx_metrics",{method:"POST",body:{}});if((null==e?void 0:e.ok)&&e.data)return e.data;try{const{data:e}=await Ga.functions.invoke("adx_portfolio_snapshot",{method:"POST",body:{}});if(e&&e.portfolio){const t=e.portfolio,n=e.tradesToday||0,r=t.cash??t.starting_cash,s=t.equity??t.current_value??t.starting_cash,a=(Array.isArray(e.positions)?e.positions:[]).reduce((e,t)=>e+(t.avg_price??0)*(t.qty??0)*100,0),i=r,o=Math.max(0,i-a);return{accountBalance:r,dayTradingPower:i,tradesUsedToday:n,maxTradesPerDay:100,portfolioValue:s,todaysPnL:0,totalPnL:s-t.starting_cash,marginUsed:a,marginAvailable:o,maxDrawdownPct:Number(t.max_drawdown_pct||0),sharpe:Number(t.sharpe||0)}}}catch{}return null}async getPnLHistory(e,t=30){const n=new Date,r=new Date;r.setDate(r.getDate()-t);const{data:s,error:a}=await Ga.from("adx_equity_daily").select("as_of_date, equity").eq("portfolio_id",e).gte("as_of_date",r.toISOString().split("T")[0]).lte("as_of_date",n.toISOString().split("T")[0]).order("as_of_date",{ascending:!0});if(!a&&s&&s.length>0){let e=null;return s.map(t=>{const n=Number(t.equity)||0,r=null!==e?n-e:0;return e=n,{date:t.as_of_date,pnl:r,cumulative:n}})}const{data:i}=await Ga.from("adx_pnl_daily").select("as_of, ret, equity").eq("portfolio_id",e).gte("as_of",r.toISOString().split("T")[0]).lte("as_of",n.toISOString().split("T")[0]).order("as_of",{ascending:!0});return(i||[]).map(e=>({date:e.as_of,pnl:e.ret||0,cumulative:e.equity||0}))}async getTradeHistory(e,t=30){const n=new Date,r=new Date;r.setDate(r.getDate()-t);let s=[],a=null;try{const t=await Ga.from("adx_orders").select("id, filled_at, ts").eq("portfolio_id",e).eq("status","FILLED").gte("filled_at",r.toISOString()).lte("filled_at",n.toISOString());s=t.data||[],a=t.error}catch(Iw){a=Iw}let i=[];if(a){i=(await Ga.from("adx_orders").select("id, filled_at, ts").eq("portfolio_id",e).eq("status","FILLED").gte("ts",r.toISOString()).lte("ts",n.toISOString())).data||[]}else{i=(await Ga.from("adx_orders").select("id, filled_at, ts").eq("portfolio_id",e).eq("status","FILLED").gte("ts",r.toISOString()).lte("ts",n.toISOString())).data||[]}const o=new Map;[...s,...i].forEach(e=>{o.has(e.id)||o.set(e.id,e)});const l=Array.from(o.values()).reduce((e,t)=>{const n=t.filled_at||t.ts;if(!n)return e;const r=new Date(n).toISOString().split("T")[0];return e[r]=(e[r]||0)+1,e},{}),c=[],d=new Date(r);for(;d<=n;){const e=d.toISOString().split("T")[0];c.push({date:e,trades:l[e]||0}),d.setDate(d.getDate()+1)}return c}async getCompaniesWithOptions(){try{const{data:e}=await Ga.from("seasons").select("id, tickers").eq("status","active").single();if(!e||!e.tickers)return[];const{data:t}=await Ga.from("stock_prices").select("*").in("ticker",e.tickers),n={},r=(new Date).toISOString().slice(0,10);for(const s of e.tickers){const{data:e}=await Ga.from("v_options_display").select("option_symbol,ticker,type,strike,expiry,display_bid,display_ask,display_last").eq("ticker",s).gte("expiry",r).order("expiry",{ascending:!0}).order("strike",{ascending:!0});n[s]=e||[]}return(t||[]).map(e=>{const t=(n[e.ticker]||[]).slice(0,10).map(e=>({id:e.option_symbol,type:"put"===String(e.type).toLowerCase()?"put":"call",strike:Number(e.strike)||0,maturity:e.expiry,bidPrice:Number(e.display_bid)||0,askPrice:Number(e.display_ask)||0,volume:0,openInterest:0,exerciseStyle:"European"})),r=xx.find(t=>t.adr===e.ticker);return{id:e.ticker,symbol:e.ticker,name:(null==r?void 0:r.name)||e.ticker,currentPrice:e.price,change:e.change,changePercent:e.change_percent,logoUrl:Lv(e.ticker),options:t}})}catch(e){return[]}}async placeOrder(e,t){var n,r,s,a,i,o,l,c,d;try{const u=await this.getUserPortfolio();if(!u)return{success:!1,error:"No portfolio found"};const m="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),h=(null==(n=null==crypto?void 0:crypto.randomUUID)?void 0:n.call(crypto))||`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`;if(vx&&!0){const n="https://fsqds-production.yadavkartik-arbeit.workers.dev",l=await Ga.auth.getSession(),c=null==(s=null==(r=null==l?void 0:l.data)?void 0:r.session)?void 0:s.access_token,d=await fetch(`${n}/api/adx/place-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:c?`Bearer ${c}`:"","x-correlation-id":h},body:JSON.stringify({portfolioId:u.id,optionSymbol:e.optionSymbol,side:e.action.toUpperCase(),qty:e.quantity,turnstileToken:m?"dev-bypass-token":(null==t?void 0:t.turnstileToken)||void 0})}),f=await d.json().catch(()=>({}));if(!d.ok||!(null==f?void 0:f.ok)){return{success:!1,error:`${(null==f?void 0:f.error)||"Order failed"} (ref: ${h})`}}const p=(null==f?void 0:f.data)||f;return{success:!0,order:null==p?void 0:p.order,auctionSlot:null==(a=null==p?void 0:p.order)?void 0:a.auctionSlot,previewPrice:null==(i=null==p?void 0:p.order)?void 0:i.previewPrice,estimatedFees:null==(o=null==p?void 0:p.order)?void 0:o.estimatedFees}}const{data:f,error:p}=await Ga.functions.invoke("adx_place_order",{method:"POST",headers:{"x-correlation-id":h},body:{portfolioId:u.id,optionSymbol:e.optionSymbol,side:e.action.toUpperCase(),qty:e.quantity,turnstileToken:m?"dev-bypass-token":(null==t?void 0:t.turnstileToken)||void 0}});if(p||!(null==f?void 0:f.ok)){return{success:!1,error:`${(null==f?void 0:f.error)||(null==p?void 0:p.message)||"Order failed"} (ref: ${h})`}}const g=null==f?void 0:f.data;return{success:!0,order:null==g?void 0:g.order,auctionSlot:null==(l=null==g?void 0:g.order)?void 0:l.auctionSlot,previewPrice:null==(c=null==g?void 0:g.order)?void 0:c.previewPrice,estimatedFees:null==(d=null==g?void 0:g.order)?void 0:d.estimatedFees}}catch(u){return{success:!1,error:"Failed to place order"}}}async getStagedOrders(e){var t;try{const n=(null==(t=null==crypto?void 0:crypto.randomUUID)?void 0:t.call(crypto))||`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`,{data:r,error:s}=await Ga.functions.invoke("adx_list_staged_orders",{method:"POST",headers:{"x-correlation-id":n},body:{portfolio_id:e}});return s||!(null==r?void 0:r.ok)?[]:(null==r?void 0:r.data)||[]}catch(Iw){return[]}}async cancelOrder(e,t){var n;try{const r="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),s=(null==(n=null==crypto?void 0:crypto.randomUUID)?void 0:n.call(crypto))||`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`,{data:a,error:i}=await Ga.functions.invoke("adx_cancel_order",{method:"POST",headers:{"x-correlation-id":s},body:{orderId:e,turnstileToken:r?"dev-bypass-token":(null==t?void 0:t.turnstileToken)||void 0}});if(i||!(null==a?void 0:a.ok)){return{success:!1,error:`${(null==a?void 0:a.error)||(null==i?void 0:i.message)||"Cancel failed"} (ref: ${s})`}}return{success:!0}}catch(Iw){return{success:!1,error:"Cancel failed"}}}async exerciseOption(e,t){var n;try{const r=await this.getUserPortfolio();if(!r)return{success:!1,error:"No portfolio found"};const s="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),a=(null==(n=null==crypto?void 0:crypto.randomUUID)?void 0:n.call(crypto))||`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`,{data:i,error:o}=await Ga.functions.invoke("adx_exercise",{method:"POST",headers:{"x-correlation-id":a},body:{portfolioId:r.id,optionSymbol:e.optionSymbol,qty:e.qty,turnstileToken:s?"dev-bypass-token":(null==t?void 0:t.turnstileToken)||void 0}});if(o||!(null==i?void 0:i.ok)){return{success:!1,error:`${(null==i?void 0:i.error)||(null==o?void 0:o.message)||"Exercise failed"} (ref: ${a})`}}return{success:!0,data:null==i?void 0:i.data}}catch(r){return{success:!1,error:"Failed to exercise option"}}}async getPortfolioComposition(e){const t=await this.getUserPositions(e),n=t.filter(e=>"call"===e.type).reduce((e,t)=>e+(t.current_price??t.avg_price)*t.qty*100,0),r=t.filter(e=>"put"===e.type).reduce((e,t)=>e+(t.current_price??t.avg_price)*t.qty*100,0),s=n+r;return 0===s?{calls:0,puts:0}:{calls:n/s*100,puts:r/s*100}}async getOptionsMetadataBySymbols(e){const t=Array.from(new Set((e||[]).filter(Boolean)));if(0===t.length)return{};const{data:n,error:r}=await Ga.from("options_market_data").select("option_symbol, ticker, type, strike, expiry, currency, exchange").in("option_symbol",t);if(r||!n)return{};const s={};for(const a of n)s[a.option_symbol]=a;return s}};function bx(){const{user:e}=ti(),[t,n]=Ke.useState([]),[r,s]=Ke.useState(!0),[a,i]=Ke.useState(!1),[o,l]=Ke.useState(null),[c,d]=Ke.useState(!1);Ke.useRef(null);const[u,m]=Ke.useState((()=>{const e="180000",t=e?Number(e):6e4;return Number.isFinite(t)&&t>=15e3?t:6e4})()),[h,f]=Ke.useState(!0),[p,g]=Ke.useState(!1),[v,x]=Ke.useState(""),[y,b]=Ke.useState("all"),[w,j]=Ke.useState("all"),[N,k]=Ke.useState(""),[S,_]=Ke.useState(null),[E,D]=Ke.useState(!1),[T,M]=Ke.useState(null),[C,O]=Ke.useState(1),[A,P]=Ke.useState(0),[R,I]=Ke.useState(!1),[L,F]=Ke.useState(0),z=Ke.useRef(null),U=Ke.useRef(null),q=Ke.useRef(null),B=Ke.useRef(!1),[Y,W]=Ke.useState(null),H=Ke.useRef(null),V=Vv();const[G,K]=Ke.useState(new Map),Q=Ke.useMemo(()=>async()=>{var e;try{s(e=>e&&0===t.length);const{data:r}=await Ga.from("seasons").select("id").eq("status","active").maybeSingle();if(!r)return n([]),l(new Date),void d(!0);const{data:i}=await Ga.from("adx_tickers").select("*").eq("season_id",r.id).eq("is_active",!0).order("band",{ascending:!0}).order("symbol",{ascending:!0});if(!i||0===i.length)return n([]),l(new Date),void d(!0);const o=i.map(e=>e.symbol),c="https://fsqds-production.yadavkartik-arbeit.workers.dev",u=await fetch(`${c}/api/market/stock-prices?season=active`,{headers:{"accept-encoding":"gzip, br"}});let m=[];if(u.ok){const e=await u.json().catch(()=>({ok:!1}));m=(null==e?void 0:e.data)||[]}const h=new Map((m||[]).filter(e=>o.includes(e.ticker)).map(e=>[e.ticker,{price:Number(e.price)||0,change:Number(e.change)||0,change_percent:Number(e.change_percent)||0,last_updated:e.last_updated}]));let f=0;h.forEach(e=>{const t=e.last_updated?Date.parse(e.last_updated):0;t>f&&(f=t)});const p=Date.now();d(0===f||p-f>12e5);const g=new Map,y=v||i&&(null==(e=i[0])?void 0:e.symbol)||"";if(y){const e=await fetch(`${c}/api/market/options/catalog?season=active&symbol=${encodeURIComponent(y)}&liquid=${a?"true":"false"}&maxExpiries=6`,{headers:{"accept-encoding":"gzip, br"}});if(e.ok){const t=await e.json().catch(()=>({ok:!1})),n=(null==t?void 0:t.data)||[];g.set(y,n)}}const b=i.map(e=>{const t=h.get(e.symbol),n=g.get(e.symbol)||[],r=(a?n.filter(e=>(Number(e.display_bid)||0)>0||(Number(e.display_ask)||0)>0):n).map(e=>({id:e.option_symbol,type:"put"===String(e.type).toLowerCase()?"put":"call",strike:Number(e.strike)||0,maturity:e.expiry,bidPrice:Number(e.display_bid)||0,askPrice:Number(e.display_ask)||0,lastPrice:Number(e.display_last)||0,volume:0,openInterest:0,impliedVol:null,delta:null,gamma:null,theta:null}));return{id:e.id,symbol:e.symbol,name:e.name,currentPrice:(null==t?void 0:t.price)??0,change:(null==t?void 0:t.change)??0,changePercent:(null==t?void 0:t.change_percent)??0,logoUrl:Lv(e.symbol),options:r}});n(b),!v&&b.length>0&&x(b[0].symbol),l(new Date)}catch(Iw){n([]),d(!0),l(new Date)}finally{s(!1)}},[a,v,t.length]);Ke.useEffect(()=>{Q()},[Q]),Ke.useEffect(()=>{let e=!0;return(async()=>{var t,n;try{const{data:r}=await Ga.auth.getSession(),s=null==(n=null==(t=null==r?void 0:r.session)?void 0:t.user)?void 0:n.id;if(!s)return void(e&&g(!1));const{data:a}=await Ga.from("user_profiles").select("is_admin").eq("user_id",s).single();e&&g(!!(null==a?void 0:a.is_admin))}catch{e&&g(!1)}})(),()=>{e=!1}},[]),Ke.useEffect(()=>{const e=async(e,t)=>{W({kind:e,at:t}),await Q(),H.current&&window.clearTimeout(H.current),H.current=window.setTimeout(()=>W(null),8e3)},t=t=>{var n;return e("open",(null==(n=null==t?void 0:t.detail)?void 0:n.at)||(new Date).toISOString())},n=t=>{var n;return e("close",(null==(n=null==t?void 0:t.detail)?void 0:n.at)||(new Date).toISOString())};return window.addEventListener("auction-run:open",t),window.addEventListener("auction-run:close",n),()=>{H.current&&window.clearTimeout(H.current),window.removeEventListener("auction-run:open",t),window.removeEventListener("auction-run:close",n)}},[Q]),Ke.useEffect(()=>{const e=()=>{var e,t;try{const n=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Berlin",hour12:!1,hour:"2-digit",minute:"2-digit"}).formatToParts(new Date),r=(null==(e=n.find(e=>"hour"===e.type))?void 0:e.value)||"00",s=`${r}:${(null==(t=n.find(e=>"minute"===e.type))?void 0:t.value)||"00"}`;m(s>="08:30"&&s<="18:00"?6e4:3e5)}catch{m(6e4)}};e();const t=window.setInterval(e,6e4);return()=>window.clearInterval(t)},[]),Ke.useEffect(()=>{let e=!1,t=null;if(h)return t&&window.clearTimeout(t),()=>{t&&window.clearTimeout(t)};const n=async()=>{if(e)return;await Q();const r=6e4===u?Math.floor(1e4*Math.random())-5e3:0,s=Math.max(15e3,u+r);t=window.setTimeout(n,s)};return n(),()=>{e=!0,t&&window.clearTimeout(t)}},[Q,u,h]),Ke.useEffect(()=>{},[Q]);const X=Ke.useMemo(()=>t.find(e=>e.symbol===v)||null,[t,v]),Z=Ke.useMemo(()=>{if(!X)return[];const e=Array.from(new Set(X.options.map(e=>e.maturity))).sort();return!N&&e.length>0&&k(e[0]),e},[X,N]);const J=Ke.useMemo(()=>{if(!X)return[];let e=X.options;if("all"!==y){const t="calls"===y?"call":"put";e=e.filter(e=>e.type===t)}return N&&(e=e.filter(e=>e.maturity===N)),"all"!==w&&(X.currentPrice||0)>0&&(e=e.filter(e=>{return t=e.strike,n=X.currentPrice,(Math.abs(t-n)/(n||1)<.02?"ATM":t>n?"OTM":"ITM")===w;var t,n})),e},[X,y,N,w]);Ke.useEffect(()=>{K(new Map)},[X,v,N,w,y,J]);const[ee,te]=Ke.useState(0);Ke.useEffect(()=>{(async()=>{try{if(!e||!S)return P(0),void te(0);const t=await yx.getUserPortfolio();if(!t)return P(0),void te(0);const[n,r]=await Promise.all([yx.getUserPositions(t.id),yx.getStagedOrders(t.id)]),s=(n||[]).find(e=>e.option_symbol===S.id);P(s?Number(s.qty||0):0);const a=(r||[]).filter(e=>String(e.option_symbol)===S.id&&"PENDING"===String(e.status).toUpperCase()&&"SELL"===String(e.side).toUpperCase()).reduce((e,t)=>e+Number(t.qty||0),0);te(a)}catch{P(0),te(0)}})()},[e,null==S?void 0:S.id]);const ne=Ke.useMemo(()=>{const e=new Map;for(const t of J){const n=e.get(t.strike)||{};n[t.type]=t,e.set(t.strike,n)}return Array.from(e.entries()).map(([e,t])=>({strike:e,call:t.call,put:t.put})).sort((e,t)=>e.strike-t.strike)},[J]),re=Ke.useMemo(()=>{if(!X||0===ne.length)return null;const e=X.currentPrice||0;let t=ne[0].strike,n=Math.abs(ne[0].strike-e);for(const r of ne){const s=Math.abs(r.strike-e);s<n&&(n=s,t=r.strike)}return t},[X,ne]);async function se(t){var n,r;if(!e||!X||!S||E)return;const s=Math.max(1,Math.min(1e3,C||1));if("sell"===t){const e=Math.max(0,A-ee);if(s>e)return void M(`Cannot sell ${s}: available ${e} (staged ${ee} of ${A})`)}D(!0),M(null);try{const e=await async function(){var e,t;if("undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname))return"dev-bypass-token";for(let n=0;n<20&&!(R&&z.current&&(null==(e=null==window?void 0:window.turnstile)?void 0:e.execute));n++)await new Promise(e=>setTimeout(e,100));if(R&&z.current&&(null==(t=null==window?void 0:window.turnstile)?void 0:t.execute)){if(B.current){for(let e=0;e<25&&(B.current||!q.current);e++)await new Promise(e=>setTimeout(e,100));if(q.current&&Date.now()-q.current.at<5e3)return q.current.token}return B.current=!0,await new Promise(e=>{var t;let n=!1;const r=window.setTimeout(()=>{n=!0,U.current=null,B.current=!1,e("")},5e3);U.current=t=>{n||(window.clearTimeout(r),q.current={token:t,at:Date.now()},B.current=!1,e(t))};try{(null==(t=null==window?void 0:window.turnstile)?void 0:t.reset)&&z.current&&window.turnstile.reset(z.current),window.turnstile.execute(z.current)}catch(s){window.clearTimeout(r),B.current=!1,F(e=>e+1),e("")}})}}();if(!("undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname))&&!e)return void M("Verification failed  please try again");const a=await yx.placeOrder({optionSymbol:S.id,ticker:X.symbol,type:S.type,strike:S.strike,expiry:S.maturity,quantity:s,action:t,orderType:"market"},{turnstileToken:e});if(a.success){const e=a.previewPrice?` (preview ${Dv(a.previewPrice,2)}`:"",t="number"==typeof a.estimatedFees?`${e?"  ":" ("}fees ${Dv(a.estimatedFees,2)})`:e?")":"";if(a.auctionSlot){const s="open"===a.auctionSlot?null==(n=V.cutoffs)?void 0:n.openCut:null==(r=V.cutoffs)?void 0:r.closeCut,i=s?s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";M(`Order staged for ${a.auctionSlot.toUpperCase()}${e}${t}  cancel until ${i} Berlin`)}else M("Order filled");window.dispatchEvent(new CustomEvent("portfolio-updated"))}else M(a.error||"Failed to place order")}catch(Iw){M("Error placing order")}finally{D(!1),setTimeout(()=>M(null),4e3)}}return r?$.jsx("div",{className:"flex items-center justify-center p-12 text-muted-foreground",children:"Loading options data"}):$.jsxs("div",{className:"space-y-6",children:[$.jsx(Xv,{}),Y&&$.jsxs("div",{className:"text-xs bg-green-50 text-green-800 border border-green-200 rounded px-3 py-2",role:"status","aria-live":"polite",children:[Y.kind.toUpperCase()," auction executed at ",new Date(Y.at).toLocaleTimeString(),"  refreshing"]}),$.jsx("div",{className:"sr-only",children:$.jsx(fx,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",size:"flexible",onLoad:e=>{z.current=e,I(!0)},onVerify:e=>{q.current={token:String(e),at:Date.now()},B.current=!1,U.current&&(U.current(String(e)),U.current=null)},onExpire:()=>{B.current=!1},onError:()=>{B.current=!1,I(!1),F(e=>e+1)}},`matrix-invisible-${L}`)}),$.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-4 bg-muted/30 rounded-lg",children:[$.jsxs("div",{className:"flex flex-col gap-1",children:[$.jsx(rx,{}),$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("label",{className:"text-xs text-muted-foreground",children:"Underlying"}),$.jsxs(bv,{value:v,onValueChange:x,children:[$.jsx(jv,{className:"h-8 w-60",children:$.jsx(wv,{placeholder:"Select"})}),$.jsx(Nv,{children:t.map(e=>$.jsx(kv,{value:e.symbol,children:$.jsxs("span",{className:"inline-block max-w-[12rem] truncate align-bottom",children:[e.symbol,"  ",e.name]})},e.symbol))})]})]}),$.jsxs("div",{className:"text-[11px] text-muted-foreground",children:["Auto-refresh: ",h?"Paused":6e4===u?"60s (market)":"5m (off-hours)","  Last updated: ",o?new Date(o).toLocaleTimeString():""," ",c&&$.jsx("span",{className:"ml-2 inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-yellow-200 text-yellow-900",children:"STALE"})]})]}),$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("label",{className:"text-xs text-muted-foreground",children:"Type"}),$.jsx(yv,{size:"sm",variant:"all"===y?"default":"outline",className:"h-8",onClick:()=>b("all"),children:"All"}),$.jsx(yv,{size:"sm",variant:"calls"===y?"default":"outline",className:"h-8 text-green-600 border-green-600",onClick:()=>b("calls"),children:"Calls"}),$.jsx(yv,{size:"sm",variant:"puts"===y?"default":"outline",className:"h-8 text-red-600 border-red-600",onClick:()=>b("puts"),children:"Puts"})]}),$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("label",{className:"text-xs text-muted-foreground",children:"Moneyness"}),$.jsx(yv,{size:"sm",variant:"all"===w?"default":"outline",className:"h-8",onClick:()=>j("all"),children:"All"}),$.jsx(yv,{size:"sm",variant:"ITM"===w?"default":"outline",className:"h-8",onClick:()=>j("ITM"),children:"ITM"}),$.jsx(yv,{size:"sm",variant:"ATM"===w?"default":"outline",className:"h-8",onClick:()=>j("ATM"),children:"ATM"}),$.jsx(yv,{size:"sm",variant:"OTM"===w?"default":"outline",className:"h-8",onClick:()=>j("OTM"),children:"OTM"})]}),$.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[$.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5",checked:a,onChange:e=>i(e.target.checked)}),"Hide illiquid (no quotes)"]}),$.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[$.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5",checked:h,onChange:e=>f(e.target.checked)}),"Pause auto-refresh"]})]}),X?$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[$.jsxs(fv,{className:"lg:col-span-2",children:[$.jsxs(pv,{className:"pb-3",children:[$.jsxs(gv,{className:"text-lg flex items-center justify-between",children:[$.jsxs("span",{children:[X.symbol," Options"]}),$.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Contracts: ",X.options.length]})]}),$.jsxs("div",{className:"mt-2",children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Expiration"}),$.jsx("div",{className:"flex flex-wrap gap-2",children:Z.slice(0,12).map(e=>$.jsx("button",{onClick:()=>k(e),className:"px-2 py-1 rounded-full border text-xs "+(N===e?"bg-primary text-primary-foreground border-primary":"bg-card hover:bg-accent border-muted"),title:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),children:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})},e))})]})]}),$.jsx(vv,{children:$.jsx("div",{className:"border rounded-lg overflow-hidden",children:$.jsx("div",{className:"overflow-x-auto max-h-[70vh] overflow-y-auto",children:$.jsxs("table",{className:"w-full table-fixed",children:[$.jsx("thead",{className:"bg-muted sticky top-0 z-10",children:$.jsxs("tr",{children:[$.jsx("th",{className:"px-2 py-2 text-xs text-center bg-green-50 w-[10%]",children:"CALLS"}),$.jsx("th",{className:"px-2 py-2 text-xs text-center w-[10%]",children:"Bid"}),$.jsx("th",{className:"px-2 py-2 text-xs text-center w-[10%]",children:"Ask"}),$.jsx("th",{className:"px-2 py-2 text-xs text-center w-[10%]",children:"Last"}),$.jsx("th",{className:"px-2 py-2 text-xs text-center bg-primary text-primary-foreground w-[12%]",children:"Strike"}),$.jsx("th",{className:"px-2 py-2 text-xs text-center w-[10%]",children:"Bid"}),$.jsx("th",{className:"px-2 py-2 text-xs text-center w-[10%]",children:"Ask"}),$.jsx("th",{className:"px-2 py-2 text-xs text-center w-[10%]",children:"Last"}),$.jsx("th",{className:"px-2 py-2 text-xs text-center bg-red-50 w-[10%]",children:"PUTS"})]})}),$.jsx("tbody",{children:ne.map(e=>{var t,n;const r=null!=re&&e.strike===re;return $.jsxs("tr",{className:(r?"bg-yellow-50":"")+" border-b",children:[$.jsx("td",{className:"px-2 py-2 text-center bg-green-50",children:e.call?$.jsx(yv,{size:"sm",variant:(null==S?void 0:S.id)===e.call.id?"default":"ghost",className:"text-xs h-6 px-1 w-full",onClick:()=>_(e.call),children:"Select"}):$.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),$.jsx("td",{className:"px-2 py-2 text-center",children:e.call?e.call.bidPrice>0?$.jsxs("span",{className:"text-green-600 font-medium text-sm",children:["",Dv(e.call.bidPrice,2)]}):$.jsx("span",{className:"text-xs text-muted-foreground",children:""}):"-"}),$.jsx("td",{className:"px-2 py-2 text-center",children:e.call?e.call.askPrice>0?$.jsxs("span",{className:"text-red-600 font-medium text-sm",children:["",Dv(e.call.askPrice,2)]}):$.jsx("span",{className:"text-xs text-muted-foreground",children:""}):"-"}),$.jsx("td",{className:"px-2 py-2 text-center",children:e.call?$.jsxs("span",{className:"font-medium text-sm",children:["",Dv(e.call.lastPrice>0?e.call.lastPrice:(null==(t=G.get(e.call.id))?void 0:t.price)||0,2)]}):"-"}),$.jsxs("td",{className:"px-2 py-2 text-center font-mono font-bold text-lg bg-muted",children:[$.jsxs("div",{className:r?"text-yellow-600 font-extrabold text-xl":"",children:["",e.strike]}),r&&$.jsx("div",{className:"text-xs text-yellow-600 font-medium",children:"ATM"})]}),$.jsx("td",{className:"px-2 py-2 text-center",children:e.put?e.put.bidPrice>0?$.jsxs("span",{className:"text-green-600 font-medium text-sm",children:["",Dv(e.put.bidPrice,2)]}):$.jsx("span",{className:"text-xs text-muted-foreground",children:""}):"-"}),$.jsx("td",{className:"px-2 py-2 text-center",children:e.put?e.put.askPrice>0?$.jsxs("span",{className:"text-red-600 font-medium text-sm",children:["",Dv(e.put.askPrice,2)]}):$.jsx("span",{className:"text-xs text-muted-foreground",children:""}):"-"}),$.jsx("td",{className:"px-2 py-2 text-center",children:e.put?$.jsxs("span",{className:"font-medium text-sm",children:["",Dv(e.put.lastPrice>0?e.put.lastPrice:(null==(n=G.get(e.put.id))?void 0:n.price)||0,2)]}):"-"}),$.jsx("td",{className:"px-2 py-2 text-center bg-red-50",children:e.put?$.jsx(yv,{size:"sm",variant:(null==S?void 0:S.id)===e.put.id?"default":"ghost",className:"text-xs h-6 px-1 w-full",onClick:()=>_(e.put),children:"Select"}):$.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})]},e.strike)})})]})})})})]}),$.jsxs("div",{className:"space-y-4",children:[$.jsxs(fv,{children:[$.jsx(pv,{className:"pb-3",children:$.jsx(gv,{className:"text-sm",children:"Company Info"})}),$.jsxs(vv,{className:"space-y-4",children:[$.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[$.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:$.jsx(Uv,{ticker:X.symbol,alt:`${X.name} logo`,className:"w-full h-full object-contain p-1 bg-white"})}),$.jsxs("div",{className:"text-center",children:[$.jsx("h3",{className:"font-mono text-lg font-bold",children:X.symbol}),$.jsx("p",{className:"text-xs text-muted-foreground",children:X.name})]})]}),$.jsxs("div",{className:"text-center",children:[$.jsxs("div",{className:"text-2xl font-bold",children:["",Dv(X.currentPrice,2)]}),$.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm "+(X.change>=0?"text-green-600":"text-red-600"),children:[X.change>=0?"+":"",Dv(X.change,2)," (",Cv(X.changePercent,2,!0),")"]})]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:["Contracts: ",X.options.length]})]})]}),$.jsxs(fv,{children:[$.jsx(pv,{className:"pb-3",children:$.jsx(gv,{className:"text-sm",children:"Option Details"})}),$.jsx(vv,{className:"space-y-3",children:S?$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx(Qg,{variant:"call"===S.type?"default":"secondary",children:S.type.toUpperCase()}),$.jsx("span",{className:"text-sm text-muted-foreground",children:X.symbol})]}),$.jsxs("div",{className:"text-center",children:[$.jsxs("div",{className:"text-2xl font-bold",children:["",S.strike]}),$.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(S.maturity).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),$.jsx("div",{className:"text-[11px] text-muted-foreground mb-2",children:"Quotes are per unit (/unit). Each contract represents 100 units of the underlying."}),$.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Bid (per unit)"}),$.jsx("div",{className:"font-semibold text-green-600",children:S.bidPrice>0?`${Dv(S.bidPrice,2)}`:""})]}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Last"}),$.jsxs("div",{className:"font-semibold",children:["",Dv(S.lastPrice,2)]})]}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Ask (per unit)"}),$.jsx("div",{className:"font-semibold text-red-600",children:S.askPrice>0?`${Dv(S.askPrice,2)}`:""})]})]}),$.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("label",{className:"text-xs text-muted-foreground",children:"Qty"}),$.jsx("input",{type:"number",min:1,max:1e3,value:C,onChange:e=>O(parseInt(e.target.value)||1),className:"w-20 h-8 px-2 py-1 border rounded text-xs","aria-label":"Quantity"})]}),$.jsx(yv,{className:"bg-green-600 hover:bg-green-700",onClick:()=>se("buy"),disabled:!e||E,children:(()=>{var e;const t=S.askPrice>0?S.askPrice:(null==(e=G.get(S.id))?void 0:e.price)||0,n=Math.max(1,Math.min(1e3,C||1));return t>0?`Buy ${Dv(t*n*100,2)}`:"Buy"})()}),$.jsx(yv,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",onClick:()=>se("sell"),disabled:!e||E||C>Math.max(0,A-ee),title:C>Math.max(0,A-ee)?`Available ${Math.max(0,A-ee)} (staged ${ee} of ${A})`:"",children:(()=>{var e;const t=S.bidPrice>0?S.bidPrice:(null==(e=G.get(S.id))?void 0:e.price)||0,n=Math.max(1,Math.min(1e3,C||1));return t>0?`Sell ${Dv(t*n*100,2)}`:"Sell"})()})]}),(()=>{var e;const t=S?S.askPrice>0?S.askPrice:(null==(e=G.get(S.id))?void 0:e.price)||0:null;if(!t)return null;const n=t*Math.max(1,Math.min(1e3,C||1))*100;return $.jsxs("div",{className:"text-[11px] text-muted-foreground",children:["Total Notional: ",Dv(n,2)]})})(),T&&$.jsx("div",{className:"text-xs text-muted-foreground",children:T}),$.jsxs("div",{className:"mt-2 flex items-center gap-2 text-[11px] text-muted-foreground",children:[$.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/8/81/EUREX_Logo_Blue_sRGB.png",alt:"Eurex",className:"h-4"}),$.jsx("span",{children:"Powered by Deutsche Boerse"})]})]}):$.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"Select an option to view details"})})]})]})]}):$.jsx("div",{className:"text-center p-12 text-muted-foreground",children:"No companies available"}),p&&$.jsx("div",{className:"mt-6",children:$.jsx(nx,{})})]})}function wx({className:e,type:t,...n}){return $.jsx("input",{type:t,"data-slot":"input",className:Wg("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}const jx=Ea("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nx=Ke.forwardRef(({className:e,...t},n)=>$.jsx(Oe,{ref:n,className:Da(jx(),e),...t}));Nx.displayName=Oe.displayName;const kx=new class{constructor(){this.companiesCache=null,this.cacheTimestamp=0,this.CACHE_DURATION=3e5}async getCompanies(e=!1){if(!e&&this.companiesCache&&Date.now()-this.cacheTimestamp<this.CACHE_DURATION)return this.companiesCache;try{const{data:e}=await Ga.from("seasons").select("id").eq("status","active").single();if(!e)return Fv.map(e=>({id:e.ticker,ticker:e.ticker,name:e.name,sector:e.sector,logo:e.logo,adr:e.adr}));const{data:t}=await Ga.from("adx_tickers").select("*").eq("season_id",e.id).eq("is_active",!0);if(t&&t.length>0){const{data:e}=await Ga.from("stock_prices").select("*").in("ticker",t.map(e=>e.symbol));this.companiesCache=t.map(t=>{const n=null==e?void 0:e.find(e=>e.ticker===t.symbol),r=Fv.find(e=>e.ticker===t.symbol);return{id:t.id,ticker:t.symbol,name:t.name||(null==r?void 0:r.name)||t.symbol,sector:(null==r?void 0:r.sector)||"Unknown",logo:(null==t?void 0:t.logo_url)||Lv(t.symbol),adr:(null==r?void 0:r.adr)||t.symbol,price:null==n?void 0:n.price,change:null==n?void 0:n.change,changePercent:null==n?void 0:n.change_percent}})}else this.companiesCache=Fv.map(e=>({id:e.ticker,ticker:e.ticker,name:e.name,sector:e.sector,logo:e.logo,adr:e.adr}));return this.cacheTimestamp=Date.now(),this.companiesCache}catch(t){return Fv.map(e=>({id:e.ticker,ticker:e.ticker,name:e.name,sector:e.sector,logo:e.logo,adr:e.adr}))}}async getRevenuePredictions(){try{const{data:{user:e}}=await Ga.auth.getUser();if(!e)return[];const t=await this.getCompanies(),{data:n}=await Ga.from("seasons").select("id, name").eq("status","active").single();if(!n)return[];const{data:r}=await Ga.from("adx_revenue_predictions").select("*").eq("season_id",n.id).eq("user_id",e.id),{data:s}=await Ga.from("adx_revenue_actuals").select("symbol, actual_value").eq("season_id",n.id),a=new Map;return(s||[]).forEach(e=>a.set(String(e.symbol).toUpperCase(),e.actual_value)),t.map(e=>{var t;const s=null==r?void 0:r.find(t=>t.symbol===e.ticker),i=(new Date).toISOString().slice(0,10),o=(null==(t=null==s?void 0:s.updated_at)?void 0:t.slice(0,10))===i&&s.updates_today||0,l="number"==typeof(null==s?void 0:s.value)?Number(null==s?void 0:s.value):void 0,c=a.get(e.ticker),d="number"==typeof l&&"number"==typeof c?Math.pow(l-c,2):void 0;return{ticker:e.ticker,companyName:e.name,logo:e.logo,quarter:n.name||"Current Season",prediction:l,actualRevenue:c,mse:d,updatesLeft:Math.max(0,5-o)}})}catch(e){return[]}}async submitPrediction(e,t,n){var r;try{const{data:{user:s}}=await Ga.auth.getUser();if(!s)return{success:!1,error:"Authentication required"};const{data:a}=await Ga.from("seasons").select("id").eq("status","active").single();if(!a)return{success:!1,error:"No active season"};const i=!0,o="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),l=(null==n?void 0:n.turnstileToken)||(o?"dev-bypass-token":void 0);if(i&&!l)return{success:!1,error:"Verification required"};const c=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/adx_save_prediction",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(r=(await Ga.auth.getSession()).data.session)?void 0:r.access_token}`},body:JSON.stringify({seasonId:a.id,symbol:e,value:t,turnstileToken:l||(i?void 0:"dev-bypass-token")})}),d=await c.json();return d.ok?{success:!0}:{success:!1,error:d.error||"Failed to save prediction"}}catch(s){return{success:!1,error:"An unexpected error occurred"}}}async getOptionsForTrading(){try{const e=await this.getCompanies(),t=new Map,n=(new Date).toISOString().slice(0,10);for(const s of e){const{data:e}=await Ga.from("v_options_display").select("option_symbol,ticker,type,strike,expiry,display_bid,display_ask,display_last").eq("ticker",s.ticker).gte("expiry",n).order("expiry").order("strike");t.set(s.ticker,e||[])}const r=[];for(const s of e){const e=t.get(s.ticker)||[];for(const t of e){const e=Number(t.display_bid)||0,n=Number(t.display_ask)||0,a=Number(t.display_last)||0,i=e>0&&n>0?(e+n)/2:a;r.push({id:t.option_symbol,ticker:t.ticker,companyName:s.name,logo:s.logo||Lv(t.ticker),type:"put"===String(t.type).toLowerCase()?"put":"call",strike:Number(t.strike)||0,expiry:t.expiry,bid:e,ask:n,mid:i,volume:0,openInterest:0})}}return r}catch(e){return[]}}async getCompanyByTicker(e){return(await this.getCompanies()).find(t=>t.ticker===e)||null}clearCache(){this.companiesCache=null,this.cacheTimestamp=0}};function Sx({company:e,existingPrediction:t,onSubmit:n}){var r,s;const[a,i]=Ke.useState(!t),[o,l]=Ke.useState((null==(r=null==t?void 0:t.predictedRevenue)?void 0:r.toString())||""),[c,d]=Ke.useState(!1);return $.jsxs(fv,{className:"overflow-hidden",children:[$.jsx(pv,{className:"pb-4",children:$.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[$.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:$.jsx(Uv,{ticker:e.symbol,src:e.logoUrl,alt:`${e.name} logo`,className:"w-full h-full object-cover"})}),$.jsxs("div",{className:"flex-1 min-w-0",children:[$.jsx(gv,{className:"font-mono text-lg mb-1",children:e.symbol}),$.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.name})]}),$.jsxs("div",{className:"flex items-center gap-2",children:[t&&$.jsx(Qg,{variant:"submitted"===t.status?"default":"secondary",className:"text-xs",children:"submitted"===t.status?"Submitted":"Verified"}),c&&$.jsx(Qg,{variant:"default",className:"text-xs bg-green-600 text-white",children:"Saved!"})]})]})}),$.jsx(vv,{className:"space-y-4",children:a?$.jsxs("div",{className:"space-y-3",children:[$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:`prediction-${e.id}`,className:"text-sm",children:"Your Prediction (Billions $)"}),$.jsx(wx,{id:`prediction-${e.id}`,type:"number",step:"0.01",placeholder:"e.g., 125.50",value:o,onChange:e=>l(e.target.value),className:"mt-1"})]}),$.jsxs("div",{className:"flex gap-2",children:[$.jsxs(yv,{size:"sm",onClick:async()=>{if(o&&parseFloat(o)>0){await n(e.id,parseFloat(o))&&(i(!1),d(!0),setTimeout(()=>d(!1),2500))}},className:"flex-1",children:[$.jsx(Bn,{className:"w-3 h-3 mr-1"}),"Submit"]}),t&&$.jsx(yv,{size:"sm",variant:"outline",onClick:()=>{var e;l((null==(e=null==t?void 0:t.predictedRevenue)?void 0:e.toString())||""),i(!1)},children:$.jsx(tr,{className:"w-3 h-3"})})]})]}):$.jsxs("div",{className:"space-y-3",children:[$.jsxs("div",{className:"p-3 rounded-lg bg-muted/20 border",children:[$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Your Prediction"}),$.jsxs("div",{className:"font-semibold text-lg",children:["$",null==t?void 0:t.predictedRevenue,"B"]})]}),$.jsxs(yv,{size:"sm",variant:"outline",onClick:()=>i(!0),children:[$.jsx(Hn,{className:"w-3 h-3 mr-1"}),"Edit"]})]}),(null==t?void 0:t.actualRevenue)&&$.jsx("div",{className:"mt-2 pt-2 border-t",children:$.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[$.jsxs("div",{children:[$.jsx("span",{className:"text-muted-foreground",children:"Actual: "}),$.jsxs("span",{className:"font-semibold",children:["$",t.actualRevenue,"B"]})]}),$.jsxs("div",{children:[$.jsx("span",{className:"text-muted-foreground",children:"MSE: "}),$.jsx("span",{className:"font-semibold",children:null==(s=t.mse)?void 0:s.toFixed(2)})]})]})})]}),t&&$.jsxs("div",{className:"text-xs text-muted-foreground",children:["Submitted on ",new Date(t.submittedAt).toLocaleDateString()]})]})})]})}function _x({userStats:e}){return $.jsxs(fv,{children:[$.jsx(pv,{children:$.jsxs(gv,{className:"flex items-center gap-2",children:[$.jsx($n,{className:"w-5 h-5"}),"Your Performance"]})}),$.jsxs(vv,{children:[$.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[$.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/20",children:[$.jsx("div",{className:"text-2xl font-bold mb-1",children:e.totalPredictions}),$.jsx("div",{className:"text-xs text-muted-foreground",children:"Predictions Made"})]}),$.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/20",children:[$.jsx("div",{className:"text-2xl font-bold mb-1",children:e.avgMSE>0?e.avgMSE.toFixed(2):""}),$.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg MSE"})]})]}),$.jsxs("div",{className:"space-y-3",children:[$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),$.jsx(Qg,{variant:"default",className:"text-xs",children:e.currentRank>0?`#${e.currentRank}`:""})]}),$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx("span",{className:"text-sm text-muted-foreground",children:"Best Rank"}),$.jsx(Qg,{variant:"outline",className:"text-xs",children:e.bestRank>0?`#${e.bestRank}`:""})]}),$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx("span",{className:"text-sm text-muted-foreground",children:"Verified"}),$.jsxs("span",{className:"text-sm font-semibold",children:[e.verifiedPredictions,"/",e.totalPredictions]})]})]})]})]})}function Ex(){const{user:e}=ti(),[t,n]=Ke.useState([]),[r,s]=Ke.useState([]),[a,i]=Ke.useState([]),[o,l]=Ke.useState([]),[c,d]=Ke.useState(""),[u,m]=Ke.useState(null),[h,f]=Ke.useState(null),[p,g]=Ke.useState(null),[v,x]=Ke.useState(null),[y,b]=Ke.useState({totalPredictions:0,verifiedPredictions:0,avgMSE:0,currentRank:0,bestRank:0}),[w,j]=Ke.useState(!0),[N,k]=Ke.useState(null);Ke.useEffect(()=>{(async()=>{if(e){j(!0);try{const[e,t]=await Promise.all([kx.getCompanies(),kx.getRevenuePredictions()]);n(e),s(t);const{data:r}=await Ga.from("seasons").select("id, name, starts_at, ends_at, status").eq("status","active").single();if(r){m(r.id),d(r.name||"Current Season"),f(r.starts_at||null),g(r.ends_at||null),x(r.status||null);const e=(new Date).toISOString(),n=t.filter(e=>null!=e.prediction).map(t=>({id:`${t.ticker}-${e}`,companyId:t.ticker,quarter:r.name||"Current Season",submittedAt:e,predictedRevenue:t.prediction,actualRevenue:t.actualRevenue,mse:t.mse,status:null!=t.actualRevenue?"verified":"submitted"}));i(n);const s=n.length,a=n.filter(e=>"verified"===e.status),o=a.length>0?a.reduce((e,t)=>e+(t.mse||0),0)/a.length:0,c=[{quarter:r.name||"Current Season",mse:o||0,rank:0}];l(c),b({totalPredictions:s,verifiedPredictions:a.length,avgMSE:o,currentRank:0,bestRank:0})}}catch(Iw){}finally{j(!1)}}})()},[e]),Ke.useEffect(()=>{if(!e||!u)return;let t=null;const n=async()=>{try{const e=await kx.getRevenuePredictions();s(e);const t=(new Date).toISOString(),n=e.filter(e=>"number"==typeof e.prediction).map(e=>({id:`${e.ticker}-${t}`,companyId:e.ticker,quarter:c||"Current Season",submittedAt:t,predictedRevenue:e.prediction,actualRevenue:e.actualRevenue,mse:e.mse,status:null!=e.actualRevenue?"verified":"submitted"}));i(n);const r=n.filter(e=>"verified"===e.status),a=r.length>0?r.reduce((e,t)=>e+(t.mse||0),0)/r.length:0;b(e=>({...e,totalPredictions:n.length,verifiedPredictions:r.length,avgMSE:a})),l([{quarter:c||"Current Season",mse:a||0,rank:0}])}catch(Iw){}},r=()=>{t&&window.clearTimeout(t),t=window.setTimeout(n,500)},a=Ga.channel(`predictions-${u}-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"adx_revenue_actuals",filter:`season_id=eq.${u}`},()=>r()).on("postgres_changes",{event:"*",schema:"public",table:"adx_revenue_predictions",filter:`season_id=eq.${u},user_id=eq.${e.id}`},()=>r()).subscribe();return()=>{t&&window.clearTimeout(t);try{Ga.removeChannel(a)}catch{}}},[null==e?void 0:e.id,u,c]);const S=async(e,n)=>{if(!N)return void Ba.error("Please complete verification");const r=t.find(t=>t.id===e||t.ticker===e);if(!r)return;const a=await kx.submitPrediction(r.ticker,n,{turnstileToken:N});if(a.success){Ba.success(`Prediction saved for ${r.ticker}  $${Dv(n,2)}B`);const e=await kx.getRevenuePredictions();s(e);const t=(new Date).toISOString(),a=e.filter(e=>"number"==typeof e.prediction).map(e=>({id:`${e.ticker}-${t}`,companyId:e.ticker,quarter:c||"Current Season",submittedAt:t,predictedRevenue:e.prediction,actualRevenue:e.actualRevenue,mse:e.mse,status:null!=e.actualRevenue?"verified":"submitted"}));i(a);const o=a.filter(e=>"verified"===e.status),d=o.length>0?o.reduce((e,t)=>e+(t.mse||0),0)/o.length:0;b(e=>({...e,totalPredictions:a.length,verifiedPredictions:o.length,avgMSE:d})),l([{quarter:c||"Current Season",mse:d||0,rank:0}])}else Ba.error(a.error||"Failed to save prediction");return a.success},_=r;return $.jsxs("div",{className:"space-y-6",children:[$.jsxs("div",{children:[$.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Revenue Predictions"}),$.jsx("p",{className:"text-muted-foreground text-lg",children:"Submit your quarterly revenue predictions and compete for accuracy"})]}),$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsx(gv,{children:"Season"})}),$.jsx(vv,{children:$.jsxs("div",{className:"space-y-2",children:[$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx("div",{className:"text-base font-semibold",children:c||"Current Season"}),v&&$.jsx(Qg,{variant:"active"===v?"default":"secondary",className:"text-xs capitalize",children:v})]}),h||p?$.jsxs("div",{className:"text-xs text-muted-foreground",children:[h&&$.jsxs("span",{children:["Starts: ",new Date(h).toLocaleDateString()]}),h&&p&&$.jsx("span",{children:"  "}),p&&$.jsxs("span",{children:["Ends: ",new Date(p).toLocaleDateString()]})]}):null,h&&p?(()=>{const e=new Date,t=new Date(h),n=new Date(p),r=Math.max(0,n.getTime()-t.getTime()),s=Math.min(Math.max(0,e.getTime()-t.getTime()),r),a=Math.max(0,n.getTime()-e.getTime()),i=r>0?s/r*100:0,o=Math.ceil(a/864e5);return $.jsxs("div",{className:"space-y-2",children:[$.jsx(hv,{value:i,className:"h-2"}),$.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[$.jsxs("span",{children:[Math.round(i),"% complete"]}),$.jsxs("span",{children:[o," days left"]})]})]})})():$.jsx("div",{className:"text-xs text-muted-foreground",children:"Season dates not available"})]})})]}),$.jsx(_x,{userStats:y})]}),$.jsxs(Hg,{defaultValue:"submit",className:"w-full",children:[$.jsxs(Vg,{className:"grid w-full grid-cols-3 max-w-md",children:[$.jsx($g,{value:"submit",children:"Submit"}),$.jsx($g,{value:"history",children:"History"}),$.jsx($g,{value:"analytics",children:"Analytics"})]}),$.jsx(Gg,{value:"submit",className:"mt-6",children:$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx("h3",{className:"text-lg font-semibold",children:"Predictions"}),$.jsxs(Qg,{variant:"outline",className:"text-xs",children:[_.filter(e=>void 0!==e.prediction).length,"/",t.length," submitted"]})]}),$.jsx("div",{className:"flex justify-center",children:$.jsx(fx,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",onVerify:e=>k(e),onExpire:()=>k(null)})}),$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>{const t=_.find(t=>t.ticker===e.ticker),n=t&&void 0!==t.prediction,r={id:e.id,symbol:e.ticker,name:e.name,logoUrl:e.logo},s=n?{id:`${e.id}`,companyId:e.id,quarter:t.quarter,submittedAt:(new Date).toISOString(),predictedRevenue:t.prediction,status:null!=t.actualRevenue?"verified":"submitted",actualRevenue:t.actualRevenue,mse:t.mse}:void 0;return $.jsx(Sx,{company:r,existingPrediction:s,onSubmit:S},e.id)})})]})}),$.jsx(Gg,{value:"history",className:"mt-6",children:$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsx(gv,{children:"Prediction History"})}),$.jsx(vv,{children:$.jsx("div",{className:"space-y-4",children:0===a.length?$.jsx("div",{className:"text-sm text-muted-foreground",children:"No prediction history yet."}):a.map(e=>{var n;const r=t.find(t=>t.ticker===e.companyId);return r?$.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-8 h-8 rounded overflow-hidden bg-muted",children:$.jsx(Uv,{ticker:r.ticker,src:r.logo,alt:r.name,className:"w-full h-full object-cover"})}),$.jsxs("div",{children:[$.jsxs("div",{className:"font-semibold",children:[r.ticker," - ",e.quarter]}),$.jsxs("div",{className:"text-sm text-muted-foreground",children:["Predicted: $",e.predictedRevenue,"B",e.actualRevenue&&$.jsxs("span",{children:[" | ","Actual: $",e.actualRevenue,"B"," | ","MSE: ",null==(n=e.mse)?void 0:n.toFixed(2)]})]})]})]}),$.jsxs("div",{className:"text-right",children:[$.jsx(Qg,{variant:"verified"===e.status?"default":"outline",className:"text-xs",children:e.status}),$.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(e.submittedAt).toLocaleDateString()})]})]},e.id):null})})})]})}),$.jsx(Gg,{value:"analytics",className:"mt-6",children:$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsx(gv,{children:"MSE Trend"})}),$.jsx(vv,{children:o.length>0?$.jsx(Ut,{width:"100%",height:200,children:$.jsxs(qt,{data:o,children:[$.jsx(Bt,{strokeDasharray:"3 3"}),$.jsx(Yt,{dataKey:"quarter",tick:{fontSize:12}}),$.jsx(Wt,{tick:{fontSize:12}}),$.jsx(Ht,{formatter:e=>[e,"MSE"]}),$.jsx(Vt,{type:"monotone",dataKey:"mse",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444"}})]})}):$.jsx("div",{className:"flex items-center justify-center h-[200px] text-sm text-muted-foreground",children:"No historical data available"})})]}),$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsx(gv,{children:"Ranking Progress"})}),$.jsx(vv,{children:o.length>0&&o.some(e=>e.rank>0)?$.jsx(Ut,{width:"100%",height:200,children:$.jsxs($t,{data:o,children:[$.jsx(Bt,{strokeDasharray:"3 3"}),$.jsx(Yt,{dataKey:"quarter",tick:{fontSize:12}}),$.jsx(Wt,{tick:{fontSize:12},reversed:!0}),$.jsx(Ht,{formatter:e=>[`#${e}`,"Rank"]}),$.jsx(Gt,{dataKey:"rank",fill:"#3b82f6"})]})}):$.jsx("div",{className:"flex items-center justify-center h-[200px] text-sm text-muted-foreground",children:"Rankings will appear after predictions are verified"})})]})]})})]})]})}var[Dx,Tx]=K("Tooltip",[Ae]),Mx=Ae(),Cx="TooltipProvider",Ox=700,Ax="tooltip.open",[Px,Rx]=Dx(Cx),Ix=e=>{const{__scopeTooltip:t,delayDuration:n=Ox,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[i,o]=Ke.useState(!0),l=Ke.useRef(!1),c=Ke.useRef(0);return Ke.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),$.jsx(Px,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:Ke.useCallback(()=>{window.clearTimeout(c.current),o(!1)},[]),onClose:Ke.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:Ke.useCallback(e=>{l.current=e},[]),disableHoverableContent:s,children:a})};Ix.displayName=Cx;var Lx="Tooltip",[Fx,zx]=Dx(Lx),Ux=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:o}=e,l=Rx(Lx,e.__scopeTooltip),c=Mx(t),[d,u]=Ke.useState(null),m=Ue(),h=Ke.useRef(0),f=i??l.disableHoverableContent,p=o??l.delayDuration,g=Ke.useRef(!1),[v=!1,x]=ee({prop:r,defaultProp:s,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ax))):l.onClose(),null==a||a(e)}}),y=Ke.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),b=Ke.useCallback(()=>{window.clearTimeout(h.current),g.current=!1,x(!0)},[x]),w=Ke.useCallback(()=>{window.clearTimeout(h.current),x(!1)},[x]),j=Ke.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,x(!0)},p)},[p,x]);return Ke.useEffect(()=>()=>window.clearTimeout(h.current),[]),$.jsx(qe,{...c,children:$.jsx(Fx,{scope:t,contentId:m,open:v,stateAttribute:y,trigger:d,onTriggerChange:u,onTriggerEnter:Ke.useCallback(()=>{l.isOpenDelayed?j():b()},[l.isOpenDelayed,j,b]),onTriggerLeave:Ke.useCallback(()=>{f?w():window.clearTimeout(h.current)},[w,f]),onOpen:b,onClose:w,disableHoverableContent:f,children:n})})};Ux.displayName=Lx;var qx="TooltipTrigger",Bx=Ke.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=zx(qx,n),a=Rx(qx,n),i=Mx(n),o=Ke.useRef(null),l=Q(t,o,s.onTriggerChange),c=Ke.useRef(!1),d=Ke.useRef(!1),u=Ke.useCallback(()=>c.current=!1,[]);return Ke.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),$.jsx(Pe,{asChild:!0,...i,children:$.jsx(Z.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:re(e.onPointerMove,e=>{"touch"!==e.pointerType&&(d.current||a.isPointerInTransitRef.current||(s.onTriggerEnter(),d.current=!0))}),onPointerLeave:re(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:re(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:re(e.onBlur,s.onClose),onClick:re(e.onClick,s.onClose)})})});Bx.displayName=qx;var[Yx,Wx]=Dx("TooltipPortal",{forceMount:void 0}),Hx="TooltipContent",Vx=Ke.forwardRef((e,t)=>{const n=Wx(Hx,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,i=zx(Hx,e.__scopeTooltip);return $.jsx(te,{present:r||i.open,children:i.disableHoverableContent?$.jsx(Qx,{side:s,...a,ref:t}):$.jsx($x,{side:s,...a,ref:t})})}),$x=Ke.forwardRef((e,t)=>{const n=zx(Hx,e.__scopeTooltip),r=Rx(Hx,e.__scopeTooltip),s=Ke.useRef(null),a=Q(t,s),[i,o]=Ke.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:u}=r,m=Ke.useCallback(()=>{o(null),u(!1)},[u]),h=Ke.useCallback((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},s=function(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect())),a=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;n.length>=2;){const e=n[n.length-1],r=n[n.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...s,...function(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}(t.getBoundingClientRect())]);o(a),u(!0)},[u]);return Ke.useEffect(()=>()=>m(),[m]),Ke.useEffect(()=>{if(l&&d){const e=e=>h(e,d),t=e=>h(e,l);return l.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}},[l,d,h,m]),Ke.useEffect(()=>{if(i){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=(null==l?void 0:l.contains(t))||(null==d?void 0:d.contains(t)),s=!function(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const e=t[a].x,o=t[a].y,l=t[i].x,c=t[i].y;o>r!=c>r&&n<(l-e)*(r-o)/(c-o)+e&&(s=!s)}return s}(n,i);r?m():s&&(m(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,d,i,c,m]),$.jsx(Qx,{...e,ref:a})}),[Gx,Kx]=Dx(Lx,{isInside:!1}),Qx=Ke.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...o}=e,l=zx(Hx,n),c=Mx(n),{onClose:d}=l;return Ke.useEffect(()=>(document.addEventListener(Ax,d),()=>document.removeEventListener(Ax,d)),[d]),Ke.useEffect(()=>{if(l.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(l.trigger))&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[l.trigger,d]),$.jsx(Re,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:$.jsxs(Ie,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[$.jsx(Le,{children:r}),$.jsx(Gx,{scope:n,isInside:!0,children:$.jsx(Fe,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Vx.displayName=Hx;var Xx="TooltipArrow";Ke.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Mx(n);return Kx(Xx,n).isInside?null:$.jsx(ze,{...s,...r,ref:t})}).displayName=Xx;var Zx=Vx;const Jx=Ix,ey=Ux,ty=Bx,ny=Ke.forwardRef(({className:e,sideOffset:t=4,...n},r)=>$.jsx(Zx,{ref:r,sideOffset:t,className:Da("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ny.displayName=Zx.displayName;const ry=[],sy=[];function ay({positions:e,stagedOrders:t,onSell:n,onExercise:r,spotByTicker:s,busyByPosition:a,cancellingId:i}){const[o,l]=Xe.useState({});function c({ticker:e}){const t=String(e||"");return $.jsx(Uv,{ticker:t,className:"w-5 h-5 rounded-sm object-contain"})}return $.jsx("div",{className:"max-h-96 overflow-y-auto pr-1 space-y-3",children:e.map(e=>{var i,d;const u=(m=e,Math.min(Math.max(1,o[m.id]??m.quantity),m.quantity));var m;const h=(null==a?void 0:a[e.id])||null;return $.jsx(fv,{className:"overflow-hidden",children:$.jsxs(vv,{className:"p-4",children:[$.jsxs("div",{className:"flex items-center justify-between mb-3",children:[$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx(c,{ticker:String(e.symbol||"")}),$.jsx(Qg,{variant:"call"===(null==(d=null==(i=e.type)?void 0:i.toLowerCase)?void 0:d.call(i))?"default":"secondary",className:"text-xs",children:String(e.type??"").toUpperCase()}),$.jsxs("div",{children:[$.jsxs("div",{className:"font-semibold",children:[e.symbol," ",Dv(e.strike,2)]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:["Exp: ",new Date(e.expiry).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),$.jsxs("div",{className:"text-right",children:[$.jsx(Qg,{variant:"bought"===e.action?"outline":"default",className:"text-xs mb-1",children:e.action}),(()=>{const n=(t||[]).filter(t=>String(t.option_symbol)===e.id&&"PENDING"===String(t.status).toUpperCase()&&"SELL"===String(t.side).toUpperCase()).reduce((e,t)=>e+Number(t.qty||0),0),r=Math.max(0,Number(e.quantity||0)-n);return $.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",e.quantity,n>0?` (staged ${n}  avail ${r})`:""]})})(),t.some(t=>String(t.option_symbol)===e.id&&"PENDING"===String(t.status).toUpperCase())&&$.jsx("div",{className:"mt-1",children:$.jsx(Qg,{variant:"outline",className:"text-[10px]",children:"Staged"})})]})]}),$.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Avg Price (per unit)"}),$.jsx("div",{className:"font-semibold",children:Mv(e.avgPrice,2,"")})]}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Current (per unit)"}),$.jsx("div",{className:"font-semibold",children:Mv(e.currentPrice,2,"")})]}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Unrealized P&L"}),$.jsxs("div",{className:"font-semibold "+(e.pnl>=0?"text-green-600":"text-red-600"),children:[Tv(e.pnl,2),"  (",Cv(e.pnlPercent,2,!0),")"]})]})]}),(()=>{const t=e.quantity,n=100,r=Ov(e.currentPrice)-Ov(e.avgPrice),a=r*t*n-(.25*t+2e-4*(Math.max(0,Ov(e.currentPrice))*t*n)),i=s[String(e.symbol)]??null;let o=0;null==i||Number.isNaN(i)||(o="call"===String(e.type).toLowerCase()?Math.max(0,i-Ov(e.strike)):Math.max(0,Ov(e.strike)-i));const l=.25*t+2e-4*(Math.max(0,o)*t*n),c=o-Ov(e.avgPrice),d=c*t*n-l;return $.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[$.jsxs("div",{className:"p-2 rounded border",children:[$.jsx("div",{className:"text-muted-foreground mb-1",children:"Sell now PnL (approx)"}),$.jsxs("div",{children:["Per unit: ",Tv(r,2)," "]}),$.jsxs("div",{children:["Total (after fees): ",Tv(a,2)," "]})]}),$.jsxs("div",{className:"p-2 rounded border",children:[$.jsx("div",{className:"text-muted-foreground mb-1",children:"Exercise now PnL (intrinsic, approx)"}),$.jsxs("div",{children:["Per unit: ",Tv(c,2)," "]}),$.jsxs("div",{children:["Total (after fees): ",Tv(d,2)," "]})]})]})})(),$.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[$.jsx("span",{className:"font-mono",children:e.id}),$.jsxs("span",{children:[" ",""," "]}),$.jsxs("span",{children:["Premium (per unit) ",Mv(Math.round(100*Ov(e.currentPrice))/100,2,"")]}),$.jsxs("span",{children:[" ",""," "]}),$.jsxs("span",{children:["Premium per contract ",Mv(Math.round(100*Ov(e.currentPrice))/100*100,2,"")]}),$.jsxs("span",{children:[" ",""," "]}),$.jsxs("span",{children:["Premium total ",Mv(Math.round(100*Ov(e.currentPrice))/100*Ov(e.quantity)*100,2,"")]}),$.jsxs("span",{children:[" ",""," "]}),$.jsxs("span",{children:["Cost basis total ",Mv(Math.round(100*Ov(e.avgPrice))/100*Ov(e.quantity)*100,2,"")]})]}),$.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[$.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[$.jsx(Mn,{className:"w-3 h-3"}),e.daysToExpiry," days to expiry"]}),$.jsx("div",{className:"flex items-center gap-2",children:(()=>{const s=(t||[]).filter(t=>String(t.option_symbol)===e.id&&"PENDING"===String(t.status).toUpperCase()&&"SELL"===String(t.side).toUpperCase()).reduce((e,t)=>e+Number(t.qty||0),0),a=Math.max(0,Number(e.quantity||0)-s),i=Math.max(1,a);return $.jsxs($.Fragment,{children:[$.jsx("input",{type:"number",min:1,max:i,value:u,onChange:t=>l(n=>({...n,[e.id]:Math.max(1,Math.min(i,parseInt(t.target.value)||1))})),className:"w-20 h-7 px-2 py-1 border rounded text-xs","aria-label":"Quantity to trade",disabled:!!h}),$.jsx(yv,{size:"sm",variant:"outline",className:"h-7 text-xs flex items-center gap-1",onClick:()=>n(e,u),disabled:!!h||u<1||u>a,title:u>a?`Available ${a} (staged ${s} of ${e.quantity})`:"",children:"sell"===h?$.jsxs($.Fragment,{children:[$.jsx(Rn,{className:"w-3 h-3 animate-spin"})," Selling"]}):"Sell"}),$.jsx(yv,{size:"sm",className:"h-7 text-xs flex items-center gap-1",onClick:()=>r(e,u),disabled:!!h||u<1||u>a,title:u>a?`Available ${a} (staged ${s} of ${e.quantity})`:"",children:"exercise"===h?$.jsxs($.Fragment,{children:[$.jsx(Rn,{className:"w-3 h-3 animate-spin"})," Exercising"]}):"Exercise"})]})})()})]})]})},e.id)})})}function iy({tradesUsed:e,maxTrades:t}){const n=e/t*100,r=t-e;return $.jsxs(fv,{children:[$.jsx(pv,{className:"pb-3",children:$.jsxs(gv,{className:"text-lg flex items-center gap-2",children:[$.jsx($n,{className:"w-5 h-5"}),"Daily Trade Limit"]})}),$.jsxs(vv,{children:[$.jsxs("div",{className:"text-center mb-4",children:[$.jsx("div",{className:"text-3xl font-bold mb-1",children:r}),$.jsx("div",{className:"text-muted-foreground text-sm",children:"trades remaining"})]}),$.jsx(hv,{value:n,className:"h-3 mb-3"}),$.jsxs("div",{className:"flex justify-between text-sm",children:[$.jsxs("span",{className:"text-muted-foreground",children:["Used: ",e]}),$.jsxs("span",{className:"text-muted-foreground",children:["Limit: ",t]})]}),n>80&&$.jsx("div",{className:"mt-3 p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:$.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 text-xs",children:[$.jsx(Xn,{className:"w-3 h-3"}),"Approaching daily limit"]})})]})]})}function oy(){var e,t;const n=new Date,r=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Berlin",hour12:!1,hour:"2-digit",minute:"2-digit"}).formatToParts(n),s=parseInt((null==(e=r.find(e=>"hour"===e.type))?void 0:e.value)||"0",10),a=parseInt((null==(t=r.find(e=>"minute"===e.type))?void 0:t.value)||"0",10),i=new Date(n);return i.setHours(s,a,0,0),i}function ly({metrics:e}){const[t,n]=Ke.useState("7d"),[r,s]=Ke.useState(null),[a,i]=Ke.useState([]),[o,l]=Ke.useState([]),[c,d]=Ke.useState([]),[u,m]=Ke.useState({calls:0,puts:0}),[h,f]=Ke.useState([]),[p,g]=Ke.useState(!1),[v,x]=Ke.useState(!0),[y,b]=Ke.useState({}),[w,j]=Ke.useState({}),[N,k]=Ke.useState([]),[S,_]=Ke.useState({}),[E,D]=Ke.useState([]),[T,M]=Ke.useState(!0),[C,O]=Ke.useState(!0),[A,P]=Ke.useState(!0),[R,I]=Ke.useState(!0),[L,F]=Ke.useState([]),[z,U]=Ke.useState([]),[q,B]=Ke.useState([]),[Y,W]=Ke.useState({delta:0,gamma:0,vega:0}),[H,V]=Ke.useState([]),{user:G}=ti();function K(e){try{const t=String(e||"");if(t.length>=15){const e=t.slice(-15),n=e.slice(0,2),r=e.slice(2,4),s=e.slice(4,6),a=e.slice(6,7),i=e.slice(7),o=`${Number(n)+2e3}-${r}-${s}`;return{expiry:o,right:"C"===a?"call":"put",strike:Number(i)/1e3}}}catch{}return null}Ke.useEffect(()=>{(async()=>{if(G)try{const n=await yx.getUserPortfolio();if(n){s(n);const r=await yx.getUserPositions(n.id);i(r);const a="1d"===t?1:"7d"===t?7:"30d"===t?30:90,o=await yx.getPnLHistory(n.id,a);l(o);const c=new Date,u=new Date;u.setDate(c.getDate()-a);const{data:h}=await Ga.from("adx_equity_daily").select("as_of_date, equity, cash, positions_value").eq("portfolio_id",n.id).gte("as_of_date",u.toISOString().slice(0,10)).lte("as_of_date",c.toISOString().slice(0,10)).order("as_of_date",{ascending:!0}),p=[];let g=null;(h||[]).forEach(e=>{const t=Number(e.equity||0),n=Number(e.cash||0),r=Number(e.positions_value||Math.max(0,t-n)),s=null!=g?t-g:0;g=t,p.push({date:e.as_of_date,equity:t,cash:n,positions:r,pnl:s})}),k(p);const{data:v}=await Ga.from("adx_orders").select("filled_at, qty, realized_pnl").eq("portfolio_id",n.id).eq("status","FILLED").eq("side","SELL").gte("filled_at",u.toISOString()).lte("filled_at",c.toISOString());let x=[];try{x=(await Ga.from("adx_exercises").select("realized_pnl, ts").eq("portfolio_id",n.id).gte("ts",u.toISOString()).lte("ts",c.toISOString())).data||[]}catch(e){}const y=new Map(p.map(e=>[e.date,e.equity])),w=[];(v||[]).forEach(e=>{const t=new Date(e.filled_at).toISOString().slice(0,10),n=y.get(t)??(p.length?p[p.length-1].equity:0),r=Number(e.qty||0);w.push({date:t,equity:n,type:"SELL",label:`SELL filled x${r}`})}),(x||[]).forEach(e=>{const t=new Date(e.ts).toISOString().slice(0,10),n=y.get(t)??(p.length?p[p.length-1].equity:0),r=Number(e.realized_pnl||0);w.push({date:t,equity:n,type:"EXERCISE",label:`Exercise realized ${Dv(r,2)}`})}),D(w);const N=Number(n.starting_cash||0)||0,S=[],_=[];let E=N>0?N:p.length?p[0].equity:0;p.forEach(e=>{const t=e.equity-N,n=N>0?100*(e.equity/N-1):0;S.push({date:e.date,cum:t,cumPct:n}),E=Math.max(E,e.equity);const r=E>0?(E-e.equity)/E*100:0;_.push({date:e.date,ddPct:r})}),F(S),U(_);const T=new Map;(v||[]).forEach(e=>{const t=new Date(e.filled_at).toISOString().slice(0,10),n=Number(e.realized_pnl||0);T.set(t,(T.get(t)||0)+n)}),(x||[]).forEach(e=>{const t=new Date(e.ts).toISOString().slice(0,10);T.set(t,(T.get(t)||0)+Number(e.realized_pnl||0))});const M=[];p.forEach(e=>{const t=T.get(e.date)||0,n=(e.pnl||0)-t;M.push({date:e.date,realized:t,unrealized:n})}),B(M);const C=await yx.getTradeHistory(n.id,a);d(C);const O=await yx.getPortfolioComposition(n.id);m(O);const A=await yx.getStagedOrders(n.id);f(A);const P=Array.from(new Set([...(r||[]).map(e=>e.option_symbol),...(A||[]).map(e=>e.option_symbol)].filter(Boolean)));if(P.length>0){const t=await yx.getOptionsMetadataBySymbols(P);b(t);try{const{data:e}=await Ga.from("options_market_data").select("option_symbol, delta, gamma, vega, mid").in("option_symbol",P),t=new Map((e||[]).map(e=>[e.option_symbol,e]));let n=0,s=0,a=0;const i=new Map,o=100;for(const c of r||[]){const e=c.option_symbol,r=c.ticker||"",l=Number(c.qty||0),d=t.get(e)||{},u="number"==typeof d.mid&&d.mid>0?d.mid:c.current_price??c.avg_price??0;n+=Number(d.delta||0)*l*o,s+=Number(d.gamma||0)*l*o,a+=Number(d.vega||0)*l*o;const m=Number(u||0)*l*o;r&&i.set(r,(i.get(r)||0)+m)}W({delta:n,gamma:s,vega:a});const l=Array.from(i.entries()).map(([e,t])=>({ticker:e,notional:t}));l.sort((e,t)=>t.notional-e.notional),V(l)}catch(e){}}const R=Array.from(new Set((r||[]).map(e=>e.ticker).filter(Boolean)));if(R.length>0){const{data:e}=await Ga.from("stock_prices").select("ticker, price").in("ticker",R),t={};(e||[]).forEach(e=>{e&&e.ticker&&(t[e.ticker]=Number(e.price||0))}),j(t)}}}catch(n){}finally{x(!1)}else x(!1)})()},[G,t]),Ke.useEffect(()=>{let e=null,t=null,n=null;return(async()=>{try{if(!G)return;const r=await yx.getUserPortfolio();if(!r)return;e=Ga.channel("rt:orders:portfolio").on("postgres_changes",{event:"*",schema:"public",table:"adx_orders",filter:`portfolio_id=eq.${r.id}`},()=>{window.setTimeout(()=>{(async()=>{await re()})()},400)}).subscribe(),t=Ga.channel("rt:equity:portfolio").on("postgres_changes",{event:"INSERT",schema:"public",table:"adx_equity_daily",filter:`portfolio_id=eq.${r.id}`},()=>{window.setTimeout(()=>{(async()=>{await re()})()},400)}).subscribe(),n=window.setInterval(()=>{(async()=>{await re()})()},25e3)}catch(r){}})(),()=>{e&&Ga.removeChannel(e),t&&Ga.removeChannel(t),n&&window.clearInterval(n)}},[G]);const Q=a.map(e=>{var t;const n="number"==typeof e.avg_price&&isFinite(e.avg_price)?e.avg_price:0,r=e.current_price??e.avg_price,s="number"==typeof r&&isFinite(r)?r:0,a="number"==typeof e.pnl&&isFinite(e.pnl)?e.pnl:0,i="number"==typeof e.pnl_percent&&isFinite(e.pnl_percent)?e.pnl_percent:0,o=e.option_symbol||"",l=null==y?void 0:y[o],c=K(o),d=e.expiry??(null==c?void 0:c.expiry)??null,u=e.type??e.option_type??(null==c?void 0:c.right)??"",m=(null==l?void 0:l.ticker)||e.ticker||(null==(t=o.match(/^[A-Z0-9]+/))?void 0:t[0])||"",h=gx(d);return{id:o||e.id,symbol:m,type:u,strike:e.strike??(null==c?void 0:c.strike)??0,expiry:d||e.expiry||(new Date).toISOString(),quantity:e.qty??0,avgPrice:n,currentPrice:s,pnl:a,pnlPercent:i,daysToExpiry:h,action:e.action||"bought",openDate:e.open_date||(new Date).toISOString()}}),X=Q.length>0?Q:ry;o.length;const Z=c.length>0?c:sy,J=u.calls>0||u.puts>0,ee=[{name:"Calls",value:u.calls,color:"#22c55e"},{name:"Puts",value:u.puts,color:"#ef4444"}],te=X.reduce((e,t)=>e+t.currentPrice*t.quantity*100,0);X.reduce((e,t)=>e+t.pnl,0);const ne=async()=>{try{g(!0);const e=await yx.getUserPortfolio();if(e){const t=await yx.getStagedOrders(e.id);f(t);const n=Array.from(new Set([...(a||[]).map(e=>e.option_symbol),...(t||[]).map(e=>e.option_symbol)].filter(Boolean)));if(n.length>0){const e=await yx.getOptionsMetadataBySymbols(n);b(e)}}}finally{g(!1)}},re=async()=>{try{const e=await yx.getUserPortfolio();if(e){const[t,n,r]=await Promise.all([yx.getUserPositions(e.id),yx.getPortfolioComposition(e.id),yx.getStagedOrders(e.id)]);i(t),m(n),f(r);const s=Array.from(new Set([...(t||[]).map(e=>e.option_symbol),...(r||[]).map(e=>e.option_symbol)].filter(Boolean)));if(s.length>0){const e=await yx.getOptionsMetadataBySymbols(s);b(e)}}}catch(Iw){}},[se,ae]=Ke.useState(!1),[ie,oe]=Ke.useState(0),le=Xe.useRef(null),ce=Xe.useRef(null);async function de(){var e;return"undefined"==typeof window||"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?se&&le.current&&(null==(e=null==window?void 0:window.turnstile)?void 0:e.reset)?await new Promise(e=>{ce.current=e;try{window.turnstile.reset(le.current)}catch(t){ae(!1),oe(e=>e+1),e("")}}):void 0:"dev-bypass-token"}const[ue,me]=Ke.useState(null),[he,fe]=Ke.useState(null);return Ke.useEffect(()=>{const e=()=>{(async()=>{await re()})()};window.addEventListener("portfolio-updated",e);const t=setInterval(e,3e4);return()=>{window.removeEventListener("portfolio-updated",e),clearInterval(t)}},[]),$.jsx(Jx,{children:$.jsxs("div",{className:"space-y-6",children:[$.jsx(Xv,{}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:$.jsx(An,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"P&L"}),$.jsxs("div",{className:"font-semibold "+(Ov(null==r?void 0:r.realized_pnl)>=0?"text-green-600":"text-red-600"),children:[Tv(Ov(null==r?void 0:r.realized_pnl),2)," "]}),$.jsx("div",{className:"text-xs text-muted-foreground",children:(()=>{const e=Ov(null==r?void 0:r.starting_cash)||0,t=Ov(null==r?void 0:r.realized_pnl)||0;return Cv(e>0?t/e*100:0,2,!0)})()}),(()=>{const t="number"==typeof(null==e?void 0:e.todaysPnL)?e.todaysPnL:(()=>{if(N&&N.length>=2){return(N[N.length-1].equity||0)-(N[N.length-2].equity||0)}return 0})(),n=N&&N.length>=2&&N[N.length-2].equity||0,r=n>0?t/n*100:0;return $.jsxs("div",{className:"text-xs mt-1 "+(t>=0?"text-green-600":"text-red-600"),children:["Today: ",t>=0?"+":"",Dv(t,2),"  (",Cv(r,2,!0),")"]})})()]})]})})}),$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:$.jsx(Qn,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Positions"}),$.jsxs("div",{className:"font-semibold",children:[X.length," Active"]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:[Mv(te,0,"")," value"]})]})]})})}),$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:$.jsx(bn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Days to Expiry"}),$.jsxs("div",{className:"font-semibold",children:[X.length>0?Math.round(X.reduce((e,t)=>e+t.daysToExpiry,0)/X.length):0," days"]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:[X.filter(e=>e.daysToExpiry<=30).length," expiring soon"]})]})]})})}),e?$.jsx(iy,{tradesUsed:e.tradesUsedToday,maxTrades:e.maxTradesPerDay}):null,e?$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-rose-100 dark:bg-rose-900/20 rounded-lg flex items-center justify-center",children:$.jsx(Kn,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Max Drawdown"}),$.jsx("div",{className:"font-semibold",children:Cv(Math.max(0,100*Ov(e.maxDrawdownPct)),1)})]})]})})}):null,e?$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900/20 rounded-lg flex items-center justify-center",children:$.jsx(Qn,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Sharpe Ratio"}),$.jsx("div",{className:"font-semibold",children:Dv(e.sharpe??0,2)})]})]})})}):null]}),$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsx(gv,{className:"text-lg",children:"Pending Orders"})}),$.jsxs(vv,{children:[ue&&$.jsx("div",{className:"mb-2 text-xs text-green-700 bg-green-50 border border-green-200 rounded px-2 py-1",children:ue}),$.jsx("div",{className:"sr-only","aria-hidden":"true",children:$.jsx(fx,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",size:"compact",onLoad:e=>{le.current=e,ae(!0)},onVerify:e=>{ce.current&&(ce.current(e),ce.current=null)},onExpire:()=>{},onError:()=>{ae(!1),oe(e=>e+1)}},`pf-${ie}`)}),$.jsx("div",{className:"max-h-80 overflow-y-auto pr-1",children:0===h.length?$.jsx("div",{className:"text-sm text-muted-foreground",children:"No staged orders."}):$.jsxs("div",{className:"space-y-3",children:[h.some(e=>"DEFERRED"===String(e.status||"").toUpperCase())&&$.jsx("div",{className:"text-xs rounded bg-amber-50 text-amber-700 border border-amber-200 px-2 py-1",children:"Some orders are deferred awaiting fresh quotes/marks. They will be reconsidered in the next auction cycle."}),h.map(e=>{var t;const n="open"===String(e.auction_slot).toLowerCase()?"open":"close",r="number"==typeof e.time_to_cutoff_sec?Math.floor(e.time_to_cutoff_sec/60):function(e){const t=oy(),n="open"===e?"09:10":"17:40",[r,s]=n.split(":").map(e=>parseInt(e,10)),a=new Date(t);a.setHours(r,s,0,0);const i=a.getTime()-t.getTime();return Math.max(0,Math.round(i/6e4))}(n),s=function(e){const t=oy(),n=`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`,r="open"===e?"09:10-09:25":"17:40-17:55",[s,a]=r.split("-");return n>=s&&n<=a}(n),a="boolean"==typeof e.cancelable?e.cancelable:!s&&r>0,i=null==y?void 0:y[e.option_symbol],o=i?null:K(e.option_symbol),l=((null==i?void 0:i.type)||(null==o?void 0:o.right)||"").toString().toUpperCase(),c=(null==i?void 0:i.strike)??(null==o?void 0:o.strike),d=(null==i?void 0:i.expiry)||(null==o?void 0:o.expiry)?new Date((null==i?void 0:i.expiry)||(null==o?void 0:o.expiry)).toLocaleDateString("en-US",{month:"short",day:"numeric"}):null,u=String(e.status||"").toUpperCase(),m="DEFERRED"===u?"bg-amber-100 text-amber-700":"PENDING"===u?"bg-blue-100 text-blue-700":"FILLED"===u?"bg-green-100 text-green-700":"REJECTED"===u?"bg-red-100 text-red-700":"bg-neutral-100 text-neutral-700",h=null==(t=null==y?void 0:y[e.option_symbol])?void 0:t.ticker,g=String(h||e.ticker||e.symbol||"");return $.jsxs("div",{className:"flex items-center justify-between border rounded p-3",children:[$.jsxs("div",{className:"text-sm",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx(Uv,{ticker:g,className:"w-5 h-5 rounded-sm object-contain",alt:g}),$.jsxs("div",{className:"font-mono",children:[g," ",e.option_symbol]}),$.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${m}`,children:u||""})]}),$.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:$.jsxs($.Fragment,{children:[$.jsxs("span",{children:[String(e.side).toUpperCase()," x",Ov(e.qty)]}),l&&"number"==typeof c&&$.jsxs($.Fragment,{children:[$.jsxs("span",{children:[" ",""," "]}),$.jsxs("span",{children:[l," ",Dv(c,2)]})]}),d?$.jsxs($.Fragment,{children:[$.jsxs("span",{children:[" ",""," "]}),$.jsxs("span",{children:["Exp ",d]})]}):null,$.jsxs("span",{children:[" ",""," "]}),$.jsxs("span",{children:["Slot: ",String(e.auction_slot).toUpperCase()]}),$.jsxs("span",{children:[" ",""," "]}),$.jsxs("span",{children:["Premium (per unit): ",e.preview_price?Mv(e.preview_price,2,""):""]}),$.jsxs("span",{children:[" ",""," "]}),(()=>{const t="number"==typeof e.notional_eur&&e.notional_eur>0?e.notional_eur:"number"==typeof e.preview_price&&e.preview_price>0?Ov(e.preview_price)*Ov(e.qty)*100:0,n="number"==typeof e.preview_price&&e.preview_price>0?` (qty ${Ov(e.qty)}  100 @ ${Mv(e.preview_price,2,"")}/unit)`:"";return $.jsxs("span",{children:["Order value: ",t>0?Mv(t,2,""):"",n]})})(),Array.isArray(e.risk_reasons)&&e.risk_reasons.length>0?$.jsxs("div",{className:"mt-1 text-[10px] text-amber-700 bg-amber-50 border border-amber-200 rounded px-1.5 py-0.5 inline-block",children:["Warning: may be rejected at auction  ",e.risk_reasons.map(e=>e.replaceAll("_"," ").toLowerCase()).join(", ")]}):null,"number"==typeof e.estimated_fees?$.jsxs($.Fragment,{children:[$.jsxs("span",{children:[" ",""," "]}),"number"==typeof e.fees_bps&&"number"==typeof e.fee_per_contract_eur?$.jsxs(ey,{children:[$.jsx(ty,{asChild:!0,children:$.jsxs("span",{className:"underline decoration-dotted cursor-help",children:["Est. fees: ",Mv(e.estimated_fees,2,"")]})}),$.jsx(ny,{children:$.jsxs("div",{className:"text-xs space-y-1",children:[$.jsx("div",{className:"font-semibold",children:"Estimated fees breakdown"}),$.jsxs("div",{children:["Per-contract: ",Mv(e.fee_per_contract_eur,2,""),"  ",Ov(e.qty)," = ",Mv(Ov(e.fee_per_contract_eur)*Ov(e.qty),2,"")]}),$.jsxs("div",{children:["Ad valorem: ",Ov(e.fees_bps)," bps  ",Mv("number"==typeof e.notional_eur&&e.notional_eur>0?e.notional_eur:Ov(e.preview_price)*Ov(e.qty)*100,2,"")," = ",Mv(Ov(e.fees_bps)/1e4*("number"==typeof e.notional_eur&&e.notional_eur>0?Ov(e.notional_eur):Ov(e.preview_price)*Ov(e.qty)*100),2,"")]}),$.jsx("div",{className:"text-muted-foreground",children:"Actual fees charged at execution"})]})})]}):$.jsxs("span",{children:["Est. fees: ",Mv(e.estimated_fees,2,"")]})]}):null]})})]}),$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[$.jsx(Mn,{className:"w-3 h-3"}),s?"Auctioning now":a?`${r} min to cutoff`:"Cutoff passed"]}),$.jsx(yv,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>(async e=>{try{fe(e);const t=await de(),n=await yx.cancelOrder(e,{turnstileToken:t});n.success?(f(t=>Array.isArray(t)?t.filter(t=>t.id!==e):t),me("Order cancelled"),Ba.success("Order cancelled"),setTimeout(()=>me(null),2500),await ne()):Ba.error(n.error||"Cancel failed")}finally{fe(null)}})(e.id),disabled:p||!a||he===e.id,children:he===e.id?"Cancelling":"Cancel"})]})]},e.id)})]})})]})]}),$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[$.jsxs(fv,{className:"lg:col-span-2",children:[$.jsx(pv,{children:$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx(gv,{className:"text-lg",children:"Portfolio Performance"}),$.jsxs(bv,{value:t,onValueChange:n,children:[$.jsx(jv,{className:"w-24 h-8",children:$.jsx(wv,{})}),$.jsxs(Nv,{children:[$.jsx(kv,{value:"1d",children:"1D"}),$.jsx(kv,{value:"7d",children:"7D"}),$.jsx(kv,{value:"30d",children:"30D"}),$.jsx(kv,{value:"90d",children:"90D"})]})]})]})}),$.jsxs(vv,{children:[$.jsx("div",{className:"flex gap-2 mb-2 text-xs text-muted-foreground",children:(()=>{const e=({label:e,value:t,onChange:n})=>$.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer select-none",children:[$.jsx("input",{type:"checkbox",checked:t,onChange:e=>n(e.target.checked)}),$.jsx("span",{children:e})]});return $.jsxs($.Fragment,{children:[$.jsx(e,{label:"Cash",value:T,onChange:M}),$.jsx(e,{label:"Positions",value:C,onChange:O}),$.jsx(e,{label:"Equity",value:A,onChange:P}),$.jsx(e,{label:"Daily PnL",value:R,onChange:I})]})})()}),$.jsx(Ut,{width:"100%",height:260,children:$.jsxs(Kt,{data:N,children:[$.jsx(Bt,{strokeDasharray:"3 3"}),$.jsx(Yt,{dataKey:"date",tick:{fontSize:12},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),$.jsx(Wt,{tick:{fontSize:12}}),$.jsx(Ht,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:(e,t,n)=>{const r=n&&n[0]&&n[0].payload?n[0].payload:{};return r.__event?[r.__event.label,r.__event.type]:"pnl"===t?[`${Dv(e,2)}`,"Daily P&L"]:"equity"===t?[`${Dv(e,2)}`,"Equity"]:"cash"===t?[`${Dv(e,2)}`,"Cash"]:"positions"===t?[`${Dv(e,2)}`,"Positions"]:[`${Dv(e,2)}`,t]}}),T&&$.jsx(Qt,{type:"monotone",dataKey:"cash",stackId:"1",stroke:"#93c5fd",fill:"#93c5fd",fillOpacity:.4,name:"cash"}),C&&$.jsx(Qt,{type:"monotone",dataKey:"positions",stackId:"1",stroke:"#86efac",fill:"#86efac",fillOpacity:.4,name:"positions"}),R&&$.jsx(Gt,{dataKey:"pnl",barSize:14,fill:"#60a5fa",name:"pnl"}),A&&$.jsx(Vt,{type:"monotone",dataKey:"equity",stroke:"#22c55e",strokeWidth:2,dot:!1,name:"equity"}),$.jsx(Xt,{data:E.map(e=>({date:e.date,equity:e.equity,__event:e})),fill:"#f97316",name:"events"}),$.jsx(Zt,{dataKey:"date",height:18,stroke:"#94a3b8",travellerWidth:8})]})}),$.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[$.jsxs("div",{className:"border rounded p-2",children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Cumulative P&L vs Starting Cash"}),$.jsx(Ut,{width:"100%",height:180,children:$.jsxs(Kt,{data:L,children:[$.jsx(Bt,{strokeDasharray:"3 3"}),$.jsx(Yt,{dataKey:"date",tick:{fontSize:10},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),$.jsx(Wt,{tick:{fontSize:10}}),$.jsx(Ht,{formatter:(e,t)=>["cum"===t?`${Dv(e,2)}`:`${Dv(e,2)}%`,"cum"===t?"Cumulative P&L":"Cumulative %"]}),$.jsx(Qt,{type:"monotone",dataKey:"cum",stroke:"#4ade80",fill:"#86efac",fillOpacity:.3}),$.jsx(Vt,{type:"monotone",dataKey:"cumPct",stroke:"#10b981",strokeDasharray:"4 4",dot:!1})]})})]}),$.jsxs("div",{className:"border rounded p-2",children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Max Drawdown (%)"}),$.jsx(Ut,{width:"100%",height:180,children:$.jsxs(Kt,{data:z,children:[$.jsx(Bt,{strokeDasharray:"3 3"}),$.jsx(Yt,{dataKey:"date",tick:{fontSize:10},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),$.jsx(Wt,{tick:{fontSize:10}}),$.jsx(Ht,{formatter:e=>[`${Dv(e,2)}%`,"Drawdown"]}),$.jsx(Qt,{type:"monotone",dataKey:"ddPct",stroke:"#f87171",fill:"#fecaca",fillOpacity:.4})]})})]}),$.jsxs("div",{className:"md:col-span-2 border rounded p-2",children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Daily Contributions (approx)"}),$.jsx(Ut,{width:"100%",height:180,children:$.jsxs(Kt,{data:q,children:[$.jsx(Bt,{strokeDasharray:"3 3"}),$.jsx(Yt,{dataKey:"date",tick:{fontSize:10},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),$.jsx(Wt,{tick:{fontSize:10}}),$.jsx(Ht,{formatter:(e,t)=>[`${Dv(e,2)}`,"realized"===t?"Realized P&L":"Unrealized P&L"]}),$.jsx(Gt,{dataKey:"realized",stackId:"1",fill:"#fb923c"}),$.jsx(Gt,{dataKey:"unrealized",stackId:"1",fill:"#60a5fa"})]})})]})]})]})]}),$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsx(gv,{className:"text-lg",children:"Portfolio Composition"})}),$.jsx(vv,{children:$.jsxs("div",{className:"space-y-4",children:[$.jsx("div",{children:J?$.jsx(Ut,{width:"100%",height:200,children:$.jsxs(Jt,{children:[$.jsx(en,{data:ee,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:ee.map((e,t)=>$.jsx(tn,{fill:e.color},`cell-${t}`))}),$.jsx(Ht,{formatter:e=>`${e}%`}),$.jsx(nn,{})]})}):$.jsx("div",{className:"h-[200px] flex items-center justify-center text-sm text-muted-foreground",children:"No options positions yet"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Exposure by Ticker (notional)"}),$.jsx(Ut,{width:"100%",height:140,children:$.jsxs($t,{data:H.slice(0,6),children:[$.jsx(Bt,{strokeDasharray:"3 3"}),$.jsx(Yt,{dataKey:"ticker",tick:{fontSize:10}}),$.jsx(Wt,{tick:{fontSize:10}}),$.jsx(Ht,{formatter:e=>[`${Dv(e,0)}`,"Notional"]}),$.jsx(Gt,{dataKey:"notional",fill:"#60a5fa"})]})})]}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Daily Trade Activity"}),$.jsx(Ut,{width:"100%",height:220,children:$.jsxs($t,{data:Z,children:[$.jsx(Bt,{strokeDasharray:"3 3"}),$.jsx(Yt,{dataKey:"date",tick:{fontSize:10},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),$.jsx(Wt,{tick:{fontSize:10}}),$.jsx(Ht,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:e=>[`${e}`,"Trades"]}),$.jsx(Gt,{dataKey:"trades",fill:"#3b82f6"})]})})]})]})})]})]}),$.jsx("div",{className:"grid grid-cols-1 gap-6",children:$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsx(gv,{className:"text-lg",children:"Active Positions"})}),$.jsx(vv,{children:$.jsx(ay,{positions:X,stagedOrders:h,onSell:async(e,t)=>{var n;try{_(t=>({...t,[e.id]:"sell"}));const r=Math.max(1,Math.min(e.quantity,t||1)),s=await de(),a=await yx.placeOrder({optionSymbol:e.id,ticker:e.symbol,type:e.type,strike:e.strike,expiry:e.expiry,quantity:r,action:"sell",orderType:"market"},{turnstileToken:s});if(!(null==a?void 0:a.success))return void Ba.error((null==a?void 0:a.error)||"Sell failed");if(a.auctionSlot){const e="number"==typeof a.previewPrice?`preview ${Dv(a.previewPrice,2)}`:null,t=[e,"number"==typeof a.estimatedFees?`fees ${Dv(a.estimatedFees,2)}`:null].filter(Boolean).join("  ");Ba.success(`Order staged for ${String(a.auctionSlot).toUpperCase()}${t?` (${t})`:""}`)}else{const e="number"==typeof(null==(n=null==a?void 0:a.order)?void 0:n.fillPrice)?a.order.fillPrice:void 0;Ba.success("Order filled"+("number"==typeof e?` @ ${Dv(e,2)}`:""))}window.dispatchEvent(new CustomEvent("portfolio-updated"));const o=await yx.getUserPortfolio();if(o){const[e,t]=await Promise.all([yx.getUserPositions(o.id),yx.getPortfolioComposition(o.id)]);i(e),m(t),await ne()}}catch(Iw){Ba.error("Sell failed")}finally{_(t=>({...t,[e.id]:null}))}},onExercise:async(e,t)=>{try{_(t=>({...t,[e.id]:"exercise"}));const n=Math.max(1,Math.min(e.quantity,t||1)),r=await de(),s=await yx.exerciseOption({optionSymbol:e.id,qty:n},{turnstileToken:r});if(!(null==s?void 0:s.success))return void Ba.error((null==s?void 0:s.error)||"Exercise failed");const a=(null==s?void 0:s.data)&&"number"==typeof s.data.realizedPnL?s.data.realizedPnL:void 0;Ba.success("Exercise successful"+("number"==typeof a?`  Realized P&L ${Dv(a,2)}`:"")),window.dispatchEvent(new CustomEvent("portfolio-updated"));const o=await yx.getUserPortfolio();if(o){const[e,t]=await Promise.all([yx.getUserPositions(o.id),yx.getPortfolioComposition(o.id)]);i(e),m(t),await ne()}}catch(Iw){Ba.error("Exercise failed")}finally{_(t=>({...t,[e.id]:null}))}},spotByTicker:w,busyByPosition:S,cancellingId:he})})]})})]})})}function cy(e){switch(e){case"diamond":return $.jsx(Cn,{className:"w-4 h-4 text-blue-400"});case"platinum":return $.jsx(Vn,{className:"w-4 h-4 text-gray-300"});case"gold":return $.jsx(Zn,{className:"w-4 h-4 text-yellow-500"});case"silver":return $.jsx(zn,{className:"w-4 h-4 text-gray-400"});case"bronze":return $.jsx(vn,{className:"w-4 h-4 text-orange-600"});default:return $.jsx(vn,{className:"w-4 h-4 text-gray-500"})}}function dy(){const{user:e}=ti(),[t,n]=Ke.useState("all"),[r,s]=Ke.useState("overall"),[a,i]=Ke.useState([]),[o,l]=Ke.useState(!0),[c,d]=Ke.useState(null),[u,m]=Ke.useState(null),[h,f]=Ke.useState({users:0,avgReturn:0,topReturn:0,totalVolume:0});return Ke.useEffect(()=>{(async()=>{var t,n,s;l(!0);try{if("predictions"===r){const{data:t}=await Ga.from("seasons").select("id").eq("status","active").single();if(!t)return i([]),void f({users:0,avgReturn:0,topReturn:0,totalVolume:0});const{data:n,error:r}=await Ga.from("adx_prediction_scores_season").select("user_id, mse_score, rmse_score, predictions_made, accuracy_percentile, user_profiles(email)").eq("season_id",t.id).order("rmse_score",{ascending:!0,nullsFirst:!1});if(r)return void i([]);const s=(n||[]).map((t,n)=>{var r;const s=t.accuracy_percentile||0;let a="bronze";return s>=95?a="diamond":s>=85?a="platinum":s>=70?a="gold":s>=50&&(a="silver"),{id:t.user_id,email:(null==(r=t.user_profiles)?void 0:r.email)||"Anonymous",rank:n+1,pnlPercent:0,totalPnL:0,portfolioValue:0,tradesCount:0,winRate:0,tier:a,badges:[],isCurrentUser:t.user_id===(null==e?void 0:e.id),rmse:t.rmse_score??void 0,mse:t.mse_score??void 0,predictionsCount:t.predictions_made??0,percentile:s}});i(s);const a=s.length,o=s.reduce((e,t)=>e+(t.rmse||0),0)/(a||1),l=Math.min(...s.map(e=>e.rmse||Number.POSITIVE_INFINITY));return void f({users:a,avgReturn:Math.round(1e3*o)/1e3,topReturn:Math.round(1e3*l)/1e3,totalVolume:s.reduce((e,t)=>e+(t.predictionsCount||0),0)})}let o=[];try{const e=await async function(e,t={}){var n;const r=new Headers(t.headers),s=localStorage.getItem("supabase.auth.token");s&&r.set("Authorization",`Bearer ${s}`);let a=r.get("x-correlation-id");if(!a){try{a=(null==(n=null==crypto?void 0:crypto.randomUUID)?void 0:n.call(crypto))||`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`}catch{a=`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`}r.set("x-correlation-id",a)}return fetch(e,{...t,headers:r})}(Kv.adxLeaderboard),r=await e.json().catch(()=>({ok:!1}));r&&r.ok&&(o=(null==(t=r.data)?void 0:t.rows)||[],d((null==(n=r.data)?void 0:n.generated_at)||null),m("worker"))}catch(a){}if(0===o.length)try{const{data:e}=await Ga.functions.invoke("adx_leaderboard",{method:"POST",body:{}});(null==e?void 0:e.ok)&&(o=(null==(s=e.data)?void 0:s.rows)||[],d((new Date).toISOString()),m("edge"))}catch(Iw){return void i([])}const l=o.map((t,n)=>{const r=Number(t.equity||1e5),s="number"==typeof t.starting_cash?Number(t.starting_cash):1e5,a=("number"==typeof t.realized_pnl&&Number(t.realized_pnl),"number"==typeof t.pnl_pct?Number(t.pnl_pct):s>0?100*(r/s-1):0),i=r-s,o=t.total_trades||0,l=t.winning_trades||0,c=o>0?l/o*100:0,d=100*(t.max_drawdown_pct??0),u=t.sharpe??0;let m="bronze";a>30?m="diamond":a>20?m="platinum":a>10?m="gold":a>5&&(m="silver");const h=[];return 1===t.rank&&h.push(""),c>80&&h.push(""),a>25&&h.push(""),o>100&&h.push(""),{id:t.user_id,email:t.email||"Anonymous",rank:t.rank,pnlPercent:Math.round(10*a)/10,totalPnL:Math.round(100*i)/100,portfolioValue:Math.round(100*r)/100,tradesCount:o,winRate:Math.round(10*c)/10,tier:m,badges:h,isCurrentUser:t.user_id===(null==e?void 0:e.id),rmse:void 0,mse:void 0,predictionsCount:void 0,percentile:void 0,sharpe:u,maxDrawdownPct:d}});i(l);const c=l.length,u=c?l.reduce((e,t)=>e+t.pnlPercent,0)/c:0,h=c?Math.max(...l.map(e=>e.pnlPercent)):0,p=l.reduce((e,t)=>e+t.portfolioValue,0);f({users:c,avgReturn:Math.round(10*u)/10,topReturn:Math.round(10*h)/10,totalVolume:Math.round(p)})}catch(o){i([])}finally{l(!1)}})()},[e,t,r]),o?$.jsx("div",{className:"flex justify-center py-8",children:$.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):$.jsxs("div",{className:"space-y-6",children:[$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[$.jsx(fv,{children:$.jsxs(vv,{className:"p-4",children:[$.jsx("div",{className:"text-sm text-muted-foreground",children:"predictions"===r?"Total Forecasters":"Total Traders"}),$.jsx("div",{className:"text-2xl font-bold",children:h.users})]})}),$.jsx(fv,{children:$.jsxs(vv,{className:"p-4",children:[$.jsx("div",{className:"text-sm text-muted-foreground",children:"predictions"===r?"Avg RMSE":"Avg Return"}),$.jsx("div",{className:"text-2xl font-bold",children:"predictions"===r?h.avgReturn.toFixed(3):`${h.avgReturn}%`})]})}),$.jsx(fv,{children:$.jsxs(vv,{className:"p-4",children:[$.jsx("div",{className:"text-sm text-muted-foreground",children:"predictions"===r?"Best RMSE":"Top Return"}),$.jsx("div",{className:"text-2xl font-bold",children:"predictions"===r?h.topReturn.toFixed(3):`${h.topReturn}%`})]})}),$.jsx(fv,{children:$.jsxs(vv,{className:"p-4",children:[$.jsx("div",{className:"text-sm text-muted-foreground",children:"predictions"===r?"Total Predictions":"Total Volume"}),$.jsx("div",{className:"text-2xl font-bold",children:"predictions"===r?h.totalVolume:`${(h.totalVolume/1e6).toFixed(1)}M`})]})})]}),$.jsxs("div",{className:"flex gap-3",children:[$.jsxs(bv,{value:t,onValueChange:n,children:[$.jsx(jv,{className:"w-40",children:$.jsx(wv,{placeholder:"Select timeframe"})}),$.jsxs(Nv,{children:[$.jsx(kv,{value:"all",children:"All Time"}),$.jsx(kv,{value:"monthly",children:"This Month"}),$.jsx(kv,{value:"weekly",children:"This Week"}),$.jsx(kv,{value:"daily",children:"Today"})]})]}),$.jsxs(bv,{value:r,onValueChange:s,children:[$.jsx(jv,{className:"w-40",children:$.jsx(wv,{placeholder:"Select category"})}),$.jsxs(Nv,{children:[$.jsx(kv,{value:"overall",children:"Overall"}),$.jsx(kv,{value:"options",children:"Options"}),$.jsx(kv,{value:"predictions",children:"Predictions"})]})]})]}),$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsxs(gv,{className:"flex items-center justify-between",children:[$.jsxs("span",{className:"flex items-center gap-2",children:[$.jsx(Zn,{className:"w-5 h-5"}),"Trading Champions"]}),$.jsxs("div",{className:"flex items-center gap-2",children:[c&&$.jsxs(Qg,{variant:"outline",children:["Updated ",new Date(c).toLocaleString()]}),u&&$.jsx(Qg,{variant:"secondary",children:"worker"===u?"via Cache":"via Edge"})]})]})}),$.jsx(vv,{className:"p-0",children:$.jsx("div",{className:"divide-y divide-border",children:a.length>0?a.map(e=>{var t;return $.jsx("div",{className:"p-4 transition-all hover:bg-muted/50 "+(e.isCurrentUser?"bg-primary/5":""),children:$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs("div",{className:"flex items-center gap-4",children:[$.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-muted font-bold",children:e.rank<=3?1===e.rank?"":2===e.rank?"":"":`#${e.rank}`}),$.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center",children:$.jsx(Jn,{className:"w-6 h-6 text-muted-foreground"})}),$.jsxs("div",{children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("span",{className:"font-semibold",children:e.email}),e.isCurrentUser&&$.jsx(Qg,{variant:"secondary",className:"text-xs",children:"You"}),$.jsx("div",{className:"flex items-center gap-1",children:cy(e.tier)})]}),$.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-4 mt-1",children:[$.jsxs("span",{children:[e.tradesCount," trades"]}),$.jsxs("span",{children:[e.winRate,"% win rate"]}),$.jsx("div",{className:"flex gap-1",children:e.badges.map((e,t)=>$.jsx("span",{children:e},t))})]})]})]}),$.jsx("div",{className:"text-right",children:"predictions"===r?$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"text-sm",children:["RMSE: ",$.jsx("span",{className:"font-bold",children:(e.rmse??0).toFixed(3)})]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:["Predictions: ",e.predictionsCount||0]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:["Percentile: ",(null==(t=e.percentile)?void 0:t.toFixed(1))||0,"%"]})]}):$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.pnlPercent>=0?$.jsx(Qn,{className:"w-4 h-4 text-green-500"}):$.jsx(Kn,{className:"w-4 h-4 text-red-500"}),$.jsxs("span",{className:"font-bold text-lg "+(e.pnlPercent>=0?"text-green-500":"text-red-500"),children:[e.pnlPercent>=0?"+":"",e.pnlPercent,"%"]})]}),$.jsxs("div",{className:"text-sm text-muted-foreground",children:["",e.totalPnL>=0?"+":"",e.totalPnL.toLocaleString()]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:["Portfolio: ",e.portfolioValue.toLocaleString()]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:["Sharpe ","sharpe"in e&&"number"==typeof e.sharpe?e.sharpe.toFixed(2):"","  Max DD ","maxDrawdownPct"in e&&"number"==typeof e.maxDrawdownPct?e.maxDrawdownPct.toFixed(1):"","%"]})]})})]})},e.id)}):$.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No traders found. Be the first to start trading!"})})})]})]})}function uy({children:e,publicContent:t,requireAdmin:n=!1}){const{user:r,isAdmin:s}=ti();return r?n&&!s?null:$.jsx($.Fragment,{children:e}):$.jsx($.Fragment,{children:t})||null}function my({metrics:e}){var t;const n=e.tradesUsedToday/e.maxTradesPerDay*100,r=e.marginUsed/(e.marginUsed+e.marginAvailable)*100;return $.jsx("div",{className:"bg-card border rounded-lg p-4 mb-6",children:$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:$.jsx(er,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Cash"}),$.jsxs("div",{className:"font-semibold",children:["",e.accountBalance.toLocaleString()]})]})]}),$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:$.jsx(Qn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Portfolio Value (Realized)"}),$.jsxs("div",{className:"font-semibold",children:["",(e.realizedPortfolioValue??e.portfolioValue??0).toLocaleString()]}),(()=>{const t=e.startingCash??(e.portfolioValue||0)-(e.totalPnL||0),n=e.portfolioValue||0,r=t>0?100*(n/t-1):0,s=r>=0?"+":"",a=r>=0?"text-green-600":"text-red-600";return $.jsxs("div",{className:`text-xs ${a}`,children:["P&L (cumulative): ",s,r.toFixed(2),"%"]})})()]})]}),$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:$.jsx(gn,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),$.jsxs("div",{className:"flex-1",children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Daily Trades"}),$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsxs("span",{className:"text-sm font-semibold",children:[e.tradesUsedToday,"/",e.maxTradesPerDay]}),$.jsxs(Qg,{variant:n>80?"destructive":n>60?"secondary":"default",className:"text-xs",children:[Math.round(n),"%"]})]}),$.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Realized P&L: ",(e.realizedPnl??0).toLocaleString()]}),$.jsx(hv,{value:n,className:"h-1.5 mt-1"})]})]}),$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:$.jsx(Wn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),$.jsxs("div",{className:"flex-1",children:[$.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Buying Power"}),$.jsxs("div",{className:"font-semibold text-sm",children:["",e.dayTradingPower.toLocaleString()]}),$.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.toFixed(1),"% margin used"]}),$.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Sharpe ",(null==(t=e.sharpe)?void 0:t.toFixed(2))??"0.00","  Max DD ",(100*(e.maxDrawdownPct??0)).toFixed(1),"%"]})]})]})]})})}function hy(){const{user:e}=ti(),[t,n]=Ke.useState(e?"trading":"leaderboard"),[r,s]=Ke.useState(null),[a,i]=Ke.useState(!0);return Ke.useEffect(()=>{e||"leaderboard"===t||n("leaderboard")},[e]),Ke.useEffect(()=>{const t=async()=>{if(e)try{await yx.getUserPortfolio();const e=await yx.getTradingMetrics();s(e)}catch(t){}finally{i(!1)}else i(!1)};t();const n=setInterval(t,3e4),r=()=>t();return"undefined"!=typeof window&&window.addEventListener("portfolio-updated",r),()=>{clearInterval(n),"undefined"!=typeof window&&window.removeEventListener("portfolio-updated",r)}},[e]),$.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[$.jsx(uy,{children:r?$.jsx(my,{metrics:r}):null}),$.jsxs(Hg,{value:t,onValueChange:n,className:"w-full",children:[$.jsxs(Vg,{className:`grid w-full ${e?"grid-cols-4":"grid-cols-1"} max-w-2xl`,children:[e&&$.jsxs($.Fragment,{children:[$.jsxs($g,{value:"trading",className:"flex items-center gap-2",children:[$.jsx(gn,{className:"w-4 h-4"}),"Trading"]}),$.jsxs($g,{value:"predictions",className:"flex items-center gap-2",children:[$.jsx(wn,{className:"w-4 h-4"}),"Predictions"]}),$.jsxs($g,{value:"portfolio",className:"flex items-center gap-2",children:[$.jsx(Qn,{className:"w-4 h-4"}),"Portfolio"]})]}),$.jsxs($g,{value:"leaderboard",className:"flex items-center gap-2",children:[$.jsx(Zn,{className:"w-4 h-4"}),"Leaderboard"]})]}),e&&$.jsxs($.Fragment,{children:[$.jsx(Gg,{value:"trading",className:"mt-6",children:$.jsx(bx,{})}),$.jsx(Gg,{value:"predictions",className:"mt-6",children:$.jsx(Ex,{})}),$.jsx(Gg,{value:"portfolio",className:"mt-6",children:$.jsx(ly,{metrics:r??void 0})})]}),$.jsx(Gg,{value:"leaderboard",className:"mt-6",children:$.jsx(dy,{})})]})]})}function fy({className:e,...t}){return $.jsx(Oe,{"data-slot":"label",className:Wg("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function py({className:e,...t}){return $.jsx("textarea",{"data-slot":"textarea",className:Wg("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var gy="Radio",[vy,xy]=K(gy),[yy,by]=vy(gy),wy=Ke.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:i,value:o="on",onCheck:l,form:c,...d}=e,[u,m]=Ke.useState(null),h=Q(t,e=>m(e)),f=Ke.useRef(!1),p=!u||(c||!!u.closest("form"));return $.jsxs(yy,{scope:n,checked:s,disabled:i,children:[$.jsx(Z.button,{type:"button",role:"radio","aria-checked":s,"data-state":Sy(s),"data-disabled":i?"":void 0,disabled:i,value:o,...d,ref:h,onClick:re(e.onClick,e=>{s||null==l||l(),p&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),p&&$.jsx(ky,{control:u,bubbles:!f.current,name:r,value:o,checked:s,required:a,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})});wy.displayName=gy;var jy="RadioIndicator",Ny=Ke.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=by(jy,n);return $.jsx(te,{present:r||a.checked,children:$.jsx(Z.span,{"data-state":Sy(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});Ny.displayName=jy;var ky=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=Ke.useRef(null),i=Be(n),o=Ye(t);return Ke.useEffect(()=>{const e=a.current,t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==n&&s){const t=new Event("click",{bubbles:r});s.call(e,n),e.dispatchEvent(t)}},[i,n,r]),$.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Sy(e){return e?"checked":"unchecked"}var _y=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ey="RadioGroup",[Dy,Ty]=K(Ey,[We,xy]),My=We(),Cy=xy(),[Oy,Ay]=Dy(Ey),Py=Ke.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:i=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:u,...m}=e,h=My(n),f=He(c),[p,g]=ee({prop:a,defaultProp:s,onChange:u});return $.jsx(Oy,{scope:n,name:r,required:i,disabled:o,value:p,onValueChange:g,children:$.jsx(Ve,{asChild:!0,...h,orientation:l,dir:f,loop:d,children:$.jsx(Z.div,{role:"radiogroup","aria-required":i,"aria-orientation":l,"data-disabled":o?"":void 0,dir:f,...m,ref:t})})})});Py.displayName=Ey;var Ry="RadioGroupItem",Iy=Ke.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=Ay(Ry,n),i=a.disabled||r,o=My(n),l=Cy(n),c=Ke.useRef(null),d=Q(t,c),u=a.value===s.value,m=Ke.useRef(!1);return Ke.useEffect(()=>{const e=e=>{_y.includes(e.key)&&(m.current=!0)},t=()=>m.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),$.jsx($e,{asChild:!0,...o,focusable:!i,active:u,children:$.jsx(wy,{disabled:i,required:a.required,checked:u,...l,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:re(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:re(s.onFocus,()=>{var e;m.current&&(null==(e=c.current)||e.click())})})})});Iy.displayName=Ry;var Ly=Ke.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=Cy(n);return $.jsx(Ny,{...s,...r,ref:t})});Ly.displayName="RadioGroupIndicator";var Fy=Py,zy=Iy,Uy=Ly;function qy({className:e,...t}){return $.jsx(Fy,{"data-slot":"radio-group",className:Wg("grid gap-3",e),...t})}function By({className:e,...t}){return $.jsx(zy,{"data-slot":"radio-group-item",className:Wg("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:$.jsx(Uy,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:$.jsx(Tn,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Yy="https://mskpxebbscvisxcceiwx.supabase.co";const Wy=new class{async getAuthToken(){const{data:{session:e}}=await Ga.auth.getSession();return(null==e?void 0:e.access_token)||null}async getHTILeaderboard(){var e;try{const t=await fetch("https://fsqds-production.yadavkartik-arbeit.workers.dev/api/leaderboards/hti",{method:"GET",headers:{Accept:"application/json"}}),n=await t.json();if(t.ok&&(null==n?void 0:n.ok)){const t=(null==(e=null==n?void 0:n.data)?void 0:e.rows)||[];return{ok:!0,rows:t.map(e=>({season_id:e.season_id||"",user_id:e.user_id,email:e.email||e.username||"Anonymous",points:e.total_points??e.total_score??e.points??0,badges:e.badges||[],last_action_at:e.last_submission||e.updated_at||null})),lastUpdated:(new Date).toISOString()}}}catch(Iw){}const{data:t}=await Ga.from("hti_submissions").select("\n        user_id,\n        points,\n        user_profiles!inner(email)\n      ");if(!t)return{ok:!1,error:"Failed to fetch leaderboard data"};const n=t.reduce((e,t)=>{var n;const r=e[t.user_id]||{user_id:t.user_id,email:(null==(n=t.user_profiles)?void 0:n.email)||"Anonymous",points:0,badges:[]};return r.points+=t.points||0,e[t.user_id]=r,e},{});return{ok:!0,rows:Object.values(n).sort((e,t)=>t.points-e.points).slice(0,100),lastUpdated:(new Date).toISOString()}}async getADXLeaderboard(){const{data:e,error:t}=await Ga.from("adx_leaderboard").select("*").limit(100);if(!t&&e){return{ok:!0,rows:e.map(e=>({rank:e.rank,user_id:e.user_id,display_name:e.username||e.email||"Anonymous",total_pnl:(e.current_value||e.starting_cash||1e5)-(e.starting_cash||1e5),total_value:e.current_value||e.starting_cash||1e5,win_rate:e.winning_trades&&e.total_trades?e.winning_trades/e.total_trades*100:0,num_trades:e.total_trades||0})),lastUpdated:(new Date).toISOString()}}const{data:n}=await Ga.from("seasons").select("id").eq("status","active").single();if(!n)return{ok:!1,error:"No active season found"};const{data:r}=await Ga.from("adx_portfolios").select("\n        *,\n        user_profiles!inner(username, email)\n      ").eq("season_id",n.id);if(!r)return{ok:!1,error:"Failed to fetch portfolios"};return{ok:!0,rows:r.map(e=>{var t,n;return{rank:0,user_id:e.user_id,display_name:(null==(t=e.user_profiles)?void 0:t.username)||(null==(n=e.user_profiles)?void 0:n.email)||"Anonymous",total_pnl:(e.current_value||e.starting_cash)-e.starting_cash,total_value:e.current_value||e.starting_cash,win_rate:0,num_trades:0}}).sort((e,t)=>t.total_pnl-e.total_pnl).map((e,t)=>({...e,rank:t+1})).slice(0,100),lastUpdated:(new Date).toISOString()}}async getHTIQuestions(){const e=(new Date).toISOString(),{data:{user:t}}=await Ga.auth.getUser(),{data:n,error:r}=await Ga.from("hti_questions").select("id, season_id, n, kind, choices, correct, release_at, is_active, points, title, tags").eq("is_active",!0).lte("release_at",e).order("n",{ascending:!0});if(r)return{ok:!1,error:r.message};let s=[];if(t){const{data:e}=await Ga.from("hti_submissions").select("question_id").eq("user_id",t.id);e&&(s=e.map(e=>e.question_id))}return{ok:!0,questions:(null==n?void 0:n.map(e=>{let t="",n=[],r=e.choices;if("string"==typeof e.choices)try{r=JSON.parse(e.choices)}catch(Iw){}r&&"object"==typeof r&&(r.question?(t=r.question,n=r.options||[]):r.text?(t=r.text,n=r.options||[]):Array.isArray(r)&&(n=r,t=`Question ${e.n}`));let a=e.correct;if("string"==typeof e.correct)try{a=JSON.parse(e.correct)}catch(Iw){}return{...e,answered:s.includes(e.id),locked:!1,points:e.points??10,question_text:t,title:e.title||null,choices:n,correct_answer:a}}))||[]}}async submitHTIAnswer(e,t,n){const r=await this.getAuthToken();if(!r)return{ok:!1,error:"Authentication required"};let s;s="number"==typeof t&&Number.isInteger(t)&&t>=0&&t<20?{value:{index:t}}:"number"==typeof t||"string"==typeof t?{value:t}:"object"==typeof t&&null!==t?t:{value:t};const a="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)?"dev-bypass-token":(null==n?void 0:n.turnstileToken)||void 0,i=await fetch(`${Yy}/functions/v1/hti_submit_answer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({questionId:e,answer:s,turnstileToken:a})}),o=await i.json();return o.ok&&o.data?{ok:!0,data:{isCorrect:o.data.is_correct,points:o.data.points}}:o}async getADXPortfolio(){const{data:{user:e}}=await Ga.auth.getUser();if(!e)return{ok:!1,error:"Authentication required"};const{data:t}=await Ga.from("seasons").select("id").eq("status","active").single(),{data:n,error:r}=await Ga.from("adx_portfolios").select("*").eq("user_id",e.id).eq("season_id",null==t?void 0:t.id).maybeSingle();let s=[];if(n){const{data:e}=await Ga.from("adx_positions").select("*").eq("portfolio_id",n.id);s=e||[]}const{data:a}=await Ga.from("adx_revenue_predictions").select("*").eq("user_id",e.id);return{ok:!r||"PGRST116"===r.code,data:{portfolio:n||{cash:1e5,total_value:1e5},positions:s||[],predictions:a||[]},error:r&&"PGRST116"!==r.code?r.message:void 0}}async placeADXOrder(e){const t=await this.getAuthToken();if(!t)return{ok:!1,error:"Authentication required"};return(await fetch(`${Yy}/functions/v1/adx_place_order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)})).json()}async saveADXPrediction(e){const t=await this.getAuthToken();if(!t)return{ok:!1,error:"Authentication required"};const{data:n}=await Ga.from("seasons").select("id").eq("status","active").single();if(!n)return{ok:!1,error:"No active season"};const r={seasonId:n.id,symbol:e.ticker,value:e.prediction,turnstileToken:void 0};return(await fetch(`${Yy}/functions/v1/adx_save_prediction`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)})).json()}async isAdmin(){const{data:{user:e}}=await Ga.auth.getUser();if(!e)return!1;const{data:t}=await Ga.from("user_profiles").select("is_admin").eq("user_id",e.id).single();return(null==t?void 0:t.is_admin)||!1}async getAdminQuestions(){if(!(await this.isAdmin()))return{ok:!1,error:"Admin access required"};const{data:e,error:t}=await Ga.from("hti_questions").select("*").order("n",{ascending:!0});return{ok:!t,data:e||[],error:null==t?void 0:t.message}}async saveAdminQuestion(e){if(!(await this.isAdmin()))return{ok:!1,error:"Admin access required"};if(e.id){const{error:t}=await Ga.from("hti_questions").update(e).eq("id",e.id);return{ok:!t,error:null==t?void 0:t.message}}{const{error:t}=await Ga.from("hti_questions").insert(e);return{ok:!t,error:null==t?void 0:t.message}}}async deleteAdminQuestion(e){if(!(await this.isAdmin()))return{ok:!1,error:"Admin access required"};const{error:t}=await Ga.from("hti_questions").delete().eq("id",e);return{ok:!t,error:null==t?void 0:t.message}}},{entries:Hy,setPrototypeOf:Vy,isFrozen:$y,getPrototypeOf:Gy,getOwnPropertyDescriptor:Ky}=Object;
/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */let{freeze:Qy,seal:Xy,create:Zy}=Object,{apply:Jy,construct:eb}="undefined"!=typeof Reflect&&Reflect;Qy||(Qy=function(e){return e}),Xy||(Xy=function(e){return e}),Jy||(Jy=function(e,t,n){return e.apply(t,n)}),eb||(eb=function(e,t){return new e(...t)});const tb=gb(Array.prototype.forEach),nb=gb(Array.prototype.lastIndexOf),rb=gb(Array.prototype.pop),sb=gb(Array.prototype.push),ab=gb(Array.prototype.splice),ib=gb(String.prototype.toLowerCase),ob=gb(String.prototype.toString),lb=gb(String.prototype.match),cb=gb(String.prototype.replace),db=gb(String.prototype.indexOf),ub=gb(String.prototype.trim),mb=gb(Object.prototype.hasOwnProperty),hb=gb(RegExp.prototype.test),fb=(pb=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eb(pb,t)});var pb;function gb(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Jy(e,t,r)}}function vb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ib;Vy&&Vy(e,null);let r=t.length;for(;r--;){let s=t[r];if("string"==typeof s){const e=n(s);e!==s&&($y(t)||(t[r]=e),s=e)}e[s]=!0}return e}function xb(e){for(let t=0;t<e.length;t++){mb(e,t)||(e[t]=null)}return e}function yb(e){const t=Zy(null);for(const[n,r]of Hy(e)){mb(e,n)&&(Array.isArray(r)?t[n]=xb(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=yb(r):t[n]=r)}return t}function bb(e,t){for(;null!==e;){const n=Ky(e,t);if(n){if(n.get)return gb(n.get);if("function"==typeof n.value)return gb(n.value)}e=Gy(e)}return function(){return null}}const wb=Qy(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),jb=Qy(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Nb=Qy(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kb=Qy(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Sb=Qy(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_b=Qy(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Eb=Qy(["#text"]),Db=Qy(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Tb=Qy(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mb=Qy(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Cb=Qy(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ob=Xy(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ab=Xy(/<%[\w\W]*|[\w\W]*%>/gm),Pb=Xy(/\$\{[\w\W]*/gm),Rb=Xy(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ib=Xy(/^aria-[\-\w]+$/),Lb=Xy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Fb=Xy(/^(?:\w+script|data):/i),zb=Xy(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ub=Xy(/^html$/i),qb=Xy(/^[a-z][.\w]*(-[.\w]+)+$/i);var Bb=Object.freeze({__proto__:null,ARIA_ATTR:Ib,ATTR_WHITESPACE:zb,CUSTOM_ELEMENT:qb,DATA_ATTR:Rb,DOCTYPE_NAME:Ub,ERB_EXPR:Ab,IS_ALLOWED_URI:Lb,IS_SCRIPT_OR_DATA:Fb,MUSTACHE_EXPR:Ob,TMPLIT_EXPR:Pb});const Yb=1,Wb=3,Hb=7,Vb=8,$b=9;var Gb=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.2.6",n.removed=[],!t||!t.document||t.document.nodeType!==$b||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const s=r,a=s.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:h,trustedTypes:f}=t,p=c.prototype,g=bb(p,"cloneNode"),v=bb(p,"remove"),x=bb(p,"nextSibling"),y=bb(p,"childNodes"),b=bb(p,"parentNode");if("function"==typeof o){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,j="";const{implementation:N,createNodeIterator:k,createDocumentFragment:S,getElementsByTagName:_}=r,{importNode:E}=s;let D={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Hy&&"function"==typeof b&&N&&void 0!==N.createHTMLDocument;const{MUSTACHE_EXPR:T,ERB_EXPR:M,TMPLIT_EXPR:C,DATA_ATTR:O,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:I}=Bb;let{IS_ALLOWED_URI:L}=Bb,F=null;const z=vb({},[...wb,...jb,...Nb,...Sb,...Eb]);let U=null;const q=vb({},[...Db,...Tb,...Mb,...Cb]);let B=Object.seal(Zy(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,W=null,H=!0,V=!0,$=!1,G=!0,K=!1,Q=!0,X=!1,Z=!1,J=!1,ee=!1,te=!1,ne=!1,re=!0,se=!1,ae=!0,ie=!1,oe={},le=null;const ce=vb({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=vb({},["audio","video","img","source","image","track"]);let me=null;const he=vb({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let ve=ge,xe=!1,ye=null;const be=vb({},[fe,pe,ge],ob);let we=vb({},["mi","mo","mn","ms","mtext"]),je=vb({},["annotation-xml"]);const Ne=vb({},["title","style","font","a","script"]);let ke=null;const Se=["application/xhtml+xml","text/html"];let _e=null,Ee=null;const De=r.createElement("form"),Te=function(e){return e instanceof RegExp||e instanceof Function},Me=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ee||Ee!==e){if(e&&"object"==typeof e||(e={}),e=yb(e),ke=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,_e="application/xhtml+xml"===ke?ob:ib,F=mb(e,"ALLOWED_TAGS")?vb({},e.ALLOWED_TAGS,_e):z,U=mb(e,"ALLOWED_ATTR")?vb({},e.ALLOWED_ATTR,_e):q,ye=mb(e,"ALLOWED_NAMESPACES")?vb({},e.ALLOWED_NAMESPACES,ob):be,me=mb(e,"ADD_URI_SAFE_ATTR")?vb(yb(he),e.ADD_URI_SAFE_ATTR,_e):he,de=mb(e,"ADD_DATA_URI_TAGS")?vb(yb(ue),e.ADD_DATA_URI_TAGS,_e):ue,le=mb(e,"FORBID_CONTENTS")?vb({},e.FORBID_CONTENTS,_e):ce,Y=mb(e,"FORBID_TAGS")?vb({},e.FORBID_TAGS,_e):yb({}),W=mb(e,"FORBID_ATTR")?vb({},e.FORBID_ATTR,_e):yb({}),oe=!!mb(e,"USE_PROFILES")&&e.USE_PROFILES,H=!1!==e.ALLOW_ARIA_ATTR,V=!1!==e.ALLOW_DATA_ATTR,$=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,K=e.SAFE_FOR_TEMPLATES||!1,Q=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,se=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,L=e.ALLOWED_URI_REGEXP||Lb,ve=e.NAMESPACE||ge,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,je=e.HTML_INTEGRATION_POINTS||je,B=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(B.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(V=!1),te&&(ee=!0),oe&&(F=vb({},Eb),U=[],!0===oe.html&&(vb(F,wb),vb(U,Db)),!0===oe.svg&&(vb(F,jb),vb(U,Tb),vb(U,Cb)),!0===oe.svgFilters&&(vb(F,Nb),vb(U,Tb),vb(U,Cb)),!0===oe.mathMl&&(vb(F,Sb),vb(U,Mb),vb(U,Cb))),e.ADD_TAGS&&(F===z&&(F=yb(F)),vb(F,e.ADD_TAGS,_e)),e.ADD_ATTR&&(U===q&&(U=yb(U)),vb(U,e.ADD_ATTR,_e)),e.ADD_URI_SAFE_ATTR&&vb(me,e.ADD_URI_SAFE_ATTR,_e),e.FORBID_CONTENTS&&(le===ce&&(le=yb(le)),vb(le,e.FORBID_CONTENTS,_e)),ae&&(F["#text"]=!0),X&&vb(F,["html","head","body"]),F.table&&(vb(F,["tbody"]),delete Y.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw fb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw fb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,j=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return null}}(f,a)),null!==w&&"string"==typeof j&&(j=w.createHTML(""));Qy&&Qy(e),Ee=e}},Ce=vb({},[...jb,...Nb,...kb]),Oe=vb({},[...Sb,..._b]),Ae=function(e){sb(n.removed,{element:e});try{b(e).removeChild(e)}catch(t){v(e)}},Pe=function(e,t){try{sb(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){sb(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Ae(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},Re=function(e){let t=null,n=null;if(J)e="<remove></remove>"+e;else{const t=lb(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ke&&ve===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=w?w.createHTML(e):e;if(ve===ge)try{t=(new h).parseFromString(s,ke)}catch(i){}if(!t||!t.documentElement){t=N.createDocument(ve,"template",null);try{t.documentElement.innerHTML=xe?j:s}catch(i){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),ve===ge?_.call(t,X?"html":"body")[0]:X?t.documentElement:a},Ie=function(e){return k.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Le=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Fe=function(e){return"function"==typeof l&&e instanceof l};function ze(e,t,r){tb(e,e=>{e.call(n,t,r,Ee)})}const Ue=function(e){let t=null;if(ze(D.beforeSanitizeElements,e,null),Le(e))return Ae(e),!0;const r=_e(e.nodeName);if(ze(D.uponSanitizeElement,e,{tagName:r,allowedTags:F}),Q&&e.hasChildNodes()&&!Fe(e.firstElementChild)&&hb(/<[/\w!]/g,e.innerHTML)&&hb(/<[/\w!]/g,e.textContent))return Ae(e),!0;if(e.nodeType===Hb)return Ae(e),!0;if(Q&&e.nodeType===Vb&&hb(/<[/\w]/g,e.data))return Ae(e),!0;if(!F[r]||Y[r]){if(!Y[r]&&Be(r)){if(B.tagNameCheck instanceof RegExp&&hb(B.tagNameCheck,r))return!1;if(B.tagNameCheck instanceof Function&&B.tagNameCheck(r))return!1}if(ae&&!le[r]){const t=b(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const s=g(n[r],!0);s.__removalCount=(e.__removalCount||0)+1,t.insertBefore(s,x(e))}}}return Ae(e),!0}return e instanceof c&&!function(e){let t=b(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=ib(e.tagName),r=ib(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===pe?t.namespaceURI===ge?"svg"===n:t.namespaceURI===fe?"svg"===n&&("annotation-xml"===r||we[r]):Boolean(Ce[n]):e.namespaceURI===fe?t.namespaceURI===ge?"math"===n:t.namespaceURI===pe?"math"===n&&je[r]:Boolean(Oe[n]):e.namespaceURI===ge?!(t.namespaceURI===pe&&!je[r])&&!(t.namespaceURI===fe&&!we[r])&&!Oe[n]&&(Ne[n]||!Ce[n]):!("application/xhtml+xml"!==ke||!ye[e.namespaceURI]))}(e)?(Ae(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!hb(/<\/no(script|embed|frames)/i,e.innerHTML)?(K&&e.nodeType===Wb&&(t=e.textContent,tb([T,M,C],e=>{t=cb(t,e," ")}),e.textContent!==t&&(sb(n.removed,{element:e.cloneNode()}),e.textContent=t)),ze(D.afterSanitizeElements,e,null),!1):(Ae(e),!0)},qe=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in De))return!1;if(V&&!W[t]&&hb(O,t));else if(H&&hb(A,t));else if(!U[t]||W[t]){if(!(Be(e)&&(B.tagNameCheck instanceof RegExp&&hb(B.tagNameCheck,e)||B.tagNameCheck instanceof Function&&B.tagNameCheck(e))&&(B.attributeNameCheck instanceof RegExp&&hb(B.attributeNameCheck,t)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(t))||"is"===t&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&hb(B.tagNameCheck,n)||B.tagNameCheck instanceof Function&&B.tagNameCheck(n))))return!1}else if(me[t]);else if(hb(L,cb(n,R,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==db(n,"data:")||!de[e]){if($&&!hb(P,cb(n,R,"")));else if(n)return!1}else;return!0},Be=function(e){return"annotation-xml"!==e&&lb(e,I)},Ye=function(e){ze(D.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Le(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0};let s=t.length;for(;s--;){const i=t[s],{name:o,namespaceURI:l,value:c}=i,d=_e(o),u=c;let m="value"===o?u:ub(u);if(r.attrName=d,r.attrValue=m,r.keepAttr=!0,r.forceKeepAttr=void 0,ze(D.uponSanitizeAttribute,e,r),m=r.attrValue,!se||"id"!==d&&"name"!==d||(Pe(o,e),m="user-content-"+m),Q&&hb(/((--!?|])>)|<\/(style|title)/i,m)){Pe(o,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Pe(o,e);continue}if(!G&&hb(/\/>/i,m)){Pe(o,e);continue}K&&tb([T,M,C],e=>{m=cb(m,e," ")});const h=_e(e.nodeName);if(qe(h,d,m)){if(w&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(l);else switch(f.getAttributeType(h,d)){case"TrustedHTML":m=w.createHTML(m);break;case"TrustedScriptURL":m=w.createScriptURL(m)}if(m!==u)try{l?e.setAttributeNS(l,o,m):e.setAttribute(o,m),Le(e)?Ae(e):rb(n.removed)}catch(a){Pe(o,e)}}else Pe(o,e)}ze(D.afterSanitizeAttributes,e,null)},We=function e(t){let n=null;const r=Ie(t);for(ze(D.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)ze(D.uponSanitizeShadowNode,n,null),Ue(n),Ye(n),n.content instanceof i&&e(n.content);ze(D.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,o=null,c=null;if(xe=!e,xe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Fe(e)){if("function"!=typeof e.toString)throw fb("toString is not a function");if("string"!=typeof(e=e.toString()))throw fb("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Z||Me(t),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){const t=_e(e.nodeName);if(!F[t]||Y[t])throw fb("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Re("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),a.nodeType===Yb&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return w&&ne?w.createHTML(e):e;if(r=Re(e),!r)return ee?null:ne?j:""}r&&J&&Ae(r.firstChild);const d=Ie(ie?e:r);for(;o=d.nextNode();)Ue(o),Ye(o),o.content instanceof i&&We(o.content);if(ie)return e;if(ee){if(te)for(c=S.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(U.shadowroot||U.shadowrootmode)&&(c=E.call(s,c,!0)),c}let u=X?r.outerHTML:r.innerHTML;return X&&F["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&hb(Ub,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),K&&tb([T,M,C],e=>{u=cb(u,e," ")}),w&&ne?w.createHTML(u):u},n.setConfig=function(){Me(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Z=!0},n.clearConfig=function(){Ee=null,Z=!1},n.isValidAttribute=function(e,t,n){Ee||Me({});const r=_e(e),s=_e(t);return qe(r,s,n)},n.addHook=function(e,t){"function"==typeof t&&sb(D[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=nb(D[e],t);return-1===n?void 0:ab(D[e],n,1)[0]}return rb(D[e])},n.removeHooks=function(e){D[e]=[]},n.removeAllHooks=function(){D={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function Kb(e){if(!e||"string"!=typeof e)return"";try{return Gb.sanitize(e,{ALLOWED_TAGS:["b","strong","i","em","u","s","sub","sup","br","p","span","ul","ol","li","small"],ALLOWED_ATTR:["class","style"]})}catch{return""}}var Qb={};!function e(t,n,r,s){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i="function"==typeof Path2D&&"function"==typeof DOMMatrix;function o(){}function l(e){var r=n.exports.Promise,s=void 0!==r?r:t.Promise;return"function"==typeof s?new s(e):(e(o,o),null)}var c,d,u,m,h,f,p=function(e,t){return{transform:function(n){if(e)return n;if(t.has(n))return t.get(n);var r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),t.set(n,r),r},clear:function(){t.clear()}}}(function(){if(!t.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var r=e.transferToImageBitmap();try{n.createPattern(r,"no-repeat")}catch(Iw){return!1}return!0}(),new Map),g=(u=Math.floor(1e3/60),m={},h=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(c=function(e){var t=Math.random();return m[t]=requestAnimationFrame(function n(r){h===r||h+u-1<r?(h=r,delete m[t],e()):m[t]=requestAnimationFrame(n)}),t},d=function(e){m[e]&&cancelAnimationFrame(m[e])}):(c=function(e){return setTimeout(e,u)},d=function(e){return clearTimeout(e)}),{frame:c,cancel:d}),v=function(){var t,n,s={};return function(){if(t)return t;if(!r&&a){var i=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([i])))}catch(Iw){return void 0!==typeof console&&console.warn,null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(r,a,i){if(n)return t(r,null),n;var o=Math.random().toString(36).slice(2);return n=l(function(a){function l(t){t.data.callback===o&&(delete s[o],e.removeEventListener("message",l),n=null,p.clear(),i(),a())}e.addEventListener("message",l),t(r,o),s[o]=l.bind(null,{data:{callback:o}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),s)s[t](),delete s[t]}}(t)}return t}}(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(e,t,n){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:x[t],n)}function b(e){return e<0?0:Math.floor(e)}function w(e,t){return Math.floor(Math.random()*(t-e))+e}function j(e){return parseInt(e,16)}function N(e){return e.map(k)}function k(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:j(t.substring(0,2)),g:j(t.substring(2,4)),b:j(t.substring(4,6))}}function S(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function _(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function E(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function D(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,s=t.y+t.random*t.tiltSin,a=t.wobbleX+t.random*t.tiltCos,o=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),i&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,r,s,a,i){var o=new Path2D(e),l=new Path2D;l.addPath(o,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(i)*s,Math.sin(i)*s,-Math.sin(i)*a,Math.cos(i)*a,n,r])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(a-r),.1*Math.abs(o-s),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(a-r),d=.1*Math.abs(o-s),u=t.shape.bitmap.width*t.scalar,m=t.shape.bitmap.height*t.scalar,h=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*d,Math.cos(l)*d,t.x,t.y]);h.multiplySelf(new DOMMatrix(t.shape.matrix));var f=e.createPattern(p.transform(t.shape.bitmap),"no-repeat");f.setTransform(h),e.globalAlpha=1-n,e.fillStyle=f,e.fillRect(t.x-u/2,t.y-m/2,u,m),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(a-r)*t.ovalScalar,Math.abs(o-s)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,s,a,i,o,l){e.save(),e.translate(t,n),e.rotate(a),e.scale(r,s),e.arc(0,0,1,i,o,l),e.restore()}(e,t.x,t.y,Math.abs(a-r)*t.ovalScalar,Math.abs(o-s)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var g=Math.PI/2*3,v=4*t.scalar,x=8*t.scalar,y=t.x,b=t.y,w=5,j=Math.PI/w;w--;)y=t.x+Math.cos(g)*x,b=t.y+Math.sin(g)*x,e.lineTo(y,b),g+=j,y=t.x+Math.cos(g)*v,b=t.y+Math.sin(g)*v,e.lineTo(y,b),g+=j;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(s)),e.lineTo(Math.floor(a),Math.floor(o)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function T(e,n){var i,o=!e,c=!!y(n||{},"resize"),d=!1,u=y(n,"disableForReducedMotion",Boolean),m=a&&!!y(n||{},"useWorker")?v():null,h=o?S:_,f=!(!e||!m)&&!!e.__confetti_initialized,x="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function j(t,n,a){for(var o=y(t,"particleCount",b),c=y(t,"angle",Number),d=y(t,"spread",Number),u=y(t,"startVelocity",Number),m=y(t,"decay",Number),f=y(t,"gravity",Number),v=y(t,"drift",Number),x=y(t,"colors",N),j=y(t,"ticks",Number),k=y(t,"shapes"),S=y(t,"scalar"),_=!!y(t,"flat"),T=function(e){var t=y(e,"origin",Object);return t.x=y(t,"x",Number),t.y=y(t,"y",Number),t}(t),M=o,C=[],O=e.width*T.x,A=e.height*T.y;M--;)C.push(E({x:O,y:A,angle:c,spread:d,startVelocity:u,color:x[M%x.length],shape:k[w(0,k.length)],ticks:j,decay:m,gravity:f,drift:v,scalar:S,flat:_}));return i?i.addFettis(C):(i=function(e,t,n,a,i){var o,c,d=t.slice(),u=e.getContext("2d"),m=l(function(t){function l(){o=c=null,u.clearRect(0,0,a.width,a.height),p.clear(),i(),t()}o=g.frame(function t(){!r||a.width===s.width&&a.height===s.height||(a.width=e.width=s.width,a.height=e.height=s.height),a.width||a.height||(n(e),a.width=e.width,a.height=e.height),u.clearRect(0,0,a.width,a.height),(d=d.filter(function(e){return D(u,e)})).length?o=g.frame(t):l()}),c=l});return{addFettis:function(e){return d=d.concat(e),m},canvas:e,promise:m,reset:function(){o&&g.cancel(o),c&&c()}}}(e,C,h,n,a),i.promise)}function k(n){var r=u||y(n,"disableForReducedMotion",Boolean),s=y(n,"zIndex",Number);if(r&&x)return l(function(e){e()});o&&i?e=i.canvas:o&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(s),document.body.appendChild(e)),c&&!f&&h(e);var a={width:e.width,height:e.height};function p(){if(m){var t={getBoundingClientRect:function(){if(!o)return e.getBoundingClientRect()}};return h(t),void m.postMessage({resize:{width:t.width,height:t.height}})}a.width=a.height=null}function g(){i=null,c&&(d=!1,t.removeEventListener("resize",p)),o&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,f=!1)}return m&&!f&&m.init(e),f=!0,m&&(e.__confetti_initialized=!0),c&&!d&&(d=!0,t.addEventListener("resize",p,!1)),m?m.fire(n,a,g):j(n,a,g)}return k.reset=function(){m&&m.reset(),i&&i.reset()},k}function M(){return f||(f=T(null,{useWorker:!0,resize:!0})),f}n.exports=function(){return M().apply(this,arguments)},n.exports.reset=function(){M().reset()},n.exports.create=T,n.exports.shapeFromPath=function(e){if(!i)throw new Error("path confetti are not supported in this browser");var t,n;"string"==typeof e?t=e:(t=e.path,n=e.matrix);var r=new Path2D(t),s=document.createElement("canvas").getContext("2d");if(!n){for(var a,o,l=1e3,c=l,d=l,u=0,m=0,h=0;h<l;h+=2)for(var f=0;f<l;f+=2)s.isPointInPath(r,h,f,"nonzero")&&(c=Math.min(c,h),d=Math.min(d,f),u=Math.max(u,h),m=Math.max(m,f));a=u-c,o=m-d;var p=Math.min(10/a,10/o);n=[p,0,0,p,-Math.round(a/2+c)*p,-Math.round(o/2+d)*p]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,r="#000000",s='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,s="fontFamily"in e?e.fontFamily:s,r="color"in e?e.color:r);var a=10*n,i=a+"px "+s,o=new OffscreenCanvas(a,a),l=o.getContext("2d");l.font=i;var c=l.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),u=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),m=c.actualBoundingBoxLeft+2,h=c.actualBoundingBoxAscent+2;d+=4,u+=4,(l=(o=new OffscreenCanvas(d,u)).getContext("2d")).font=i,l.fillStyle=r,l.fillText(t,m,h);var f=1/n;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[f,0,0,f,-d*f/2,-u*f/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),Qb,!1);const Xb=Qb.exports;function Zb({question:e,onSubmitAnswer:t}){const[n,r]=Ke.useState(""),[s,a]=Ke.useState(""),[i,o]=Ke.useState(""),[l,c]=Ke.useState(e.answered||!1);return $.jsxs(fv,{className:"overflow-hidden",children:[$.jsxs(pv,{children:[$.jsxs("div",{className:"flex items-center justify-between mb-2",children:[$.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.tags&&e.tags.map((e,t)=>$.jsx(Qg,{variant:"outline",className:"text-xs capitalize",children:e},t)),$.jsx(Qg,{variant:"secondary",className:"text-xs",children:e.responseType.replace("-"," ")})]}),$.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[$.jsx(Zn,{className:"w-3 h-3"}),e.points," pts"]})]}),$.jsx(gv,{className:"text-lg",children:e.title})]}),$.jsxs(vv,{className:"space-y-4",children:[$.jsx("div",{className:"p-4 bg-muted/20 rounded-lg",children:$.jsx("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:Kb(e.question)}})}),l||e.answered?$.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[$.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm mb-2",children:[$.jsx(Dn,{className:"w-4 h-4"}),"Answer submitted successfully!"]}),$.jsx("p",{className:"text-sm text-muted-foreground",children:"Your answer is being reviewed and will be scored shortly."})]}):$.jsxs("div",{className:"space-y-3",children:[(()=>{var t;switch(e.responseType){case"text":return $.jsx("div",{className:"space-y-3",children:$.jsxs("div",{children:[$.jsx(fy,{htmlFor:`answer-${e.id}`,className:"text-sm",children:"Your Answer"}),$.jsx(py,{id:`answer-${e.id}`,placeholder:"Type your answer here...",value:n,onChange:e=>r(e.target.value),className:"mt-1 min-h-32"})]})});case"number":return $.jsx("div",{className:"space-y-3",children:$.jsxs("div",{children:[$.jsx(fy,{htmlFor:`answer-${e.id}`,className:"text-sm",children:"Your Answer (Number)"}),$.jsx(wx,{id:`answer-${e.id}`,type:"number",placeholder:"Enter a number...",value:s,onChange:e=>a(e.target.value),className:"mt-1"})]})});case"multiple-choice":return $.jsx("div",{className:"space-y-3",children:$.jsxs("div",{children:[$.jsx(fy,{className:"text-sm",children:"Select your answer:"}),$.jsx(qy,{value:i,onValueChange:o,className:"mt-2",children:null==(t=e.multipleChoiceOptions)?void 0:t.map((e,t)=>$.jsxs("div",{className:"flex items-center space-x-2",children:[$.jsx(By,{value:e,id:`option-${t}`,className:"border-2 border-muted-foreground/30 data-[state=checked]:border-primary data-[state=checked]:bg-primary"}),$.jsx(fy,{htmlFor:`option-${t}`,className:"text-sm cursor-pointer",children:e})]},t))})]})});default:return null}})(),$.jsx(yv,{onClick:()=>{let r="";switch(e.responseType){case"text":r=n.trim();break;case"number":r=parseFloat(s);break;case"multiple-choice":r=i}let a=!1;"text"===e.responseType&&"string"==typeof r&&r.length>0?a=!0:"number"!==e.responseType||"number"!=typeof r||isNaN(r)?"multiple-choice"===e.responseType&&""!==r&&(a=!0):a=!0,a&&(t(e.id,r),c(!0))},disabled:!(()=>{switch(e.responseType){case"text":return n.trim().length>0;case"number":return s.trim().length>0&&!isNaN(parseFloat(s));case"multiple-choice":return i.length>0;default:return!1}})(),className:"w-full",children:"Submit Answer"})]})]})]})}function Jb({userId:e}){const[t,n]=Ke.useState({totalQuestions:0,totalPoints:0,rank:0}),[r,s]=Ke.useState(!0);return Ke.useEffect(()=>{(async()=>{if(e)try{const{data:t,error:r}=await Ga.from("user_profiles").select("hti_score").eq("user_id",e).single();if(r)return void s(!1);const{count:a,error:i}=await Ga.from("hti_submissions").select("*",{count:"exact",head:!0}).eq("user_id",e),{data:o,error:l}=await Ga.from("user_profiles").select("user_id, hti_score").order("hti_score",{ascending:!1}).not("hti_score","is",null);let c=0;if(!l&&o){const t=o.findIndex(t=>t.user_id===e);c=t>=0?t+1:0}n({totalQuestions:a||0,totalPoints:(null==t?void 0:t.hti_score)||0,rank:c})}catch(t){}finally{s(!1)}else s(!1)})()},[e]),r?$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 mb-6",children:[$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsx("div",{className:"h-16 animate-pulse bg-gray-200 dark:bg-gray-700 rounded"})})}),$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsx("div",{className:"h-16 animate-pulse bg-gray-200 dark:bg-gray-700 rounded"})})})]}):$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 mb-6",children:[$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:$.jsx(Zn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Points"}),$.jsx("div",{className:"font-semibold",children:t.totalPoints}),$.jsx("div",{className:"text-xs text-muted-foreground",children:t.rank>0?`Rank #${t.rank}`:"Unranked"})]})]})})}),$.jsx(fv,{children:$.jsx(vv,{className:"p-4",children:$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:$.jsx(Un,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),$.jsxs("div",{children:[$.jsx("div",{className:"text-xs text-muted-foreground",children:"Questions"}),$.jsx("div",{className:"font-semibold",children:t.totalQuestions}),$.jsx("div",{className:"text-xs text-muted-foreground",children:"answered"})]})]})})})]})}function ew(){const{user:e}=ti(),[t,n]=Ke.useState(e?"practice":"leaderboard"),[r,s]=Ke.useState("all"),[a,i]=Ke.useState("all");Ke.useState(new Map);const[o,l]=Ke.useState([]),[c,d]=Ke.useState([]),[u,m]=Ke.useState([]),[h,f]=Ke.useState(!0);Ke.useEffect(()=>{(async()=>{f(!0);try{const t=await Wy.getHTIQuestions();if(t.ok&&t.questions){const e=t.questions.map((e,t)=>{const n=e.question_text||"No question text available",r=e.choices||[];let s,a="text";return"mcq"===e.kind?a="multiple-choice":"number"===e.kind?a="number":"string"===e.kind&&(a="text"),"mcq"===e.kind&&r&&r.length>0&&(s=r.map(e=>"object"==typeof e&&e.label?e.label:String(e))),{id:e.id,category:"technical",difficulty:e.points>=20?"hard":e.points>=15?"medium":"easy",title:e.title&&String(e.title).trim().length>0?String(e.title):`Question ${e.n}`,question:n,responseType:a,correctAnswer:e.correct_answer,multipleChoiceOptions:s,points:e.points||10,answered:e.answered||!1,tags:Array.isArray(e.tags)?e.tags:[]}});l(e)}const n=await Wy.getHTILeaderboard();if(n.ok){const e=(n.rows||[]).map((e,t)=>({id:e.user_id,username:e.email||"Anonymous",points:e.points||0,questionsAnswered:0,rank:t+1,badge:0===t?"":1===t?"":2===t?"":""}));d(e)}else d([]);if(e){const{data:t}=await Ga.from("hti_submissions").select("*").eq("user_id",e.id);if(t){m(t);const e=new Set(t.map(e=>e.question_id));l(t=>t.map(t=>({...t,answered:e.has(t.id)})))}}}catch(t){Ba.error("Failed to load questions and leaderboard")}finally{f(!1)}})()},[e]);const[p,g]=Ke.useState(!1),[v,x]=Ke.useState(0),y=Xe.useRef(null),b=Xe.useRef(null);const w=async(t,n)=>{var r;if(e)try{const s=o.find(e=>e.id===t);if(!s)return;let a;if("multiple-choice"===s.responseType){a=null==(r=s.multipleChoiceOptions)?void 0:r.findIndex(e=>e===n)}else a="number"===s.responseType?Number(n):String(n);const i=await async function(){var e;return"undefined"==typeof window||"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?p&&y.current&&(null==(e=null==window?void 0:window.turnstile)?void 0:e.reset)?await new Promise(e=>{b.current=e;try{window.turnstile.reset(y.current)}catch(t){g(!1),x(e=>e+1),e("")}}):void 0:"dev-bypass-token"}(),c=await Wy.submitHTIAnswer(t,a,{turnstileToken:i});if(c.ok&&c.data){const n=c.data.isCorrect||c.data.is_correct,r=c.data.points||0;n?(Ba.success(`Correct! You earned ${r} points`),Xb({particleCount:100,spread:70,origin:{y:.6}})):Ba.error("Incorrect answer. Try again next time!"),l(e=>e.map(e=>e.id===t?{...e,answered:!0}:e)),m(s=>[...s,{question_id:t,user_id:e.id,is_correct:n,points:r,submitted_at:(new Date).toISOString()}]);setTimeout(async()=>{const e=await Wy.getHTILeaderboard();if(e.ok){const t=(e.rows||[]).map((e,t)=>({id:e.user_id,username:e.email||"Anonymous",points:e.points||0,questionsAnswered:0,rank:t+1,badge:0===t?"":1===t?"":2===t?"":""}));d(t)}else d([])},500)}else Ba.error(c.error||"Failed to submit answer")}catch(s){Ba.error("Failed to submit answer. Please try again.")}else Ba.error("Please sign in to submit answers")};Xe.useEffect(()=>{e||"practice"!==t||n("leaderboard")},[e]);const j=o.filter(e=>{const t="all"===r||e.category===r,n="all"===a||e.responseType===a;return t&&n});return $.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[$.jsx(uy,{children:$.jsx(Jb,{userId:null==e?void 0:e.id})}),$.jsxs(Hg,{value:t,onValueChange:n,className:"w-full",children:[$.jsx("div",{className:"sr-only","aria-hidden":"true",children:$.jsx(fx,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",size:"compact",onLoad:e=>{y.current=e,g(!0)},onVerify:e=>{b.current&&(b.current(e),b.current=null)},onExpire:()=>{},onError:()=>{g(!1),x(e=>e+1)}},`hti-${v}`)}),$.jsxs(Vg,{className:`grid w-full ${e?"grid-cols-2":"grid-cols-1"} max-w-md`,children:[e&&$.jsxs($g,{value:"practice",className:"flex items-center gap-2",children:[$.jsx(xn,{className:"w-4 h-4"}),"Practice"]}),$.jsxs($g,{value:"leaderboard",className:"flex items-center gap-2",children:[$.jsx(Zn,{className:"w-4 h-4"}),"Leaderboard"]})]}),e&&$.jsx(Gg,{value:"practice",className:"mt-6",children:$.jsxs("div",{className:"space-y-6",children:[$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx("h3",{className:"text-lg font-semibold",children:"Practice Questions"}),$.jsxs("div",{className:"flex gap-3",children:[$.jsxs(bv,{value:r,onValueChange:s,children:[$.jsx(jv,{className:"w-48",children:$.jsx(wv,{placeholder:"Select category"})}),$.jsxs(Nv,{children:[$.jsx(kv,{value:"all",children:"All Categories"}),$.jsx(kv,{value:"technical",children:"Technical"}),$.jsx(kv,{value:"behavioral",children:"Behavioral"}),$.jsx(kv,{value:"system-design",children:"System Design"}),$.jsx(kv,{value:"case-study",children:"Case Study"})]})]}),$.jsxs(bv,{value:a,onValueChange:i,children:[$.jsx(jv,{className:"w-48",children:$.jsx(wv,{placeholder:"Response type"})}),$.jsxs(Nv,{children:[$.jsx(kv,{value:"all",children:"All Types"}),$.jsx(kv,{value:"text",children:"Free Text"}),$.jsx(kv,{value:"number",children:"Number"}),$.jsx(kv,{value:"multiple-choice",children:"Multiple Choice"})]})]})]})]}),h?$.jsx("div",{className:"flex justify-center py-8",children:$.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):j.length>0?$.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.map(e=>$.jsx(Zb,{question:e,onSubmitAnswer:w},e.id))}):$.jsx(fv,{children:$.jsxs(vv,{className:"p-8 text-center",children:[$.jsx(yn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),$.jsx("p",{className:"text-muted-foreground",children:"No questions available at the moment. Check back later!"})]})})]})}),$.jsx(Gg,{value:"leaderboard",className:"mt-6",children:$.jsxs(fv,{children:[$.jsx(pv,{children:$.jsxs(gv,{className:"flex items-center gap-2",children:[$.jsx(Zn,{className:"w-5 h-5"}),"Interview Champions"]})}),$.jsx(vv,{children:h?$.jsx("div",{className:"flex justify-center py-8",children:$.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):$.jsx("div",{className:"space-y-3",children:c.length>0?c.map(t=>$.jsx("div",{className:"p-4 rounded-lg border transition-all hover:shadow-md "+(t.id===(null==e?void 0:e.id)?"bg-primary/5 border-primary/20 ring-2 ring-primary/10":"bg-card"),children:$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs("div",{className:"flex items-center gap-4",children:[$.jsxs("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-muted font-semibold",children:["#",t.rank]}),$.jsx("div",{children:$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("span",{className:"font-semibold",children:t.username}),t.id===(null==e?void 0:e.id)&&$.jsx(Qg,{variant:"secondary",className:"text-xs",children:"You"}),$.jsx("span",{className:"text-lg",children:t.badge})]})})]}),$.jsxs("div",{className:"text-right",children:[$.jsxs("div",{className:"font-semibold",children:[t.points," points"]}),$.jsx("div",{className:"text-sm text-muted-foreground",children:"Total score"})]})]})},t.id)):$.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No participants yet. Be the first to answer questions!"})})})]})})]})]})}function tw(){const[e,t]=Ke.useState("trading");return $.jsxs("div",{className:"min-h-screen bg-background",children:[$.jsx("div",{className:"border-b bg-card",children:$.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-4",children:[$.jsx("div",{className:"flex items-center justify-between mb-4",children:$.jsxs("div",{children:[$.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"FS QDS Battleground"}),$.jsx("p",{className:"text-muted-foreground text-lg",children:"Master trading and interview skills"})]})}),$.jsx(Hg,{value:e,onValueChange:t,className:"w-full",children:$.jsxs(Vg,{className:"grid w-full grid-cols-2 max-w-md h-12",children:[$.jsxs($g,{value:"trading",className:"flex items-center gap-2 text-base",children:[$.jsx(Qn,{className:"w-5 h-5"}),"Axe the DAX"]}),$.jsxs($g,{value:"interview",className:"flex items-center gap-2 text-base",children:[$.jsx(Un,{className:"w-5 h-5"}),"Hack the Interview"]})]})})]})}),$.jsxs(Hg,{value:e,onValueChange:t,className:"w-full",children:[$.jsx(Gg,{value:"trading",className:"mt-0",children:$.jsx(hy,{})}),$.jsx(Gg,{value:"interview",className:"mt-0",children:$.jsx(ew,{})})]})]})}Qb.exports.create;const nw=()=>$.jsx("div",{className:"battleground-container battleground-figma-scope",children:$.jsx(tw,{})}),rw=()=>{const{t:e}=Za();return $.jsx("section",{id:"contact",className:"py-16 bg-white min-h-screen",children:$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[$.jsxs("div",{className:"text-center mb-16",children:[$.jsx("h2",{className:"text-3xl font-inter font-bold text-neutral-900 mb-4",children:e("navigation.contact")}),$.jsx("p",{className:"max-w-3xl mx-auto text-neutral-700",children:e("contact.subtitle")})]}),$.jsx("div",{className:"grid grid-cols-1 gap-8 mb-12",children:$.jsxs("div",{children:[$.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-md border border-neutral-200 mb-8",children:[$.jsx("h3",{className:"font-inter text-2xl font-semibold mb-6",children:e("contact.joinTitle")}),$.jsx("p",{className:"text-neutral-700 mb-6",children:e("contact.joinDescription")}),$.jsxs("div",{className:"space-y-4 mb-6",children:[$.jsxs("div",{className:"flex",children:[$.jsx("div",{className:"flex-shrink-0",children:$.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-[#1256C4] text-white",children:$.jsx("i",{className:"fas fa-check"})})}),$.jsxs("div",{className:"ml-4",children:[$.jsx("h4",{className:"text-base font-medium",children:"Open to All Programs"}),$.jsx("p",{className:"text-neutral-700",children:"Bachelor's, Master's, and Ph.D. students from any discipline can join."})]})]}),$.jsxs("div",{className:"flex",children:[$.jsx("div",{className:"flex-shrink-0",children:$.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-[#1256C4] text-white",children:$.jsx("i",{className:"fas fa-check"})})}),$.jsxs("div",{className:"ml-4",children:[$.jsx("h4",{className:"text-base font-medium",children:"No Prior Experience Required"}),$.jsx("p",{className:"text-neutral-700",children:"We offer learning paths for beginners and advanced practitioners alike."})]})]}),$.jsxs("div",{className:"flex",children:[$.jsx("div",{className:"flex-shrink-0",children:$.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-[#1256C4] text-white",children:$.jsx("i",{className:"fas fa-check"})})}),$.jsxs("div",{className:"ml-4",children:[$.jsx("h4",{className:"text-base font-medium",children:"Regular Commitment"}),$.jsx("p",{className:"text-neutral-700",children:"Members are expected to participate in at least one project or division and attend regular meetings."})]})]})]}),$.jsxs("div",{className:"bg-neutral-100 p-4 rounded-md",children:[$.jsx("h4",{className:"font-medium mb-2",children:"Next Recruitment Cycle"}),$.jsx("p",{className:"text-neutral-700 mb-2",children:"Applications for 2025/26 will open on 2nd September and close on 18th September."})]})]}),$.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-md border border-neutral-200",children:[$.jsx("h3",{className:"font-inter text-xl font-semibold mb-4",children:"Contact Information"}),$.jsx("div",{className:"space-y-4",children:$.jsxs("div",{className:"flex items-start",children:[$.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center bg-[#1256C4] rounded-full text-white",children:$.jsx("i",{className:"fas fa-envelope"})}),$.jsxs("div",{className:"ml-4",children:[$.jsx("h4",{className:"text-base font-medium",children:"Email"}),$.jsx("p",{className:"text-neutral-700",children:$.jsx("a",{href:"mailto:fs.data.science00@gmail.com",className:"underline",children:"fs.data.science00@gmail.com"})})]})]})})]})]})}),$.jsxs("div",{className:"bg-[#1256C4] text-white rounded-lg p-8 shadow-md",children:[$.jsxs("div",{className:"text-center mb-6",children:[$.jsx("h3",{className:"font-inter text-2xl font-semibold mb-2",children:"Connect With Us"}),$.jsx("p",{children:"Follow our social media channels to stay updated with the latest events and activities."})]}),$.jsxs("div",{className:"flex justify-center space-x-6",children:[$.jsxs("div",{className:"flex flex-col items-center",children:[$.jsx("div",{className:"h-12 w-12 rounded-full bg-white text-[#0B3D91] flex items-center justify-center text-2xl mb-2",children:$.jsx("i",{className:"fab fa-linkedin-in"})}),$.jsx("span",{className:"text-sm",children:"LinkedIn"})]}),$.jsxs("a",{href:"https://github.com/fsqds/",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[$.jsx("div",{className:"h-12 w-12 rounded-full bg-white text-[#0B3D91] flex items-center justify-center text-2xl mb-2",children:$.jsx("i",{className:"fab fa-github"})}),$.jsx("span",{className:"text-sm",children:"GitHub"})]}),$.jsxs("a",{href:"https://www.instagram.com/fs_quant/?hl=en",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[$.jsx("div",{className:"h-12 w-12 rounded-full bg-white text-[#0B3D91] flex items-center justify-center text-2xl mb-2",children:$.jsx("i",{className:"fab fa-instagram"})}),$.jsx("span",{className:"text-sm",children:"Instagram"})]}),$.jsxs("div",{className:"flex flex-col items-center",children:[$.jsx("div",{className:"h-12 w-12 rounded-full bg-white text-[#0B3D91] flex items-center justify-center text-2xl mb-2",children:$.jsx("i",{className:"fab fa-twitter"})}),$.jsx("span",{className:"text-sm",children:"Twitter"})]})]})]})]})})};function sw({activeSeason:e}){const[t,n]=Ke.useState("ADX"),[r,s]=Ke.useState([]),[a,i]=Ke.useState({}),[o,l]=Ke.useState(!1),[c,d]=Ke.useState("custom_badge"),[u,m]=Ke.useState("Custom Badge"),[h,f]=Ke.useState("Awarded by admin"),[p,g]=Ke.useState(""),[v,x]=Ke.useState(0);Ke.useEffect(()=>{let n=!1;return async function(){var r,a;if(e){l(!0);try{const e="https://fsqds-production.yadavkartik-arbeit.workers.dev",i=[{url:"ADX"===t?`${e}/api/leaderboards/adx`:`${e}/api/leaderboards/hti`}];try{const{data:e}=await Ga.auth.getSession(),n=(null==(r=null==e?void 0:e.session)?void 0:r.access_token)||"",s="https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/"+("ADX"===t?"adx_leaderboard":"get_hti_leaderboard");i.push({url:s,headers:n?{Authorization:`Bearer ${n}`}:void 0})}catch{}let o=null;for(const t of i)try{const e=await fetch(t.url,{method:"GET",headers:{Accept:"application/json",...t.headers||{}}}),n=await e.json().catch(()=>({})),r=(null==(a=null==n?void 0:n.data)?void 0:a.rows)||(null==n?void 0:n.rows)||[];if(Array.isArray(r)&&r.length>=0){o=r;break}}catch{}n||s(o||[])}catch(Iw){}finally{n||l(!1)}}else s([])}(),()=>{n=!0}},[t,e]);const y=r.length>0&&r.every(e=>a[e.user_id]);return $.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Leaderboard"}),$.jsxs("select",{value:t,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border rounded-md",children:[$.jsx("option",{value:"ADX",children:"ADX (Axe the DAX)"}),$.jsx("option",{value:"HTI",children:"HTI (Hack the Interview)"})]})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Badge Type (slug)"}),$.jsx("input",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Name"}),$.jsx("input",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Icon / URL"}),$.jsx("input",{value:p,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),$.jsxs("div",{className:"md:col-span-3",children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Description"}),$.jsx("input",{value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Points"}),$.jsx("input",{type:"number",value:v,onChange:e=>x(parseInt(e.target.value||"0")),className:"w-full px-3 py-2 border rounded-md"})]})]}),$.jsx("div",{className:"overflow-x-auto",children:$.jsxs("table",{className:"min-w-full text-sm",children:[$.jsx("thead",{children:$.jsxs("tr",{className:"text-left border-b",children:[$.jsx("th",{className:"px-3 py-2",children:$.jsx("input",{type:"checkbox",checked:y,onChange:e=>(e=>{const t={};e&&r.forEach(e=>{t[e.user_id]=!0}),i(t)})(e.target.checked)})}),$.jsx("th",{className:"px-3 py-2",children:"User"}),$.jsx("th",{className:"px-3 py-2",children:"Score"})]})}),$.jsx("tbody",{children:o?$.jsx("tr",{children:$.jsx("td",{className:"px-3 py-4",colSpan:3,children:"Loading"})}):0===r.length?$.jsx("tr",{children:$.jsx("td",{className:"px-3 py-4 text-neutral-500",colSpan:3,children:"No rows"})}):r.map((e,n)=>{var r,s;return $.jsxs("tr",{className:"border-b",children:[$.jsx("td",{className:"px-3 py-2",children:$.jsx("input",{type:"checkbox",checked:!!a[e.user_id],onChange:t=>i(n=>({...n,[e.user_id]:t.target.checked}))})}),$.jsx("td",{className:"px-3 py-2",children:e.email||e.user_id}),$.jsx("td",{className:"px-3 py-2",children:"ADX"===t?(null==(s=null==(r=null==e?void 0:e.pnl_pct)?void 0:r.toFixed)?void 0:s.call(r,2))??"-":(null==e?void 0:e.total_points)??"-"})]},`${e.user_id}-${n}`)})})]})}),$.jsx("div",{className:"flex justify-end",children:$.jsx("button",{onClick:async function(){var n;if(!e)return;const s=r.filter(e=>a[e.user_id]).map(e=>e.user_id);if(0!==s.length)try{const{data:r}=await Ga.auth.getSession(),a=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_awards_badges",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(n=null==r?void 0:r.session)?void 0:n.access_token}`},body:JSON.stringify({entity:"badge",action:"bulk_award",data:{season_id:e.id,user_ids:s,badge_type:c,name:u,description:h,icon_url:p,points:v,criteria:{leaderboard:t}}})}),o=await a.json();if(!a.ok||!(null==o?void 0:o.success))throw new Error((null==o?void 0:o.error)||"Failed to award badges");Ba.success(`Awarded '${u}' to ${s.length} users on ${t} leaderboard`),i({})}catch(Iw){Ba.error((null==Iw?void 0:Iw.message)||"Failed to award badges")}},disabled:0===Object.values(a).filter(Boolean).length||!e,className:"px-4 py-2 bg-[#0B3D91] text-white rounded-md hover:bg-[#082D69]",children:"Award to Selected"})})]})}function aw({user:e,onLogout:t}){var n;Za();const[r,s]=Ke.useState("hti"),[a,i]=Ke.useState(!1),[o,l]=Ke.useState(null),[c,d]=Ke.useState([]),[u,m]=Ke.useState(null),[h,f]=Ke.useState({kind:"string",points:10,is_active:!0,title:"",tags:[]}),[p,g]=Ke.useState([]),[v,x]=Ke.useState(null),[y,b]=Ke.useState({is_active:!0}),[w,j]=Ke.useState([]),[N,k]=Ke.useState({}),[S,_]=Ke.useState([]),[E,D]=Ke.useState(null),[T,M]=Ke.useState({status:"upcoming"});Ke.useEffect(()=>{e&&(async()=>{const{data:n}=await Ga.from("user_profiles").select("is_admin").eq("user_id",e.id).single();(null==n?void 0:n.is_admin)||(Ba.error("Access denied: Admin privileges required"),t())})()},[e,t]),Ke.useEffect(()=>{(async()=>{const{data:e}=await Ga.from("seasons").select("*").order("starts_at",{ascending:!1});if(e){_(e);const t=e.find(e=>"active"===e.status);t&&l(t)}})()},[]),Ke.useEffect(()=>{if(!o)return;(async()=>{i(!0);try{switch(r){case"hti":const{data:e}=await Ga.from("hti_questions").select("*").eq("season_id",o.id).order("release_at",{ascending:!0});e&&d(e);break;case"adx":const{data:t}=await Ga.from("adx_tickers").select("*").eq("season_id",o.id).order("symbol",{ascending:!0});t&&g(t);break;case"revenue":const{data:n}=await Ga.from("adx_tickers").select("*").eq("season_id",o.id).eq("is_active",!0).order("symbol");j(n||[]);const{data:r}=await Ga.from("adx_revenue_actuals").select("symbol, actual_value").eq("season_id",o.id),s={};(r||[]).forEach(e=>{s[e.symbol]=null!=e.actual_value?String(e.actual_value):""}),k(s)}}catch(e){Ba.error("Failed to load data")}finally{i(!1)}})()},[r,o]);const C=async()=>{var e;if(o)try{const{data:t}=await Ga.auth.getSession(),n=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_hti_questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==t?void 0:t.session)?void 0:e.access_token}`},body:JSON.stringify({action:"list",data:{season_id:o.id}})}),r=await n.json();n.ok&&r.success&&d(r.questions||[])}catch(t){}},O=async()=>{var e;if(o)try{const{data:t}=await Ga.auth.getSession(),n=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_adx_tickers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==t?void 0:t.session)?void 0:e.access_token}`},body:JSON.stringify({action:"list",data:{season_id:o.id}})}),r=await n.json();n.ok&&r.success&&g(r.tickers||[])}catch(t){}};return $.jsxs("div",{className:"min-h-screen bg-[#F8F9FA]",children:[$.jsx("div",{className:"bg-white shadow-sm border-b border-neutral-200",children:$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:$.jsxs("div",{className:"flex justify-between items-center",children:[$.jsxs("div",{className:"flex items-center space-x-4",children:[$.jsx(Wn,{className:"w-8 h-8 text-[#0B3D91]"}),$.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Admin Panel"}),o&&$.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[o.name," - ",o.status]})]}),$.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[$.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})}),$.jsx("div",{className:"bg-white border-b border-neutral-200",children:$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:$.jsx("nav",{className:"flex space-x-8",children:[{id:"hti",label:"HTI Questions",icon:Zn},{id:"adx",label:"ADX Tickers",icon:Qn},{id:"revenue",label:"Revenues",icon:On},{id:"badges",label:"Award Badges",icon:vn},{id:"seasons",label:"Seasons",icon:bn}].map(e=>$.jsxs("button",{onClick:()=>s(e.id),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors "+(r===e.id?"border-[#0B3D91] text-[#0B3D91]":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[$.jsx(e.icon,{className:"w-4 h-4 mr-2"}),e.label]},e.id))})})}),$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a?$.jsx("div",{className:"flex justify-center items-center py-12",children:$.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#0B3D91]"})}):$.jsxs(rn,{mode:"wait",children:["hti"===r&&$.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[$.jsx("h3",{className:"text-lg font-semibold mb-4",children:u?"Edit Question":"Add New Question"}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Title (optional)"}),$.jsx("input",{type:"text",value:h.title||"",onChange:e=>f({...h,title:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., Bayes Rule Warm-up"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Question Text"}),$.jsx("textarea",{value:h.question_text||"",onChange:e=>f({...h,question_text:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",rows:3})]}),$.jsxs("div",{className:"md:col-span-2",children:[$.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["Tags",$.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(Comma-separated, e.g., probability, bayes)"})]}),$.jsx("input",{type:"text",value:(h.tags||[]).join(", "),onChange:e=>f({...h,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., probability, bayes"}),h.tags&&h.tags.length>0&&$.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.tags.map((e,t)=>$.jsx("span",{className:"px-2 py-1 text-xs bg-neutral-100 text-neutral-800 rounded",children:e},t))})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Question Type"}),$.jsxs("select",{value:h.kind||"string",onChange:e=>f({...h,kind:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",children:[$.jsx("option",{value:"string",children:"Text"}),$.jsx("option",{value:"number",children:"Number"}),$.jsx("option",{value:"mcq",children:"Multiple Choice"})]})]}),$.jsxs("div",{children:[$.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["Correct Answer","mcq"===h.kind&&$.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(Enter the index: 0 for first option, 1 for second, etc.)"}),"number"===h.kind&&$.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(Enter the exact numeric answer)"}),"string"===h.kind&&$.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(Enter the exact text answer)"})]}),$.jsx("input",{type:"number"===h.kind?"number":"text",value:h.correct_answer||"",onChange:e=>f({...h,correct_answer:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"mcq"===h.kind?"e.g., 0 (for first option)":"number"===h.kind?"e.g., 42":"e.g., Python"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Points"}),$.jsx("input",{type:"number",value:h.points||10,onChange:e=>f({...h,points:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Release At"}),$.jsx("input",{type:"datetime-local",value:h.release_at||"",onChange:e=>f({...h,release_at:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Close At"}),$.jsx("input",{type:"datetime-local",value:h.close_at||"",onChange:e=>f({...h,close_at:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]}),"mcq"===h.kind&&$.jsxs("div",{className:"md:col-span-2",children:[$.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["Multiple Choice Options",$.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(One per line; commas are allowed inside an option)"})]}),$.jsx("textarea",{value:(null==(n=h.choices)?void 0:n.join("\n"))||"",onChange:e=>f({...h,choices:e.target.value.split("\n").map(e=>e.trim()).filter(e=>e.length>0)}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"Enter each option on a new line\nExample:\nOption A, with comma\nOption B (another example)",rows:4}),h.choices&&h.choices.length>0&&$.jsxs("div",{className:"mt-2 p-3 bg-neutral-50 rounded-md",children:[$.jsx("p",{className:"text-xs font-medium text-neutral-600 mb-1",children:"Preview:"}),h.choices.map((e,t)=>$.jsxs("div",{className:"text-sm text-neutral-700",children:[t,": ",e]},t))]})]}),$.jsxs("div",{className:"flex items-center",children:[$.jsx("input",{type:"checkbox",id:"is_active",checked:h.is_active||!1,onChange:e=>f({...h,is_active:e.target.checked}),className:"mr-2"}),$.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-neutral-700",children:"Active"})]})]}),$.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[u&&$.jsx("button",{onClick:()=>{m(null),f({kind:"string",points:10,is_active:!0})},className:"px-4 py-2 text-neutral-600 hover:bg-neutral-100 rounded-md transition-colors",children:"Cancel"}),$.jsxs("button",{onClick:async()=>{var e;if(o){i(!0);try{let t={};h.question_text&&(t.question=h.question_text),"mcq"===h.kind&&h.choices&&(t.options=h.choices.map((e,t)=>({index:t,label:e})));let n={};"mcq"===h.kind?n.index=parseInt(h.correct_answer||"0"):"number"===h.kind?n.value=parseFloat(h.correct_answer||"0"):n.value=h.correct_answer||"";const r={season_id:o.id,n:h.n||c.length+1,kind:h.kind||"string",choices:t,correct:n,release_at:h.release_at||(new Date).toISOString(),is_active:!1!==h.is_active,points:Number.isFinite(h.points)?Number(h.points):10,title:(h.title??"").toString(),tags:Array.isArray(h.tags)?h.tags:[]},{data:s}=await Ga.auth.getSession(),a=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_hti_questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==s?void 0:s.session)?void 0:e.access_token}`},body:JSON.stringify({action:u?"update":"create",data:u?{...r,id:u.id}:r})}),i=await a.json().catch(()=>({}));if(a.ok&&i.success)Ba.success(u?"Question updated successfully":"Question created successfully");else{if(u){const{error:e}=await Ga.from("hti_questions").update({kind:r.kind,choices:r.choices,correct:r.correct,release_at:r.release_at,is_active:r.is_active,points:r.points,title:r.title,tags:r.tags}).eq("id",u.id);if(e)throw e}else{const{error:e}=await Ga.from("hti_questions").insert([{...r}]);if(e)throw e}Ba.success(u?"Question updated successfully":"Question created successfully")}m(null),f({kind:"string",points:10,is_active:!0,title:"",tags:[]}),await C()}catch(t){Ba.error(t.message||"Failed to save question")}finally{i(!1)}}},className:"px-4 py-2 bg-[#0B3D91] text-white rounded-md hover:bg-[#082D69] transition-colors",children:[$.jsx(Bn,{className:"w-4 h-4 inline mr-2"}),u?"Update":"Create"," Question"]})]})]}),$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[$.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:$.jsx("h3",{className:"text-lg font-semibold",children:"Current Questions"})}),$.jsx("div",{className:"divide-y divide-neutral-200",children:c.map(e=>{let t="No question text",n="";try{const r="string"==typeof e.choices?JSON.parse(e.choices):e.choices;t=(null==r?void 0:r.question)||t;const s="string"==typeof e.correct?JSON.parse(e.correct):e.correct;n="mcq"===e.kind?`Option ${(null==s?void 0:s.index)+1}`:String((null==s?void 0:s.value)||"")}catch(Iw){}return $.jsx("div",{className:"p-4 hover:bg-neutral-50",children:$.jsxs("div",{className:"flex justify-between items-start",children:[$.jsxs("div",{className:"flex-1",children:[$.jsx("div",{className:"font-medium text-neutral-900",dangerouslySetInnerHTML:{__html:Kb(t)}}),$.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-neutral-600",children:[$.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded",children:e.kind}),e.title&&$.jsxs("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-800 rounded",children:["Title: ",e.title]}),Array.isArray(e.tags)&&e.tags.length>0&&$.jsxs($.Fragment,{children:[$.jsx("span",{className:"text-neutral-500",children:"Tags:"}),e.tags.map((e,t)=>$.jsx("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-800 rounded",children:e},t))]}),$.jsxs("span",{children:[e.points||10," points"]}),$.jsxs("span",{children:["Answer: ",n]}),$.jsx("span",{className:e.is_active?"text-green-600":"text-red-600",children:e.is_active?"Active":"Inactive"})]}),$.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-neutral-500",children:[$.jsxs("span",{children:["Release: ",rt(new Date(e.release_at),"MMM dd, yyyy HH:mm")]}),e.close_at&&$.jsxs("span",{children:["Close: ",rt(new Date(e.close_at),"MMM dd, yyyy HH:mm")]})]})]}),$.jsxs("div",{className:"flex space-x-2 ml-4",children:[$.jsx("button",{onClick:()=>{var t;m(e);try{const n="string"==typeof e.choices?JSON.parse(e.choices):e.choices,r="string"==typeof e.correct?JSON.parse(e.correct):e.correct;let s={...e,question_text:(null==n?void 0:n.question)||"",title:e.title||"",tags:Array.isArray(e.tags)?e.tags:[],kind:e.kind,points:e.points||10,is_active:e.is_active,release_at:e.release_at?new Date(e.release_at).toISOString().slice(0,16):"",close_at:e.close_at?new Date(e.close_at).toISOString().slice(0,16):""};"mcq"===e.kind?(s.choices=(null==(t=null==n?void 0:n.options)?void 0:t.map(e=>e.label))||[],s.correct_answer=String((null==r?void 0:r.index)||0)):(e.kind,s.correct_answer=String((null==r?void 0:r.value)||"")),f(s)}catch(Iw){f({...e,question_text:"",title:e.title||"",tags:Array.isArray(e.tags)?e.tags:[],correct_answer:"",choices:[]})}},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:$.jsx(Hn,{className:"w-4 h-4"})}),$.jsx("button",{onClick:()=>(async e=>{var t;if(confirm("Are you sure you want to delete this question?")){i(!0);try{const{data:n}=await Ga.auth.getSession(),r=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_hti_questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(t=null==n?void 0:n.session)?void 0:t.access_token}`},body:JSON.stringify({action:"delete",data:{id:e}})}),s=await r.json();if(!r.ok||!s.success)throw new Error(s.error||"Failed to delete question");Ba.success("Question deleted"),d(c.filter(t=>t.id!==e))}catch(n){Ba.error(n.message||"Failed to delete question")}finally{i(!1)}}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:$.jsx(Gn,{className:"w-4 h-4"})})]})]})},e.id)})})]})]}),"adx"===r&&$.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[$.jsx("h3",{className:"text-lg font-semibold mb-4",children:v?"Edit Ticker":"Add New Ticker"}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Symbol"}),$.jsx("input",{type:"text",value:y.symbol||"",onChange:e=>b({...y,symbol:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., SAP"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Company Name"}),$.jsx("input",{type:"text",value:y.name||"",onChange:e=>b({...y,name:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., SAP SE"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Exchange"}),$.jsx("input",{type:"text",value:y.exchange||"",onChange:e=>b({...y,exchange:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., DE, FR"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"US ADR Symbol"}),$.jsx("input",{type:"text",value:y.us_adr_symbol||"",onChange:e=>b({...y,us_adr_symbol:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., SAP (for US listing)"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Logo URL (optional)"}),$.jsx("input",{type:"text",value:y.logo_url||"",onChange:e=>b({...y,logo_url:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"https://..."})]}),$.jsxs("div",{className:"flex items-center",children:[$.jsx("input",{type:"checkbox",id:"ticker_active",checked:y.is_active||!1,onChange:e=>b({...y,is_active:e.target.checked}),className:"mr-2"}),$.jsx("label",{htmlFor:"ticker_active",className:"text-sm font-medium text-neutral-700",children:"Active"})]})]}),$.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[v&&$.jsx("button",{onClick:()=>{x(null),b({band:"top",is_active:!0})},className:"px-4 py-2 text-neutral-600 hover:bg-neutral-100 rounded-md transition-colors",children:"Cancel"}),$.jsxs("button",{onClick:async()=>{var e;if(o){i(!0);try{const t={...y,season_id:o.id},{data:n}=await Ga.auth.getSession(),r=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_adx_tickers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==n?void 0:n.session)?void 0:e.access_token}`},body:JSON.stringify({action:v?"update":"create",data:v?{...t,id:v.id}:t})}),s=await r.json();if(!r.ok||!s.success)throw new Error(s.error||"Failed to save ticker");Ba.success(v?"Ticker updated successfully":"Ticker created successfully"),x(null),b({is_active:!0}),await O()}catch(t){Ba.error(t.message||"Failed to save ticker")}finally{i(!1)}}},className:"px-4 py-2 bg-[#0B3D91] text-white rounded-md hover:bg-[#082D69] transition-colors",children:[$.jsx(Bn,{className:"w-4 h-4 inline mr-2"}),v?"Update":"Create"," Ticker"]})]})]}),$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[$.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[$.jsx("h3",{className:"text-lg font-semibold",children:"Current Tickers"}),$.jsxs("div",{className:"flex space-x-4 mt-2 text-sm",children:[$.jsxs("span",{className:"text-neutral-600",children:["Active: ",p.filter(e=>e.is_active).length]}),$.jsxs("span",{className:"text-neutral-600",children:["Total: ",p.length]})]})]}),$.jsx("div",{className:"divide-y divide-neutral-200",children:p.map(e=>$.jsx("div",{className:"p-4 hover:bg-neutral-50",children:$.jsxs("div",{className:"flex justify-between items-center",children:[$.jsxs("div",{children:[$.jsx("span",{className:"font-medium text-neutral-900",children:e.symbol}),$.jsx("span",{className:"ml-2 text-neutral-600",children:e.name}),$.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.exchange&&$.jsxs("span",{className:"text-xs text-neutral-500",children:["Exch: ",e.exchange]}),e.us_adr_symbol&&$.jsxs("span",{className:"text-xs text-neutral-500",children:["US ADR: ",e.us_adr_symbol]}),e.logo_url&&$.jsxs("span",{className:"text-xs text-neutral-500 truncate max-w-[240px]",children:["Logo: ",e.logo_url]}),$.jsx("span",{className:"text-xs "+(e.is_active?"text-green-600":"text-red-600"),children:e.is_active?"Active":"Inactive"})]})]}),$.jsxs("div",{className:"flex space-x-2",children:[$.jsx("button",{onClick:()=>{x(e),b({id:e.id,symbol:e.symbol,name:e.name,is_active:e.is_active,us_adr_symbol:e.us_adr_symbol,exchange:e.exchange,logo_url:e.logo_url||""})},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:$.jsx(Hn,{className:"w-4 h-4"})}),$.jsx("button",{onClick:()=>(async e=>{var t;if(confirm("Are you sure you want to delete this ticker?")){i(!0);try{const{data:n}=await Ga.auth.getSession(),r=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_adx_tickers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(t=null==n?void 0:n.session)?void 0:t.access_token}`},body:JSON.stringify({action:"delete",data:{id:e}})}),s=await r.json();if(!r.ok||!s.success)throw new Error(s.error||"Failed to delete ticker");Ba.success("Ticker deleted"),g(p.filter(t=>t.id!==e))}catch(n){Ba.error(n.message||"Failed to delete ticker")}finally{i(!1)}}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:$.jsx(Gn,{className:"w-4 h-4"})})]})]})},e.id))})]})]}),"revenue"===r&&$.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[$.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Season"}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items:end",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Select Season"}),$.jsxs("select",{value:(null==o?void 0:o.id)||"",onChange:e=>{const t=S.find(t=>t.id===e.target.value)||null;l(t)},className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",children:[0===S.length&&$.jsx("option",{value:"",children:"No seasons"}),S.map(e=>$.jsxs("option",{value:e.id,children:[e.name," - ",e.status]},e.id))]})]}),$.jsx("div",{className:"md:col-span-2 text-sm text-neutral-600",children:"Enter realized revenues (in billions) for each ticker in the selected season. Changes are unlocked and can be saved anytime."})]})]}),$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[$.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Record Actual Revenues"}),$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(e=>$.jsxs("div",{className:"p-3 border rounded-md",children:[$.jsxs("div",{className:"text-sm font-medium mb-1",children:[e.symbol," ",$.jsx("span",{className:"text-neutral-500",children:e.name})]}),$.jsx("input",{type:"number",step:"0.01",placeholder:"Revenue (B)",value:N[e.symbol]||"",onChange:t=>k(n=>({...n,[e.symbol]:t.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"}),$.jsx("div",{className:"flex justify-end mt-2",children:$.jsx("button",{onClick:async()=>{var t;if(!o)return void Ba.error("Select a season");const n=N[e.symbol];if(""===n||isNaN(Number(n)))Ba.error("Enter a valid number");else try{const{data:r}=await Ga.auth.getSession(),s=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/record_revenue_actuals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(t=null==r?void 0:r.session)?void 0:t.access_token}`},body:JSON.stringify({seasonId:o.id,items:[{symbol:e.symbol,actual_value:Number(n)}]})}),a=await s.json();s.ok&&a.ok?Ba.success(`Recorded for ${e.symbol}`):Ba.error(a.error||"Failed to record")}catch(Iw){Ba.error("Failed to record")}},className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})})]},e.id))}),$.jsx("div",{className:"flex justify-end mt-4",children:$.jsx("button",{onClick:async()=>{var e;if(!o)return void Ba.error("Select a season");const t=Object.entries(N).filter(([,e])=>""!==e&&!isNaN(Number(e))).map(([e,t])=>({symbol:e,actual_value:Number(t)}));if(0!==t.length)try{const{data:n}=await Ga.auth.getSession(),r=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/record_revenue_actuals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==n?void 0:n.session)?void 0:e.access_token}`},body:JSON.stringify({seasonId:o.id,items:t})}),s=await r.json();r.ok&&s.ok?Ba.success("Actual revenues recorded. Season MSE calculation triggered."):Ba.error(s.error||"Failed to record actuals")}catch(Iw){Ba.error("Failed to record actuals")}else Ba.error("Enter at least one actual")},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Save Actuals for Season"})})]})]}),"badges"===r&&$.jsx(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[$.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Award Badges by Leaderboard"}),$.jsx(sw,{activeSeason:o})]})}),"seasons"===r&&$.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[$.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Season Management"}),$.jsxs("div",{className:"space-y-4",children:[$.jsxs("button",{onClick:async()=>{var e;if(o&&"active"===o.status){if(confirm("Are you sure you want to settle the current season? This will mark winners and reset for the next season."))try{const t=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/season_rollover",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=(await Ga.auth.getSession()).data.session)?void 0:e.access_token}`},body:JSON.stringify({seasonId:o.id})}),n=await t.json();if(n.ok){Ba.success("Season settled successfully!");const{data:e}=await Ga.from("seasons").select("*").order("starts_at",{ascending:!1});if(e){_(e);const t=e.find(e=>"active"===e.status);t&&l(t)}}else Ba.error(n.error||"Failed to settle season")}catch(t){Ba.error("Failed to settle season")}}else Ba.error("No active season to settle")},className:"px-6 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",disabled:!o||"active"!==o.status,children:[$.jsx(Yn,{className:"w-5 h-5 inline mr-2"}),"Settle Current Season & Start New"]}),$.jsx("p",{className:"text-sm text-neutral-600",children:"This will mark winners, award badges, and prepare the next season."})]})]}),$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[$.jsx("h3",{className:"text-lg font-semibold mb-4",children:E?"Edit Season":"Create New Season"}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Season Name"}),$.jsx("input",{type:"text",value:T.name||"",onChange:e=>M({...T,name:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., Winter 2024"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Status"}),$.jsxs("select",{value:T.status||"upcoming",onChange:e=>M({...T,status:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",children:[$.jsx("option",{value:"upcoming",children:"Upcoming"}),$.jsx("option",{value:"active",children:"Active"}),$.jsx("option",{value:"settling",children:"Settling"}),$.jsx("option",{value:"closed",children:"Closed"})]})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Season Code"}),$.jsx("input",{type:"text",value:T.code||"",onChange:e=>M({...T,code:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., WINTER_2024"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Start Date"}),$.jsx("input",{type:"date",value:T.starts_at||"",onChange:e=>M({...T,starts_at:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"End Date"}),$.jsx("input",{type:"date",value:T.ends_at||"",onChange:e=>M({...T,ends_at:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]})]}),$.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[E&&$.jsx("button",{onClick:()=>{D(null),M({status:"upcoming"})},className:"px-4 py-2 text-neutral-600 hover:bg-neutral-100 rounded-md transition-colors",children:"Cancel"}),$.jsxs("button",{onClick:async()=>{try{const e=e=>{const t=(e.code||e.name||"").trim().toUpperCase();return t?t.replace(/[^A-Z0-9]+/g,"_").replace(/^_+|_+$/g,""):""},t={name:T.name,code:e(T),starts_at:T.starts_at,ends_at:T.ends_at,status:T.status||"upcoming"};if(!(t.name&&t.code&&t.starts_at&&t.ends_at))return void Ba.error("Please provide name, code, start and end dates");if(E){const{error:e}=await Ga.from("seasons").update(t).eq("id",E.id);if(e){if(e)throw new Error(e.message)}else Ba.success("Season updated successfully"),D(null)}else{const{error:e}=await Ga.from("seasons").insert(t);if(e){if(e)throw new Error(e.message)}else Ba.success("Season created successfully"),M({status:"upcoming"})}const{data:n}=await Ga.from("seasons").select("*").order("starts_at",{ascending:!1});n&&_(n)}catch(e){Ba.error((null==e?void 0:e.message)||"Failed to save season")}},className:"px-4 py-2 bg-[#0B3D91] text-white rounded-md hover:bg-[#082D69] transition-colors",children:[$.jsx(Bn,{className:"w-4 h-4 inline mr-2"}),E?"Update":"Create"," Season"]})]})]}),$.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[$.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:$.jsx("h3",{className:"text-lg font-semibold",children:"All Seasons"})}),$.jsx("div",{className:"divide-y divide-neutral-200",children:S.map(e=>$.jsx("div",{className:"p-4 hover:bg-neutral-50",children:$.jsxs("div",{className:"flex justify-between items-center",children:[$.jsxs("div",{children:[$.jsx("span",{className:"font-medium text-neutral-900",children:e.name}),$.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[$.jsx("span",{className:"px-2 py-1 rounded text-xs "+("active"===e.status?"bg-green-100 text-green-800":"upcoming"===e.status?"bg-blue-100 text-blue-800":"settling"===e.status?"bg-yellow-100 text-yellow-800":"bg-neutral-100 text-neutral-800"),children:e.status}),$.jsx("span",{className:"text-xs text-neutral-500",children:e.starts_at&&e.ends_at?`${rt(new Date(e.starts_at),"MMM dd, yyyy")} - ${rt(new Date(e.ends_at),"MMM dd, yyyy")}`:"No dates set"})]})]}),$.jsx("button",{onClick:()=>{D(e),M(e)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:$.jsx(Hn,{className:"w-4 h-4"})})]})},e.id))})]})]})]})})]})}const iw=()=>{const[,e]=Lr(),[t,n]=Ke.useState(null),[r,s]=Ke.useState(!1),[a,i]=Ke.useState(!0);Ke.useEffect(()=>{(async()=>{const{data:{user:t}}=await Ga.auth.getUser();if(!t)return Ba.error("Please sign in to access the admin panel"),void e("/leaderboard");n(t);const{data:r}=await Ga.from("user_profiles").select("is_admin").eq("user_id",t.id).single();if(!(null==r?void 0:r.is_admin))return Ba.error("Access denied: Admin privileges required"),void e("/");s(!0),i(!1)})()},[e]);return a?$.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0B3D91]"})}):r?$.jsx(aw,{user:t,onLogout:async()=>{await Ga.auth.signOut(),e("/")}}):null},ow=Ke.forwardRef(({className:e,...t},n)=>$.jsx("div",{ref:n,"data-slot":"card",className:Da("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t}));ow.displayName="Card";const lw=Ke.forwardRef(({className:e,...t},n)=>$.jsx("div",{ref:n,"data-slot":"card-header",className:Da("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t}));lw.displayName="CardHeader";const cw=Ke.forwardRef(({className:e,...t},n)=>$.jsx("h4",{ref:n,"data-slot":"card-title",className:Da("leading-none",e),...t}));cw.displayName="CardTitle";const dw=Ke.forwardRef(({className:e,...t},n)=>$.jsx("p",{ref:n,"data-slot":"card-description",className:Da("text-muted-foreground",e),...t}));dw.displayName="CardDescription";Ke.forwardRef(({className:e,...t},n)=>$.jsx("div",{ref:n,"data-slot":"card-action",className:Da("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...t})).displayName="CardAction";const uw=Ke.forwardRef(({className:e,...t},n)=>$.jsx("div",{ref:n,"data-slot":"card-content",className:Da("px-6 [&:last-child]:pb-6",e),...t}));uw.displayName="CardContent";Ke.forwardRef(({className:e,...t},n)=>$.jsx("div",{ref:n,"data-slot":"card-footer",className:Da("flex items-center px-6 pb-6 [.border-t]:pt-6",e),...t})).displayName="CardFooter";const mw=Ke.forwardRef(({className:e,type:t,...n},r)=>$.jsx("input",{type:t,className:Da("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));mw.displayName="Input";const hw=Ke.forwardRef(({className:e,...t},n)=>$.jsx(ge,{ref:n,className:Da("flex flex-col gap-2",e),...t}));hw.displayName=ge.displayName;const fw=Ke.forwardRef(({className:e,...t},n)=>$.jsx(ve,{ref:n,className:Da("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t}));fw.displayName=ve.displayName;const pw=Ke.forwardRef(({className:e,...t},n)=>$.jsx(xe,{ref:n,className:Da("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t}));pw.displayName=xe.displayName;const gw=Ke.forwardRef(({className:e,...t},n)=>$.jsx(ye,{ref:n,className:Da("flex-1 outline-none",e),...t}));function vw(){const{signIn:e,signUp:t}=ti(),{t:n}=Za(),[,r]=Lr(),[s,a]=Ke.useState(!1),[i,o]=Ke.useState(""),[l,c]=Ke.useState(""),[d,u]=Ke.useState(""),[m,h]=Ke.useState(""),[f,p]=Ke.useState(""),[g,v]=Ke.useState("");return $.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:$.jsxs("div",{className:"max-w-md w-full space-y-8",children:[$.jsxs("div",{children:[$.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:n("welcomeToDataScienceFrontier")}),$.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:n("signInOrCreateAccount")})]}),$.jsx(ow,{className:"mt-8",children:$.jsxs(hw,{defaultValue:"signin",className:"w-full",children:[$.jsxs(fw,{className:"grid w-full grid-cols-2",children:[$.jsx(pw,{value:"signin",children:n("signIn")}),$.jsx(pw,{value:"signup",children:n("signUp")})]}),$.jsxs(gw,{value:"signin",children:[$.jsxs(lw,{children:[$.jsx(cw,{children:n("signIn")}),$.jsx(dw,{children:n("signInDescription")})]}),$.jsx(uw,{children:$.jsxs("form",{onSubmit:async t=>{t.preventDefault(),a(!0);try{const{error:t}=await e(i,l);t?Ba.error(t.message||n("loginError")):(Ba.success(n("loginSuccess")),r("/leaderboard"))}catch(s){Ba.error(n("error"))}finally{a(!1)}},className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"signin-email",children:n("email")}),$.jsx(mw,{id:"signin-email",type:"email",placeholder:"name@example.com",value:i,onChange:e=>o(e.target.value),required:!0,disabled:s})]}),$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"signin-password",children:n("password")}),$.jsx(mw,{id:"signin-password",type:"password",value:l,onChange:e=>c(e.target.value),required:!0,disabled:s})]}),$.jsx(fi,{type:"submit",className:"w-full",disabled:s,children:n(s?"loading":"signIn")})]})})]}),$.jsxs(gw,{value:"signup",children:[$.jsxs(lw,{children:[$.jsx(cw,{children:n("signUp")}),$.jsx(dw,{children:n("signUpDescription")})]}),$.jsx(uw,{children:$.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),m===g)if(m.length<6)Ba.error(n("passwordTooShort"));else{a(!0);try{const{error:e}=await t(d,m,f);e?Ba.error(e.message||n("signupError")):(Ba.success(n("signupSuccess")),r("/leaderboard"))}catch(s){Ba.error(n("error"))}finally{a(!1)}}else Ba.error(n("passwordsMustMatch"))},className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"signup-username",children:n("username")}),$.jsx(mw,{id:"signup-username",type:"text",placeholder:"johndoe",value:f,onChange:e=>p(e.target.value),required:!0,disabled:s})]}),$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"signup-email",children:n("email")}),$.jsx(mw,{id:"signup-email",type:"email",placeholder:"name@example.com",value:d,onChange:e=>u(e.target.value),required:!0,disabled:s})]}),$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"signup-password",children:n("password")}),$.jsx(mw,{id:"signup-password",type:"password",value:m,onChange:e=>h(e.target.value),required:!0,disabled:s,minLength:6})]}),$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"confirm-password",children:n("confirmPassword")}),$.jsx(mw,{id:"confirm-password",type:"password",value:g,onChange:e=>v(e.target.value),required:!0,disabled:s,minLength:6})]}),$.jsx(fi,{type:"submit",className:"w-full",disabled:s,children:n(s?"loading":"signUp")})]})})]})]})})]})})}function xw(){return $.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-neutral-900",children:$.jsx(ow,{className:"w-full max-w-md mx-4 bg-neutral-800 border-neutral-700",children:$.jsxs(uw,{className:"pt-6",children:[$.jsxs("div",{className:"flex mb-4 gap-2 items-center",children:[$.jsx(En,{className:"h-10 w-10 text-red-500"}),$.jsx("h1",{className:"text-2xl font-bold text-neutral-300",children:"404 Page Not Found"})]}),$.jsx("p",{className:"mt-4 text-neutral-500 mb-6",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),$.jsx(Br,{to:"/",children:$.jsxs(fi,{className:"w-full bg-[#0B3D91] hover:bg-[#092E6E] text-neutral-300",children:[$.jsx("i",{className:"fas fa-home mr-2"}),"Back to Home"]})})]})})})}function yw(){const[e,t]=Lr(),n=Ke.useMemo(()=>new URLSearchParams(window.location.search),[]),[r,s]=Ke.useState(!0),[a,i]=Ke.useState(!1),[o,l]=Ke.useState(null),[c,d]=Ke.useState(""),[u,m]=Ke.useState(""),[h,f]=Ke.useState(!1);Ke.useEffect(()=>{(async()=>{try{const e=n.get("token_hash")||n.get("token")||"",t=n.get("type")||"signup",r=n.get("email")||void 0;if(!e)return l("Missing token"),void s(!1);const a=[()=>Ga.auth.verifyOtp({type:t,token_hash:e,email:r}),()=>Ga.auth.verifyOtp({type:t,token:e,email:r}),()=>Ga.auth.verifyOtp({type:"email",token_hash:e,email:r}),()=>Ga.auth.verifyOtp({type:"email",token:e,email:r})];let o=!1,c=null;for(const n of a)try{const{data:e,error:t}=await n();if(t)throw t;o=!0;break}catch(Iw){c=Iw}if(!o)return l("Verification failed. Your link may have expired."),void s(!1);i(!0),s(!1),Ba.success("Email confirmed. Please set your password.")}catch(Iw){l("Unexpected error during verification."),s(!1)}})()},[]);return $.jsx("section",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:$.jsxs("div",{className:"w-full max-w-md bg-white border border-neutral-200 rounded-lg shadow p-6",children:[$.jsx("h1",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:"Account Confirmation"}),r&&$.jsx("p",{className:"text-neutral-600",children:"Verifying your email, please wait"}),!r&&o&&$.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded p-3",children:o}),!r&&a&&$.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c.length<6)Ba.error("Password must be at least 6 characters");else if(c===u){f(!0);try{const{error:e}=await Ga.auth.updateUser({password:c,data:{needs_password_reset:!1}});if(e)throw e;Ba.success("Password set successfully!"),setTimeout(()=>t("/"),500)}catch(n){Ba.error("Failed to set password. Please try again.")}finally{f(!1)}}else Ba.error("Passwords do not match")},className:"space-y-4 mt-4",children:[$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"password",children:"Set Password"}),$.jsx(mw,{id:"password",type:"password",value:c,onChange:e=>d(e.target.value),minLength:6,required:!0})]}),$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"confirm",children:"Confirm Password"}),$.jsx(mw,{id:"confirm",type:"password",value:u,onChange:e=>m(e.target.value),minLength:6,required:!0})]}),$.jsx(fi,{type:"submit",disabled:h,children:h?"Saving":"Save Password"})]})]})})}function bw(){const[e,t]=Ke.useState(""),[n,r]=Ke.useState(""),[s,a]=Ke.useState(!1),[i,o]=Ke.useState(!1);Ke.useEffect(()=>{(async()=>{const{data:e}=await Ga.auth.getSession();o(!!e.session)})()},[]);return $.jsx("section",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:$.jsxs("div",{className:"w-full max-w-md bg-white border border-neutral-200 rounded-lg shadow p-6",children:[$.jsx("h1",{className:"text-2xl font-semibold text-neutral-900 mb-2",children:"Set Password"}),!i&&$.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 rounded p-3 mb-3",children:"It looks like you are not signed in. If you came here from an email link and still see this, please open the link again."}),$.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),e.length<6)Ba.error("Password must be at least 6 characters");else if(e===n){a(!0);try{const{error:t}=await Ga.auth.updateUser({password:e,data:{needs_password_reset:!1}});if(t)throw t;Ba.success("Password updated! You can now sign in with your email and password.")}catch(r){Ba.error("Failed to update password. Please try again.")}finally{a(!1)}}else Ba.error("Passwords do not match")},className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"password",children:"New Password"}),$.jsx(mw,{id:"password",type:"password",value:e,onChange:e=>t(e.target.value),minLength:6,required:!0})]}),$.jsxs("div",{children:[$.jsx(Nx,{htmlFor:"confirm",children:"Confirm Password"}),$.jsx(mw,{id:"confirm",type:"password",value:n,onChange:e=>r(e.target.value),minLength:6,required:!0})]}),$.jsx(fi,{type:"submit",disabled:s,children:s?"Saving":"Save Password"})]})]})})}function ww(){const{language:e,setLanguage:t}=Za();return $.jsxs("div",{className:"relative inline-flex items-center bg-gray-100 rounded-full p-0.5",children:[$.jsxs(rn,{initial:!1,children:["de"===e&&$.jsx(sn.div,{layoutId:"lang-bg",className:"absolute left-0.5 w-[calc(50%-2px)] h-[calc(100%-4px)] bg-[#0B3D91] rounded-full",initial:!1,transition:{type:"spring",stiffness:400,damping:30}},"de-bg"),"en"===e&&$.jsx(sn.div,{layoutId:"lang-bg",className:"absolute right-0.5 w-[calc(50%-2px)] h-[calc(100%-4px)] bg-[#0B3D91] rounded-full",initial:!1,transition:{type:"spring",stiffness:400,damping:30}},"en-bg")]}),$.jsx("button",{onClick:()=>t("de"),className:"relative z-10 px-3 py-1 text-sm font-medium transition-colors duration-200 rounded-full "+("de"===e?"text-white":"text-neutral-600 hover:text-neutral-900"),children:"DE"}),$.jsx("button",{onClick:()=>t("en"),className:"relative z-10 px-3 py-1 text-sm font-medium transition-colors duration-200 rounded-full "+("en"===e?"text-white":"text-neutral-600 hover:text-neutral-900"),children:"EN"})]})}gw.displayName=ye.displayName;const jw=(e,t,n)=>{if(e&&"reportValidity"in e){const r=an(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Nw=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?jw(r.ref,n,e):r.refs&&r.refs.forEach(t=>jw(t,n,e))}},kw=(e,t)=>{t.shouldUseNativeValidation&&Nw(e,t);const n={};for(const r in e){const s=an(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(Sw(t.names||Object.keys(e),r)){const e=Object.assign({},an(n,r));on(e,"root",a),on(n,r,e)}else on(n,r,a)}return n},Sw=(e,t)=>e.some(e=>e.startsWith(t+"."));var _w=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[i]={message:o.message,type:o.code}}else n[i]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=n[i].types,c=l&&l[r.code];n[i]=ln(i,t,n,s,c?[].concat(c,r.message):r.message)}e.shift()}return n},Ew=function(e,t,n){return void 0===n&&(n={}),function(r,s,a){try{return Promise.resolve(function(s,i){try{var o=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return a.shouldUseNativeValidation&&Nw({},a),{errors:{},values:n.raw?r:e}})}catch(l){return i(l)}return o&&o.then?o.then(void 0,i):o}(0,function(e){if(t=e,Array.isArray(null==t?void 0:t.errors))return{values:{},errors:kw(_w(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};var t;throw e}))}catch(i){return Promise.reject(i)}}};function Dw(e){var t;if(e instanceof at)return{code:"NETWORK_ERROR",retryable:!0,status:503,messageKey:"auth.networkError"};if(e instanceof it)return{code:"INVALID_CREDENTIALS",retryable:!1,status:400,messageKey:"auth.invalidCredentials"};if(e instanceof ot)return{code:"WEAK_PASSWORD",retryable:!1,status:422,messageKey:"auth.weakPassword"};if(e instanceof lt)return{code:"SESSION_EXPIRED",retryable:!0,status:401,messageKey:"auth.sessionExpired"};if(e instanceof ct){if(429===e.status)return{code:"RATE_LIMITED",retryable:!0,status:429,messageKey:"auth.rateLimited"};if(401===e.status)return"string"==typeof e.message&&/confirm(ed)?/i.test(e.message)?{code:"EMAIL_NOT_CONFIRMED",retryable:!1,status:401,messageKey:"auth.emailNotConfirmed"}:{code:"INVALID_CREDENTIALS",retryable:!1,status:401,messageKey:"auth.invalidCredentials"};if(400===e.status||422===e.status){const t=String(e.message||"").toLowerCase();return t.includes("weak password")?{code:"WEAK_PASSWORD",retryable:!1,status:e.status,messageKey:"auth.weakPassword"}:t.includes("captcha")?{code:"CAPTCHA_FAILED",retryable:!0,status:e.status,messageKey:"auth.captchaFailed"}:t.includes("invalid")&&t.includes("domain")?{code:"INVALID_DOMAIN",retryable:!1,status:e.status,messageKey:"auth.invalidDomain"}:{code:"UNKNOWN_ERROR",retryable:!1,status:e.status,messageKey:"auth.unexpectedError"}}}const n=e;switch(null==(t=null==n?void 0:n.code)?void 0:t.toUpperCase()){case"INVALID_DOMAIN":return{code:"INVALID_DOMAIN",retryable:!1,status:400,messageKey:"auth.invalidDomain"};case"CAPTCHA_FAILED":return{code:"CAPTCHA_FAILED",retryable:!0,status:400,messageKey:"auth.captchaFailed"};case"USER_EXISTS":return{code:"USER_EXISTS",retryable:!1,status:409,messageKey:"auth.userExists"};case"EMAIL_NOT_CONFIRMED":return{code:"EMAIL_NOT_CONFIRMED",retryable:!1,status:401,messageKey:"auth.emailNotConfirmed"};case"RATE_LIMITED":return{code:"RATE_LIMITED",retryable:!0,status:429,messageKey:"auth.rateLimited"};case"SESSION_EXPIRED":return{code:"SESSION_EXPIRED",retryable:!0,status:401,messageKey:"auth.sessionExpired"}}const r=String((null==n?void 0:n.message)||"").toLowerCase();return r.includes("confirm")?{code:"EMAIL_NOT_CONFIRMED",retryable:!1,status:401,messageKey:"auth.emailNotConfirmed"}:r.includes("already registered")||r.includes("exists")?{code:"USER_EXISTS",retryable:!1,status:409,messageKey:"auth.userExists"}:r.includes("network")||r.includes("fetch")?{code:"NETWORK_ERROR",retryable:!0,status:503,messageKey:"auth.networkError"}:{code:"UNKNOWN_ERROR",retryable:!1,status:400,messageKey:"auth.unexpectedError"}}const Tw=cn.object({email:cn.string().email().refine(e=>e.endsWith("@fs-students.de")||e.endsWith("@fs.de"),{message:"Only Frankfurt School email addresses (@fs-students.de or @fs.de) are allowed"}),password:cn.string().min(6,"Password must be at least 6 characters")}),Mw=cn.object({email:cn.string().email().refine(e=>e.endsWith("@fs-students.de")||e.endsWith("@fs.de"),{message:"Only Frankfurt School email addresses (@fs-students.de or @fs.de) are allowed"})});function Cw({isOpen:e,onClose:t}){const{t:n}=Za(),[r,s]=Ke.useState(()=>"signup"===localStorage.getItem("authMode")?"signup":"signin"),[a,i]=Ke.useState(!1),[o,l]=Ke.useState(null),[c,d]=Ke.useState(0),[u,m]=Ke.useState(""),[h,f]=Ke.useState(!1);Ke.useState(!1);const[p,g]=Ke.useState(null),v=dn({resolver:Ew(Tw)}),x=dn({resolver:Ew(Mw)});Ke.useEffect(()=>{if(e){const e="signup"===localStorage.getItem("authMode")?"signup":"signin";s("signup"===e?"signin":e),l(null),d(e=>e+1)}},[e]);return e?$.jsx(rn,{children:e&&$.jsxs($.Fragment,{children:[$.jsx(sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:t}),$.jsx(sn.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:$.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-neutral-200 overflow-hidden w-full max-w-md",onClick:e=>e.stopPropagation(),children:[$.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 relative border-b border-neutral-200",children:[$.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-neutral-500 hover:text-neutral-700 transition-colors",children:$.jsx(tr,{className:"w-6 h-6"})}),$.jsx("h2",{className:"text-2xl font-inter font-bold text-[#0B3D91]",children:n("signin"===r?"auth.signIn":"signup"===r?"auth.signUp":"auth.resetPassword")}),$.jsx("p",{className:"text-neutral-600 mt-1",children:n("reset"===r?"auth.resetPasswordInstructions":"auth.loginCta")})]}),$.jsx("div",{className:"p-6",children:h?$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[$.jsx("h3",{className:"text-green-800 font-semibold mb-2",children:n("auth.registrationSuccessTitle")}),$.jsx("p",{className:"text-green-700 text-sm",children:n("auth.registrationSuccessBody")}),p&&$.jsxs("div",{className:"mt-3 text-sm text-green-800",children:[$.jsxs("div",{children:[$.jsx("span",{className:"font-medium",children:"Email:"})," ",p]}),$.jsx("button",{onClick:async()=>{try{if(!p)return;(await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/auth_resend_confirmation",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1za3B4ZWJic2N2aXN4Y2NlaXd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NTM4NTksImV4cCI6MjA3MDQyOTg1OX0.QiAMNLTK6UPpsPm3Ic08I6UMuPMcuWiT6BO1lzQIqeo"},body:JSON.stringify({email:p,language:localStorage.getItem("lang")||"en"})})).ok?Ba.success(n("leaderboard.emailVerificationSent")):Ba.error(n("auth.unexpectedError"))}catch(Iw){Ba.error(n("auth.unexpectedError"))}},className:"mt-2 inline-flex items-center px-3 py-1.5 rounded-md border border-green-300 text-green-800 hover:bg-green-100",children:"Resend email"})]})]}),$.jsx("button",{onClick:()=>{f(!1),s("signin")},className:"w-full py-3 bg-[#0B3D91] text-white font-medium rounded-md hover:bg-[#082D69] transition-colors duration-200",children:n("auth.goToSignIn")})]}):"reset"===r?$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:n("auth.email")}),$.jsxs("div",{className:"relative",children:[$.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),$.jsx("input",{type:"email",value:u,onChange:e=>m(e.target.value),placeholder:"your.name@fs-students.de or @fs.de",className:"w-full pl-10 pr-3 py-2 bg-white border border-neutral-300 rounded-md text-neutral-900 placeholder-neutral-400 focus:outline-none focus:border-[#0B3D91] focus:ring-1 focus:ring-[#0B3D91] transition-colors",disabled:a})]})]}),$.jsx("button",{onClick:async()=>{if(u&&(u.endsWith("@fs-students.de")||u.endsWith("@fs.de"))){i(!0);try{const e=await async function(e){try{const{error:t}=await Ga.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/set-password`});if(t)throw t;return{ok:!0}}catch(t){return{ok:!1,error:Dw(t)}}}(u);if(!e.ok)return void Ba.error(n(e.error.messageKey));Ba.success(n("auth.resetEmailSent")),s("signin"),m("")}catch(e){Ba.error(n("auth.unexpectedError"))}finally{i(!1)}}else Ba.error(n("auth.invalidDomain"))},disabled:a,className:"w-full py-3 bg-[#0B3D91] text-white font-medium rounded-md hover:bg-[#082D69] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n(a?"auth.loading":"auth.sendResetEmail")}),$.jsx("button",{onClick:()=>s("signin"),className:"w-full py-2 text-neutral-600 hover:text-neutral-800 transition-colors",children:n("auth.backToSignIn")})]}):"signin"===r?$.jsxs("form",{onSubmit:v.handleSubmit(async e=>{if(!!("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)||o){i(!0);try{const r=await async function(e,t){try{const{data:n,error:r}=await Ga.auth.signInWithPassword({email:e,password:t});if(r)throw r;return{ok:!0,data:n}}catch(n){return{ok:!1,error:Dw(n)}}}(e.email,e.password);if(!r.ok)return Ba.error(n(r.error.messageKey)),void r.error.code;Ba.success(n("auth.welcomeBack")),t()}catch(r){const e=Dw(r);Ba.error(n(e.messageKey))}finally{i(!1),l(null)}}else Ba.error(n("auth.completeVerification"))}),className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:n("auth.email")}),$.jsxs("div",{className:"relative",children:[$.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),$.jsx("input",{...v.register("email"),type:"email",placeholder:"your.name@fs-students.de or @fs.de",className:"w-full pl-10 pr-3 py-2 bg-white border border-neutral-300 rounded-md text-neutral-900 placeholder-neutral-400 focus:outline-none focus:border-[#0B3D91] focus:ring-1 focus:ring-[#0B3D91] transition-colors",disabled:a})]}),v.formState.errors.email&&$.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center",children:[$.jsx(En,{className:"w-4 h-4 mr-1"}),v.formState.errors.email.message]})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:n("auth.password")}),$.jsxs("div",{className:"relative",children:[$.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),$.jsx("input",{...v.register("password"),type:"password",placeholder:"",className:"w-full pl-10 pr-3 py-2 bg-white border border-neutral-300 rounded-md text-neutral-900 placeholder-neutral-400 focus:outline-none focus:border-[#0B3D91] focus:ring-1 focus:ring-[#0B3D91] transition-colors",disabled:a})]}),v.formState.errors.password&&$.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center",children:[$.jsx(En,{className:"w-4 h-4 mr-1"}),v.formState.errors.password.message]})]}),$.jsx("div",{className:"flex justify-center my-4",children:$.jsx(fx,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",onVerify:e=>l(e),onExpire:()=>l(null),onError:()=>{Ba.error(n("auth.captchaFailed")),l(null)},theme:"light",size:"normal"},`signin-${c}`)}),$.jsx("button",{type:"submit",disabled:a||!o,className:"w-full py-3 bg-[#0B3D91] text-white font-medium rounded-md hover:bg-[#082D69] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:a?$.jsxs("span",{className:"flex items-center justify-center",children:[$.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[$.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),$.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),n("auth.loading")]}):n("auth.signIn")}),$.jsxs("div",{className:"text-center space-y-2",children:[$.jsx("button",{type:"button",onClick:()=>s("reset"),className:"text-sm text-neutral-600 hover:text-[#0B3D91] transition-colors",children:n("auth.forgotPassword")}),$.jsx("div",{className:"text-sm text-neutral-600",children:$.jsx("span",{children:"Registration currently disabled."})})]})]}):$.jsxs("form",{onSubmit:x.handleSubmit(async e=>{const t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;if(!!t||o){i(!0);try{const r=localStorage.getItem("lang")||"en",a=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/auth_register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1za3B4ZWJic2N2aXN4Y2NlaXd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NTM4NTksImV4cCI6MjA3MDQyOTg1OX0.QiAMNLTK6UPpsPm3Ic08I6UMuPMcuWiT6BO1lzQIqeo"},body:JSON.stringify({email:e.email,turnstileToken:o||(t?"dev-bypass-token":void 0),language:r})}),i=await a.json().catch(()=>({}));if(!a.ok||!1===(null==i?void 0:i.ok)){const e=(null==i?void 0:i.code)||"UNKNOWN_ERROR";return void("USER_EXISTS"===e?(Ba.error(n("auth.userExists")),s("signin")):"INVALID_DOMAIN"===e?Ba.error(n("auth.invalidDomain")):"CAPTCHA_FAILED"===e?(Ba.error(n("auth.captchaFailed")),d(e=>e+1)):"EMAIL_FAILED"===e?Ba.error(n("auth.registrationFailed")):"RATE_LIMITED"===e?Ba.error(n("auth.rateLimited")):Ba.error(n("auth.unexpectedError")))}g(e.email),f(!0),Ba.success(n("auth.registrationSuccessTitle"))}catch(Iw){Ba.error(n("auth.unexpectedError"))}finally{i(!1),l(null),d(e=>e+1)}}else Ba.error(n("auth.completeVerification"))}),className:"space-y-4","aria-disabled":true,children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:n("auth.email")}),$.jsxs("div",{className:"relative",children:[$.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),$.jsx("input",{...x.register("email"),type:"email",placeholder:"your.name@fs-students.de or @fs.de",className:"w-full pl-10 pr-3 py-2 bg-white border border-neutral-300 rounded-md text-neutral-900 placeholder-neutral-400 focus:outline-none focus:border-[#0B3D91] focus:ring-1 focus:ring-[#0B3D91] transition-colors",disabled:a})]}),x.formState.errors.email&&$.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center",children:[$.jsx(En,{className:"w-4 h-4 mr-1"}),x.formState.errors.email.message]})]}),$.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-center gap-3",children:[$.jsx("img",{src:"https://www.frankfurt-school.de/themes/custom/fs_theme/logo.svg",alt:"Frankfurt School Logo",className:"w-10 h-10 object-contain",onError:e=>{e.currentTarget.style.display="none"}}),$.jsxs("div",{className:"text-sm text-blue-700",children:[$.jsx("div",{className:"font-semibold",children:"Exclusive to Frankfurt School students"}),$.jsx("div",{children:"Use your @fs-students.de (or @fs.de) email to register. Email confirmation is required."})]})]}),$.jsx("div",{className:"flex justify-center my-4",children:$.jsx(fx,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",onVerify:e=>l(e),onExpire:()=>l(null),onError:()=>{Ba.error(n("auth.captchaFailed")),l(null)},theme:"light",size:"normal"},`signup-${c}`)}),$.jsx("button",{type:"submit",disabled:!0,className:"w-full py-3 bg-neutral-300 text-white font-medium rounded-md cursor-not-allowed",children:a?$.jsxs("span",{className:"flex items-center justify-center",children:[$.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[$.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),$.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),n("auth.loading")]}):n("auth.signUp")}),$.jsxs("div",{className:"text-center text-sm text-neutral-600",children:[n("auth.alreadyRegistered")," ",$.jsx("button",{type:"button",onClick:()=>{s("signin"),l(null),d(e=>e+1)},className:"text-[#0B3D91] hover:text-[#082D69] font-medium",children:n("auth.signIn")})]})]})})]})})]})}):null}const Ow=({isOpen:e,onClose:t})=>{const[n,r]=Lr(),{t:s}=Za(),{user:a,isAdmin:i,signOut:o}=ti(),[l,c]=Ke.useState(!1),d=[{path:"/",icon:"fa-home",label:s("navigation.home")},{path:"/members",icon:"fa-users",label:s("navigation.members")},{path:"/events",icon:"fa-calendar-alt",label:s("navigation.events")},{path:"/battleground",icon:"fa-trophy",label:s("navigation.battleground")},{path:"/contact",icon:"fa-envelope",label:s("navigation.contact")}],u=i?[...d,{path:"/admin",icon:"fa-shield-alt",label:s("admin.title")}]:d,m=e=>"flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-md transition-colors "+((e=>n===e)(e)?"bg-blue-50 text-blue-600 font-medium":"");return $.jsxs($.Fragment,{children:[$.jsx("aside",{id:"sidebar",className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out border-r border-gray-200 "+(e?"translate-x-0":"-translate-x-full md:translate-x-0"),children:$.jsxs("div",{className:"flex flex-col h-full",children:[$.jsx("div",{className:"px-4 py-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs(Br,{href:"/",className:"flex items-center",children:[$.jsx("i",{className:"fas fa-chart-line text-blue-600 text-2xl mr-3"}),$.jsxs("div",{children:[$.jsx("div",{className:"font-inter font-bold text-lg leading-tight text-gray-800",children:"FS Quant & Data Science"}),$.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Student Initiative"})]})]}),$.jsx("button",{id:"closeSidebar",className:"md:hidden text-gray-600",onClick:t,children:$.jsx("i",{className:"fas fa-times"})})]})}),$.jsx("nav",{className:"flex-1 py-4 overflow-y-auto bg-white",children:$.jsx("ul",{children:u.map(e=>$.jsx("li",{className:"px-2 py-1",children:$.jsxs(Br,{href:e.path,className:m(e.path),onClick:()=>{window.innerWidth<768&&t()},children:[$.jsx("i",{className:`fas ${e.icon} w-5`}),$.jsx("span",{className:"ml-3",children:e.label})]})},e.path))})}),$.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-3",children:[a?$.jsxs("div",{className:"space-y-2",children:[$.jsxs("div",{className:"text-sm text-gray-600",children:[s("sidebar.loggedInAs"),$.jsx("div",{className:"font-medium text-gray-800 truncate",children:a.email})]}),$.jsxs("button",{onClick:async()=>{try{await o()}catch(e){Ba.error(s("auth.unexpectedError"))}},className:"w-full px-4 py-2 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-md transition-colors flex items-center justify-center",children:[$.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),s("common.logout")]})]}):$.jsxs("div",{className:"space-y-2",children:[$.jsxs("button",{onClick:()=>{localStorage.setItem("authMode","signin"),window.innerWidth<768&&t(),c(!0)},className:"w-full px-4 py-2 text-sm font-medium text-white bg-[#0B3D91] hover:bg-[#082D69] rounded-md transition-colors flex items-center justify-center",children:[$.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),s("auth.signIn")]}),$.jsxs("button",{onClick:()=>{localStorage.setItem("authMode","signup"),window.innerWidth<768&&t(),c(!0)},className:"w-full px-4 py-2 text-sm font-medium text-[#0B3D91] bg-blue-50 hover:bg-blue-100 rounded-md transition-colors flex items-center justify-center",children:[$.jsx("i",{className:"fas fa-user-plus mr-2"}),s("auth.signUp")]})]}),$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx("span",{className:"text-sm font-medium text-gray-700",children:s("common.language")}),$.jsx(ww,{})]})]}),$.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-t border-gray-200 text-gray-700 text-xs",children:$.jsxs("div",{className:"flex items-center mb-2",children:[$.jsx("img",{src:"/fs-logo.png",alt:"Frankfurt School Logo",className:"h-10 mr-2 object-contain"}),$.jsxs("div",{children:[$.jsx("div",{className:"font-medium text-gray-800",children:"Frankfurt School"}),$.jsx("div",{className:"text-gray-600",children:"of Finance & Management"})]})]})})]})}),$.jsx(Cw,{isOpen:l,onClose:()=>c(!1)})]})},Aw=()=>{const{t:e}=Za();return $.jsx("footer",{className:"bg-gradient-to-br from-gray-50 to-blue-50 text-gray-700 py-12 border-t border-gray-200",children:$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[$.jsxs("div",{children:[$.jsxs("div",{className:"flex items-center mb-4",children:[$.jsx("i",{className:"fas fa-chart-line text-blue-600 text-2xl mr-3"}),$.jsxs("div",{children:[$.jsx("div",{className:"font-inter font-bold text-lg leading-tight text-gray-800",children:"FS Quant & Data Science"}),$.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Student Initiative"})]})]}),$.jsx("p",{className:"text-gray-600 text-sm",children:$.jsx(Br,{href:"/",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("footer.about")})})]}),$.jsxs("div",{children:[$.jsx("h3",{className:"font-inter font-semibold text-lg mb-4 text-gray-800",children:e("footer.quickLinks")}),$.jsxs("ul",{className:"space-y-2 text-sm",children:[$.jsx("li",{children:$.jsx(Br,{href:"/",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("navigation.home")})}),$.jsx("li",{children:$.jsx(Br,{href:"/members",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("navigation.members")})}),$.jsx("li",{children:$.jsx(Br,{href:"/events",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("navigation.events")})}),$.jsx("li",{children:$.jsx(Br,{href:"/battleground",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("navigation.battleground")})})]})]}),$.jsxs("div",{children:[$.jsx("h3",{className:"font-inter font-semibold text-lg mb-4 text-gray-800",children:"Resources"}),$.jsxs("ul",{className:"space-y-2 text-sm",children:[$.jsx("li",{children:$.jsx("a",{href:"https://github.com/fsqds",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"GitHub Repository"})}),$.jsx("li",{children:$.jsx("a",{href:"https://www.kaggle.com",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"Kaggle"})}),$.jsx("li",{children:$.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"Datasets"})}),$.jsx("li",{children:$.jsx(Br,{href:"/events",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("events.past")})})]})]}),$.jsxs("div",{children:[$.jsx("h3",{className:"font-inter font-semibold text-lg mb-4 text-gray-800",children:e("navigation.contact")}),$.jsxs("address",{className:"not-italic text-sm text-gray-600",children:[$.jsx("p",{children:"Frankfurt School of Finance & Management"}),$.jsx("p",{children:"Adickesallee 32-34"}),$.jsx("p",{children:"60322 Frankfurt am Main"}),$.jsxs("p",{className:"mt-2",children:[e("auth.email"),": fs.data.science00@gmail.com"]})]})]})]}),$.jsxs("div",{className:"border-t border-gray-300 pt-8 flex flex-col md:flex-row justify-between items-center",children:[$.jsxs("div",{className:"text-gray-500 text-sm mb-4 md:mb-0",children:[" ",(new Date).getFullYear()," FS Quant & Data Science. All rights reserved."]}),$.jsxs("div",{className:"flex space-x-4",children:[$.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors duration-200",children:$.jsx("i",{className:"fab fa-linkedin"})}),$.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors duration-200",children:$.jsx("i",{className:"fab fa-github"})}),$.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors duration-200",children:$.jsx("i",{className:"fab fa-instagram"})}),$.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors duration-200",children:$.jsx("i",{className:"fab fa-twitter"})})]})]})]})})},Pw=({onOpenSidebar:e})=>$.jsxs("header",{className:"md:hidden bg-white text-gray-800 p-4 flex items-center justify-between sticky top-0 z-40 shadow-md border-b border-gray-200",children:[$.jsx("button",{className:"text-gray-600",onClick:e,children:$.jsx("i",{className:"fas fa-bars"})}),$.jsx("div",{className:"font-inter font-bold text-sm",children:"FS QDS"}),$.jsx(ww,{})]});function Rw(){const[e,t]=Ke.useState(!1);return Ke.useEffect(()=>{const e=()=>{window.innerWidth>=768?t(!0):t(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),$.jsx(nr,{children:$.jsx(Ts,{client:Ms,children:$.jsx(ei,{children:$.jsxs(Xa,{children:[$.jsxs("div",{className:"flex min-h-screen bg-gray-50 font-roboto text-gray-700",children:[$.jsx(Ow,{isOpen:e,onClose:()=>t(!1)}),$.jsxs("div",{className:"flex-1 md:ml-64",children:[$.jsx(Pw,{onOpenSidebar:()=>{t(!e)}}),$.jsxs("main",{children:[$.jsxs(Wr,{children:[$.jsx(qr,{path:"/",component:si}),$.jsx(qr,{path:"/members",component:ii}),$.jsx(qr,{path:"/projects",component:oi}),$.jsx(qr,{path:"/events",component:Yg}),$.jsx(qr,{path:"/battleground",component:nw}),$.jsx(qr,{path:"/contact",component:rw}),$.jsx(qr,{path:"/admin",component:iw}),$.jsx(qr,{path:"/login",component:vw}),$.jsx(qr,{path:"/auth/confirm",component:yw}),$.jsx(qr,{path:"/set-password",component:bw}),$.jsx(qr,{component:xw})]}),$.jsx(Aw,{})]})]})]}),$.jsx(Ia,{}),$.jsx(La,{}),$.jsx(Ya,{})]})})})})}z(document.getElementById("root")).render($.jsx(Rw,{}));
