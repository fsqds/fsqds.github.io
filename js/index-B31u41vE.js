var e=Object.getOwnPropertyNames,t=e=>{throw TypeError(e)},r=(e,r,n)=>r.has(e)||t("Cannot "+n),n=(e,t,n)=>(r(e,t,"read from private field"),n?n.call(e):t.get(e)),s=(e,r,n)=>r.has(e)?t("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),a=(e,t,n,s)=>(r(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),i=(e,t,n)=>(r(e,t,"access private method"),n),o=(e,t,r,s)=>({set _(n){a(e,t,n,r)},get _(){return n(e,t,s)}});import{j as l,c,a as d,u,B as m,P as h,V as f,b as p,d as g,e as v,f as x,R as y,g as b,h as w,i as j,S as N,O as k,C as S,k as _,T as D,D as E,l as M,m as T,n as C,L as O,o as P,p as A,q as R,r as I,s as F,I as L,t as Y,v as z,w as q,x as B,y as U,z as W,A as H,E as V,F as $,G,H as K,J as Q,K as Z,M as X,N as J,Q as ee,U as te,W as re,X as ne,Y as se,Z as ae,_ as ie,$ as oe,a0 as le}from"./react-ui-Di4LmEBY.js";import{a as ce,r as de,c as ue,R as me,g as he,b as fe,d as pe}from"./react-core-BRxKgMa0.js";import{t as ge,c as ve,f as xe}from"./utils-D5NkSKB_.js";import{c as ye,A as be,a as we,b as je,d as Ne,e as ke}from"./supabase-DwfVgsPN.js";import{_ as Se,a as _e,b as De,c as Ee,d as Me,e as Te,f as Ce,t as Oe,P as Pe,g as Ae,h as Re,k as Ie,i as Fe,j as Le,l as Ye,m as ze,n as qe,o as Be,p as Ue,q as We,r as He,s as Ve,u as $e,v as Ge,w as Ke,x as Qe,y as Ze,z as Xe,A as Je,B as et,R as tt,L as rt,C as nt,X as st,Y as at,T as it,D as ot,E as lt,F as ct,G as dt,H as ut,I as mt,J as ht,K as ft,M as pt}from"./charts-C1RBtkn9.js";import{A as gt,m as vt}from"./animations-BMBnvKqr.js";import{g as xt,s as yt,a as bt,z as wt,u as jt}from"./forms-Bm64xVdr.js";var Nt,kt,St=(Nt={"js/index-B31u41vE.js"(e,t){var r,Nt,kt,St,_t,Dt,Et,Mt,Tt,Ct,Ot,Pt,At,Rt,It,Ft,Lt,Yt,zt,qt,Bt,Ut,Wt,Ht,Vt,$t,Gt,Kt,Qt,Zt,Xt,Jt,er,tr,rr,nr,sr,ar,ir,or;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var lr=ce;or=lr.createRoot,lr.hydrateRoot;
/**
     * @license lucide-react v0.453.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
const cr=(...e)=>e.filter((e,t,r)=>Boolean(e)&&r.indexOf(e)===t).join(" ");
/**
     * @license lucide-react v0.453.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
var dr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
     * @license lucide-react v0.453.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */const ur=de.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...o},l)=>de.createElement("svg",{ref:l,...dr,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:cr("lucide",s),...o},[...i.map(([e,t])=>de.createElement(e,t)),...Array.isArray(a)?a:[a]])),mr=(e,t)=>{const r=de.forwardRef(({className:r,...n},s)=>{return de.createElement(ur,{ref:s,iconNode:t,className:cr(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...n});var a});return r.displayName=`${e}`,r},hr=mr("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),fr=mr("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),pr=mr("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),gr=mr("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),vr=mr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),xr=mr("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),yr=mr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),br=mr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),wr=mr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),jr=mr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Nr=mr("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),kr=mr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Sr=mr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_r=mr("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Dr=mr("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Er=mr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Mr=mr("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Tr=mr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Cr=mr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Or=mr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Pr=mr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ar=mr("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Rr=mr("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Ir=mr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Fr=mr("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Lr=mr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Yr=mr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),zr=mr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),qr=mr("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Br=mr("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ur=mr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Wr=mr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Hr=mr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Vr=mr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),$r=mr("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Gr=mr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Kr=mr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Qr=mr("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Zr=mr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);
/**
     * @license lucide-react v0.453.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */class Xr extends de.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:l.jsx(Vr,{className:"w-6 h-6 text-red-600"})}),l.jsx("h1",{className:"text-xl font-semibold text-center text-gray-900 mb-2",children:"Oops! Something went wrong"}),l.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry for the inconvenience. The application encountered an unexpected error."}),!1,l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:()=>window.location.reload(),className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),l.jsxs("button",{onClick:()=>{this.handleReset(),window.location.href="/"},className:"flex-1 flex items-center justify-center px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:[l.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Go Home"]})]})]})})}):this.props.children}}var Jr={exports:{}},en={},tn=de,rn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},nn=tn.useState,sn=tn.useEffect,an=tn.useLayoutEffect,on=tn.useDebugValue;function ln(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rn(e,r)}catch(n){return!0}}var cn="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=nn({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return an(function(){s.value=r,s.getSnapshot=t,ln(s)&&a({inst:s})},[e,r,t]),sn(function(){return ln(s)&&a({inst:s}),e(function(){ln(s)&&a({inst:s})})},[e]),on(r),r};en.useSyncExternalStore=void 0!==tn.useSyncExternalStore?tn.useSyncExternalStore:cn,Jr.exports=en;var dn=Jr.exports;const un=ue.useInsertionEffect,mn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?de.useLayoutEffect:de.useEffect,hn=un||mn,fn=e=>{const t=de.useRef([e,(...e)=>t[0](...e)]).current;return hn(()=>{t[0]=e}),t[1]},pn="pushState",gn="replaceState",vn=["popstate",pn,gn,"hashchange"],xn=e=>{for(const t of vn)addEventListener(t,e);return()=>{for(const t of vn)removeEventListener(t,e)}},yn=(e,t)=>dn.useSyncExternalStore(xn,e,t),bn=()=>location.search,wn=()=>location.pathname,jn=({ssrPath:e}={})=>yn(wn,e?()=>e:wn),Nn=(e,{replace:t=!1,state:r=null}={})=>history[t?gn:pn](r,"",e),kn=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[kn]){for(const e of[pn,gn]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,kn,{value:!0})}const Sn=(e="")=>"/"===e?"":e,_n=(e="",t)=>((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(Dn(Sn(e)),Dn(t)),Dn=e=>{try{return decodeURI(e)}catch(t){return e}},En={hook:(e={})=>[jn(e),Nn],searchHook:({ssrSearch:e=""}={})=>yn(bn,()=>e),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,a,i=[],o="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(r=s[0])?(i.push(r),o+="?"===s[1]?"(?:/(.*))?":"/(.*)"):":"===r?(n=s.indexOf("?",1),a=s.indexOf(".",1),i.push(s.substring(1,~n?n:~a?a:s.length)),o+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~n?"?":"")+"\\"+s.substring(a))):o+="/"+s;return{keys:i,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Mn=de.createContext(En),Tn=()=>de.useContext(Mn),Cn={},On=de.createContext(Cn),Pn=e=>{const[t,r]=e.hook(e);return[_n(e.base,t),fn((t,n)=>r(((e,t)=>"~"===e[0]?e.slice(1):Sn(t)+e)(t,e.base),n))]},An=()=>Pn(Tn()),Rn=(e,t,r,n)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),i=s.exec(r)||[],[o,...l]=i;return void 0!==o?[!0,(()=>{const e=!1!==a?Object.fromEntries(a.map((e,t)=>[e,l[t]])):i.groups;let t={...l};return e&&Object.assign(t,e),t})(),...n?[o]:[]]:[!1,null]},In=({children:e,...t})=>{var r,n;const s=Tn(),a=t.hook?En:s;let i=a;const[o,l]=(null==(r=t.ssrPath)?void 0:r.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=o),t.hrefs=t.hrefs??(null==(n=t.hook)?void 0:n.hrefs);let c=de.useRef({}),d=c.current,u=d;for(let m in a){const e="base"===m?a[m]+(t[m]||""):t[m]||a[m];d===u&&e!==u[m]&&(c.current=u={...u}),u[m]=e,e!==a[m]&&(i=u)}return de.createElement(Mn.Provider,{value:i,children:e})},Fn=({children:e,component:t},r)=>t?de.createElement(t,{params:r}):"function"==typeof e?e(r):e,Ln=({path:e,nest:t,match:r,...n})=>{const s=Tn(),[a]=Pn(s),[i,o,l]=r??Rn(s.parser,e,a,t),c=(e=>{let t=de.useRef(Cn),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return 0===Object.keys(e).length&&(r=e),t.current=r})({...de.useContext(On),...o});if(!i)return null;const d=l?de.createElement(In,{base:l},Fn(n,c)):Fn(n,c);return de.createElement(On.Provider,{value:c,children:d})},Yn=de.forwardRef((e,t)=>{const r=Tn(),[n,s]=Pn(r),{to:a="",href:i=a,onClick:o,asChild:l,children:c,className:d,replace:u,state:m,...h}=e,f=fn(t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(null==o||o(t),t.defaultPrevented||(t.preventDefault(),s(i,e)))}),p=r.hrefs("~"===i[0]?i.slice(1):r.base+i,r);return l&&de.isValidElement(c)?de.cloneElement(c,{onClick:f,href:p}):de.createElement("a",{...h,onClick:f,href:p,className:(null==d?void 0:d.call)?d(n===i):d,children:c,ref:t})}),zn=e=>Array.isArray(e)?e.flatMap(e=>zn(e&&e.type===de.Fragment?e.props.children:e)):[e],qn=({children:e,location:t})=>{const r=Tn(),[n]=Pn(r);for(const s of zn(e)){let e=0;if(de.isValidElement(s)&&(e=Rn(r.parser,s.props.path,t||n,s.props.nest))[0])return de.cloneElement(s,{match:e})}return null};var Bn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Un="undefined"==typeof window||"Deno"in globalThis;function Wn(){}function Hn(e,t){return"function"==typeof e?e(t):e}function Vn(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i)if(n){if(t.queryHash!==Gn(i,t.options))return!1}else if(!Qn(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return!("boolean"==typeof o&&t.isStale()!==o||s&&s!==t.state.fetchStatus||a&&!a(t))}function $n(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Kn(t.options.mutationKey)!==Kn(a))return!1}else if(!Qn(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Gn(e,t){return((null==t?void 0:t.queryKeyHashFn)||Kn)(e)}function Kn(e){return JSON.stringify(e,(e,t)=>Jn(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function Qn(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some(r=>!Qn(e[r],t[r]))}function Zn(e,t){if(e===t)return e;const r=Xn(e)&&Xn(t);if(r||Jn(e)&&Jn(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,o=r?[]:{};let l=0;for(let c=0;c<i;c++){const s=r?c:a[c];(!r&&n.includes(s)||r)&&void 0===e[s]&&void 0===t[s]?(o[s]=void 0,l++):(o[s]=Zn(e[s],t[s]),o[s]===e[s]&&void 0!==e[s]&&l++)}return s===i&&l===s?e:o}return t}function Xn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jn(e){if(!es(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!es(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function es(e){return"[object Object]"===Object.prototype.toString.call(e)}function ts(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?Zn(e,t):t}function rs(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ns(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ss=Symbol();function as(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==ss?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var is=new(St=class extends Bn{constructor(){super(),s(this,r),s(this,Nt),s(this,kt),a(this,kt,e=>{if(!Un&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){n(this,Nt)||this.setEventListener(n(this,kt))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=n(this,Nt))||e.call(this),a(this,Nt,void 0))}setEventListener(e){var t;a(this,kt,e),null==(t=n(this,Nt))||t.call(this),a(this,Nt,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){n(this,r)!==e&&(a(this,r,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"==typeof n(this,r)?n(this,r):"hidden"!==(null==(e=globalThis.document)?void 0:e.visibilityState)}},r=new WeakMap,Nt=new WeakMap,kt=new WeakMap,St),os=new(Mt=class extends Bn{constructor(){super(),s(this,_t,!0),s(this,Dt),s(this,Et),a(this,Et,e=>{if(!Un&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){n(this,Dt)||this.setEventListener(n(this,Et))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=n(this,Dt))||e.call(this),a(this,Dt,void 0))}setEventListener(e){var t;a(this,Et,e),null==(t=n(this,Dt))||t.call(this),a(this,Dt,e(this.setOnline.bind(this)))}setOnline(e){n(this,_t)!==e&&(a(this,_t,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return n(this,_t)}},_t=new WeakMap,Dt=new WeakMap,Et=new WeakMap,Mt);function ls(e){return Math.min(1e3*2**e,3e4)}function cs(e){return"online"!==(e??"online")||os.isOnline()}var ds=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function us(e){return e instanceof ds}function ms(e){let t,r=!1,n=0,s=!1;const a=function(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}(),i=()=>is.isFocused()&&("always"===e.networkMode||os.isOnline())&&e.canRun(),o=()=>cs(e.networkMode)&&e.canRun(),l=r=>{var n;s||(s=!0,null==(n=e.onSuccess)||n.call(e,r),null==t||t(),a.resolve(r))},c=r=>{var n;s||(s=!0,null==(n=e.onError)||n.call(e,r),null==t||t(),a.reject(r))},d=()=>new Promise(r=>{var n;t=e=>{(s||i())&&r(e)},null==(n=e.onPause)||n.call(e)}).then(()=>{var r;t=void 0,s||null==(r=e.onContinue)||r.call(e)}),u=()=>{if(s)return;let t;const a=0===n?e.initialPromise:void 0;try{t=a??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var a;if(s)return;const o=e.retry??(Un?0:3),l=e.retryDelay??ls,m="function"==typeof l?l(n,t):l,h=!0===o||"number"==typeof o&&n<o||"function"==typeof o&&o(n,t);var f;!r&&h?(n++,null==(a=e.onFail)||a.call(e,n,t),(f=m,new Promise(e=>{setTimeout(e,f)})).then(()=>i()?void 0:d()).then(()=>{r?c(t):u()})):c(t)})};return{promise:a,cancel:t=>{var r;s||(c(new ds(t)),null==(r=e.abort)||r.call(e))},continue:()=>(null==t||t(),a),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:o,start:()=>(o()?u():d().then(u),a)}}var hs=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},s=e=>setTimeout(e,0);const a=n=>{t?e.push(n):s(()=>{r(n)})};return{batch:a=>{let i;t++;try{i=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s(()=>{n(()=>{t.forEach(e=>{r(e)})})})})()}return i},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{s=e}}}(),fs=(Ct=class{constructor(){s(this,Tt)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&a(this,Tt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Un?1/0:3e5))}clearGcTimeout(){n(this,Tt)&&(clearTimeout(n(this,Tt)),a(this,Tt,void 0))}},Tt=new WeakMap,Ct),ps=(zt=class extends fs{constructor(e){super(),s(this,Lt),s(this,Ot),s(this,Pt),s(this,At),s(this,Rt),s(this,It),s(this,Ft),a(this,Ft,!1),a(this,It,e.defaultOptions),this.setOptions(e.options),this.observers=[],a(this,At,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,a(this,Ot,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??n(this,Ot),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=n(this,Rt))?void 0:e.promise}setOptions(e){this.options={...n(this,It),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||n(this,At).remove(this)}setData(e,t){const r=ts(this.state.data,e,this.options);return i(this,Lt,Yt).call(this,{data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){i(this,Lt,Yt).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;const s=null==(t=n(this,Rt))?void 0:t.promise;return null==(r=n(this,Rt))||r.cancel(e),s?s.then(Wn).catch(Wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,Ot))}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,r=this,"function"==typeof t?t(r):t);var t,r})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ss||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=n(this,Rt))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=n(this,Rt))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),n(this,At).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(n(this,Rt)&&(n(this,Ft)?n(this,Rt).cancel({revert:!0}):n(this,Rt).cancelRetry()),this.scheduleGc()),n(this,At).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||i(this,Lt,Yt).call(this,{type:"invalidate"})}fetch(e,t){var r,s,o;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(n(this,Rt))return n(this,Rt).continueRetry(),n(this,Rt).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const l=new AbortController,c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a(this,Ft,!0),l.signal)})},d={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=as(this.options,t),r={queryKey:this.queryKey,meta:this.meta};return c(r),a(this,Ft,!1),this.options.persister?this.options.persister(e,r,this):e(r)}};c(d),null==(r=this.options.behavior)||r.onFetch(d,this),a(this,Pt,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(s=d.fetchOptions)?void 0:s.meta)||i(this,Lt,Yt).call(this,{type:"fetch",meta:null==(o=d.fetchOptions)?void 0:o.meta});const u=e=>{var t,r,s,a;us(e)&&e.silent||i(this,Lt,Yt).call(this,{type:"error",error:e}),us(e)||(null==(r=(t=n(this,At).config).onError)||r.call(t,e,this),null==(a=(s=n(this,At).config).onSettled)||a.call(s,this.state.data,e,this)),this.scheduleGc()};return a(this,Rt,ms({initialPromise:null==t?void 0:t.initialPromise,fn:d.fetchFn,abort:l.abort.bind(l),onSuccess:e=>{var t,r,s,a;if(void 0!==e){try{this.setData(e)}catch(i){return void u(i)}null==(r=(t=n(this,At).config).onSuccess)||r.call(t,e,this),null==(a=(s=n(this,At).config).onSettled)||a.call(s,e,this.state.error,this),this.scheduleGc()}else u(new Error(`${this.queryHash} data is undefined`))},onError:u,onFail:(e,t)=>{i(this,Lt,Yt).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{i(this,Lt,Yt).call(this,{type:"pause"})},onContinue:()=>{i(this,Lt,Yt).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),n(this,Rt).start()}},Ot=new WeakMap,Pt=new WeakMap,At=new WeakMap,Rt=new WeakMap,It=new WeakMap,Ft=new WeakMap,Lt=new WeakSet,Yt=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(r=t.data,s=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cs(s.networkMode)?"fetching":"paused",...void 0===r&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return us(a)&&a.revert&&n(this,Pt)?{...n(this,Pt),fetchStatus:"idle"}:{...t,error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var r,s})(this.state),hs.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),n(this,At).notify({query:this,type:"updated",action:e})})},zt),gs=(Bt=class extends Bn{constructor(e={}){super(),s(this,qt),this.config=e,a(this,qt,new Map)}build(e,t,r){const n=t.queryKey,s=t.queryHash??Gn(n,t);let a=this.get(s);return a||(a=new ps({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){n(this,qt).has(e.queryHash)||(n(this,qt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=n(this,qt).get(e.queryHash);t&&(e.destroy(),t===e&&n(this,qt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return n(this,qt).get(e)}getAll(){return[...n(this,qt).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Vn(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Vn(e,t)):t}notify(e){hs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){hs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qt=new WeakMap,Bt),vs=(Gt=class extends fs{constructor(e){super(),s(this,Vt),s(this,Ut),s(this,Wt),s(this,Ht),this.mutationId=e.mutationId,a(this,Wt,e.mutationCache),a(this,Ut,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(this,Ut).includes(e)||(n(this,Ut).push(e),this.clearGcTimeout(),n(this,Wt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){a(this,Ut,n(this,Ut).filter(t=>t!==e)),this.scheduleGc(),n(this,Wt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(this,Ut).length||("pending"===this.state.status?this.scheduleGc():n(this,Wt).remove(this))}continue(){var e;return(null==(e=n(this,Ht))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,r,s,o,l,c,d,u,m,h,f,p,g,v,x,y,b,w,j,N;a(this,Ht,ms({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{i(this,Vt,$t).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{i(this,Vt,$t).call(this,{type:"pause"})},onContinue:()=>{i(this,Vt,$t).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>n(this,Wt).canRun(this)}));const k="pending"===this.state.status,S=!n(this,Ht).canStart();try{if(!k){i(this,Vt,$t).call(this,{type:"pending",variables:e,isPaused:S}),await(null==(r=(t=n(this,Wt).config).onMutate)?void 0:r.call(t,e,this));const a=await(null==(o=(s=this.options).onMutate)?void 0:o.call(s,e));a!==this.state.context&&i(this,Vt,$t).call(this,{type:"pending",context:a,variables:e,isPaused:S})}const a=await n(this,Ht).start();return await(null==(c=(l=n(this,Wt).config).onSuccess)?void 0:c.call(l,a,e,this.state.context,this)),await(null==(u=(d=this.options).onSuccess)?void 0:u.call(d,a,e,this.state.context)),await(null==(h=(m=n(this,Wt).config).onSettled)?void 0:h.call(m,a,null,this.state.variables,this.state.context,this)),await(null==(p=(f=this.options).onSettled)?void 0:p.call(f,a,null,e,this.state.context)),i(this,Vt,$t).call(this,{type:"success",data:a}),a}catch(_){try{throw await(null==(v=(g=n(this,Wt).config).onError)?void 0:v.call(g,_,e,this.state.context,this)),await(null==(y=(x=this.options).onError)?void 0:y.call(x,_,e,this.state.context)),await(null==(w=(b=n(this,Wt).config).onSettled)?void 0:w.call(b,void 0,_,this.state.variables,this.state.context,this)),await(null==(N=(j=this.options).onSettled)?void 0:N.call(j,void 0,_,e,this.state.context)),_}finally{i(this,Vt,$t).call(this,{type:"error",error:_})}}finally{n(this,Wt).runNext(this)}}},Ut=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,Vt=new WeakSet,$t=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),hs.batch(()=>{n(this,Ut).forEach(t=>{t.onMutationUpdate(e)}),n(this,Wt).notify({mutation:this,type:"updated",action:e})})},Gt),xs=(Zt=class extends Bn{constructor(e={}){super(),s(this,Kt),s(this,Qt),this.config=e,a(this,Kt,new Map),a(this,Qt,Date.now())}build(e,t,r){const n=new vs({mutationCache:this,mutationId:++o(this,Qt)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){const t=ys(e),r=n(this,Kt).get(t)??[];r.push(e),n(this,Kt).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var t;const r=ys(e);if(n(this,Kt).has(r)){const s=null==(t=n(this,Kt).get(r))?void 0:t.filter(t=>t!==e);s&&(0===s.length?n(this,Kt).delete(r):n(this,Kt).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var t;const r=null==(t=n(this,Kt).get(ys(e)))?void 0:t.find(e=>"pending"===e.state.status);return!r||r===e}runNext(e){var t;const r=null==(t=n(this,Kt).get(ys(e)))?void 0:t.find(t=>t!==e&&t.state.isPaused);return(null==r?void 0:r.continue())??Promise.resolve()}clear(){hs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...n(this,Kt).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(e=>$n(t,e))}findAll(e={}){return this.getAll().filter(t=>$n(e,t))}notify(e){hs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return hs.batch(()=>Promise.all(e.map(e=>e.continue().catch(Wn))))}},Kt=new WeakMap,Qt=new WeakMap,Zt);function ys(e){var t;return(null==(t=e.options.scope)?void 0:t.id)??String(e.mutationId)}function bs(e){return{onFetch:(t,r)=>{var n,s,a,i,o;const l=t.options,c=null==(a=null==(s=null==(n=t.fetchOptions)?void 0:n.meta)?void 0:s.fetchMore)?void 0:a.direction,d=(null==(i=t.state.data)?void 0:i.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let m={pages:[],pageParams:[]},h=0;const f=async()=>{let r=!1;const n=as(t.options,t.fetchOptions),s=async(e,s,a)=>{if(r)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const i={queryKey:t.queryKey,pageParam:s,direction:a?"backward":"forward",meta:t.options.meta};var o;o=i,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)});const l=await n(i),{maxPages:c}=t.options,d=a?ns:rs;return{pages:d(e.pages,l,c),pageParams:d(e.pageParams,s,c)}};if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},r=(e?js:ws)(l,t);m=await s(t,r,e)}else{const t=e??d.length;do{const e=0===h?u[0]??l.initialPageParam:ws(l,m);if(h>0&&null==e)break;m=await s(m,e),h++}while(h<t)}return m};t.options.persister?t.fetchFn=()=>{var e,n;return null==(n=(e=t.options).persister)?void 0:n.call(e,f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function ws(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function js(e,{pages:t,pageParams:r}){var n;return t.length>0?null==(n=e.getPreviousPageParam)?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ns=(ir=class{constructor(e={}){s(this,Xt),s(this,Jt),s(this,er),s(this,tr),s(this,rr),s(this,nr),s(this,sr),s(this,ar),a(this,Xt,e.queryCache||new gs),a(this,Jt,e.mutationCache||new xs),a(this,er,e.defaultOptions||{}),a(this,tr,new Map),a(this,rr,new Map),a(this,nr,0)}mount(){o(this,nr)._++,1===n(this,nr)&&(a(this,sr,is.subscribe(async e=>{e&&(await this.resumePausedMutations(),n(this,Xt).onFocus())})),a(this,ar,os.subscribe(async e=>{e&&(await this.resumePausedMutations(),n(this,Xt).onOnline())})))}unmount(){var e,t;o(this,nr)._--,0===n(this,nr)&&(null==(e=n(this,sr))||e.call(this),a(this,sr,void 0),null==(t=n(this,ar))||t.call(this),a(this,ar,void 0))}isFetching(e){return n(this,Xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return n(this,Jt).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=n(this,Xt).get(r.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=n(this,Xt).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Hn(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return n(this,Xt).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=n(this,Xt).get(s.queryHash),i=function(e,t){return"function"==typeof e?e(t):e}(t,null==a?void 0:a.state.data);if(void 0!==i)return n(this,Xt).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return hs.batch(()=>n(this,Xt).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=n(this,Xt).get(r.queryHash))?void 0:t.state}removeQueries(e){const t=n(this,Xt);hs.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=n(this,Xt),s={type:"active",...e};return hs.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=hs.batch(()=>n(this,Xt).findAll(e).map(e=>e.cancel(r)));return Promise.all(s).then(Wn).catch(Wn)}invalidateQueries(e={},t={}){return hs.batch(()=>{if(n(this,Xt).findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(null==t?void 0:t.cancelRefetch)??!0},s=hs.batch(()=>n(this,Xt).findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(Wn)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(s).then(Wn)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=n(this,Xt).build(this,t);return r.isStaleByTime(Hn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Wn).catch(Wn)}fetchInfiniteQuery(e){return e.behavior=bs(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Wn).catch(Wn)}ensureInfiniteQueryData(e){return e.behavior=bs(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return os.isOnline()?n(this,Jt).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(this,Xt)}getMutationCache(){return n(this,Jt)}getDefaultOptions(){return n(this,er)}setDefaultOptions(e){a(this,er,e)}setQueryDefaults(e,t){n(this,tr).set(Kn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...n(this,tr).values()];let r={};return t.forEach(t=>{Qn(e,t.queryKey)&&(r={...r,...t.defaultOptions})}),r}setMutationDefaults(e,t){n(this,rr).set(Kn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...n(this,rr).values()];let r={};return t.forEach(t=>{Qn(e,t.mutationKey)&&(r={...r,...t.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...n(this,er).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Gn(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===ss&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...n(this,er).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){n(this,Xt).clear(),n(this,Jt).clear()}},Xt=new WeakMap,Jt=new WeakMap,er=new WeakMap,tr=new WeakMap,rr=new WeakMap,nr=new WeakMap,sr=new WeakMap,ar=new WeakMap,ir),ks=de.createContext(void 0),Ss=({client:e,children:t})=>(de.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(ks.Provider,{value:e,children:t}));const _s=new Ns({defaultOptions:{queries:{queryFn:(({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return"returnNull"===e&&401===r.status?null:(await async function(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}(r),await r.json())})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});let Ds=0;const Es=new Map,Ms=e=>{if(Es.has(e))return;const t=setTimeout(()=>{Es.delete(e),Os({type:"REMOVE_TOAST",toastId:e})},1e6);Es.set(e,t)},Ts=[];let Cs={toasts:[]};function Os(e){Cs=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ms(r):e.toasts.forEach(e=>{Ms(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(Cs,e),Ts.forEach(e=>{e(Cs)})}function Ps({...e}){const t=(Ds=(Ds+1)%Number.MAX_SAFE_INTEGER,Ds.toString()),r=()=>Os({type:"DISMISS_TOAST",toastId:t});return Os({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>Os({type:"UPDATE_TOAST",toast:{...e,id:t}})}}var As="ToastProvider",[Rs,Is,Fs]=c("Toast"),[Ls,Ys]=d("Toast",[Fs]),[zs,qs]=Ls(As),Bs=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[o,c]=de.useState(null),[d,u]=de.useState(0),m=de.useRef(!1),h=de.useRef(!1);return r.trim(),l.jsx(Rs.Provider,{scope:t,children:l.jsx(zs,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:de.useCallback(()=>u(e=>e+1),[]),onToastRemove:de.useCallback(()=>u(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:i})})};Bs.displayName=As;var Us="ToastViewport",Ws=["F8"],Hs="toast.viewportPause",Vs="toast.viewportResume",$s=de.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Ws,label:s="Notifications ({hotkey})",...a}=e,i=qs(Us,r),o=Is(r),c=de.useRef(null),d=de.useRef(null),f=de.useRef(null),p=de.useRef(null),g=u(t,p,i.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;de.useEffect(()=>{const e=e=>{var t;0!==n.length&&n.every(t=>e[t]||e.code===t)&&(null==(t=p.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),de.useEffect(()=>{const e=c.current,t=p.current;if(x&&e&&t){const r=()=>{if(!i.isClosePausedRef.current){const e=new CustomEvent(Hs);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},n=()=>{if(i.isClosePausedRef.current){const e=new CustomEvent(Vs);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},s=t=>{!e.contains(t.relatedTarget)&&n()},a=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",s),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",a),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",s),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",a),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[x,i.isClosePausedRef]);const y=de.useCallback(({tabbingDirection:e})=>{const t=o().map(t=>{const r=t.ref.current,n=[r,...ua(r)];return"forwards"===e?n:n.reverse()});return("forwards"===e?t.reverse():t).flat()},[o]);return de.useEffect(()=>{const e=p.current;if(e){const t=t=>{var r,n,s;const a=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!a){const a=document.activeElement,i=t.shiftKey;if(t.target===e&&i)return void(null==(r=d.current)||r.focus());const o=y({tabbingDirection:i?"backwards":"forwards"}),l=o.findIndex(e=>e===a);ma(o.slice(l+1))?t.preventDefault():i?null==(n=d.current)||n.focus():null==(s=f.current)||s.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[o,y]),l.jsxs(m,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(Ks,{ref:d,onFocusFromOutsideViewport:()=>{ma(y({tabbingDirection:"forwards"}))}}),l.jsx(Rs.Slot,{scope:r,children:l.jsx(h.ol,{tabIndex:-1,...a,ref:g})}),x&&l.jsx(Ks,{ref:f,onFocusFromOutsideViewport:()=>{ma(y({tabbingDirection:"backwards"}))}})]})});$s.displayName=Us;var Gs="ToastFocusProxy",Ks=de.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=qs(Gs,r);return l.jsx(f,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null==(t=a.viewport)?void 0:t.contains(r))&&n()}})});Ks.displayName=Gs;var Qs="Toast",Zs=de.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[o=!0,c]=p({prop:n,defaultProp:s,onChange:a});return l.jsx(g,{present:r||o,children:l.jsx(ea,{open:o,...i,ref:t,onClose:()=>c(!1),onPause:v(e.onPause),onResume:v(e.onResume),onSwipeStart:x(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:x(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:x(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:x(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),c(!1)})})})});Zs.displayName=Qs;var[Xs,Js]=Ls(Qs,{onClose(){}}),ea=de.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...b}=e,w=qs(Qs,r),[j,N]=de.useState(null),k=u(t,e=>N(e)),S=de.useRef(null),_=de.useRef(null),D=s||w.duration,E=de.useRef(0),M=de.useRef(D),T=de.useRef(0),{onToastAdd:C,onToastRemove:O}=w,P=v(()=>{var e;(null==j?void 0:j.contains(document.activeElement))&&(null==(e=w.viewport)||e.focus()),i()}),A=de.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(T.current),E.current=(new Date).getTime(),T.current=window.setTimeout(P,e))},[P]);de.useEffect(()=>{const e=w.viewport;if(e){const t=()=>{A(M.current),null==d||d()},r=()=>{const e=(new Date).getTime()-E.current;M.current=M.current-e,window.clearTimeout(T.current),null==c||c()};return e.addEventListener(Hs,r),e.addEventListener(Vs,t),()=>{e.removeEventListener(Hs,r),e.removeEventListener(Vs,t)}}},[w.viewport,D,c,d,A]),de.useEffect(()=>{a&&!w.isClosePausedRef.current&&A(D)},[a,D,w.isClosePausedRef,A]),de.useEffect(()=>(C(),()=>O()),[C,O]);const R=de.useMemo(()=>j?la(j):null,[j]);return w.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(ta,{__scopeToast:r,role:"status","aria-live":"foreground"===n?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(Xs,{scope:r,onClose:P,children:ce.createPortal(l.jsx(Rs.ItemSlot,{scope:r,children:l.jsx(y,{asChild:!0,onEscapeKeyDown:x(o,()=>{w.isFocusedToastEscapeKeyDownRef.current||P(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(h.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:k,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:x(e.onKeyDown,e=>{"Escape"===e.key&&(null==o||o(e.nativeEvent),e.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:x(e.onPointerDown,e=>{0===e.button&&(S.current={x:e.clientX,y:e.clientY})}),onPointerMove:x(e.onPointerMove,e=>{if(!S.current)return;const t=e.clientX-S.current.x,r=e.clientY-S.current.y,n=Boolean(_.current),s=["left","right"].includes(w.swipeDirection),a=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,i=s?a(0,t):0,o=s?0:a(0,r),l="touch"===e.pointerType?10:2,c={x:i,y:o},d={originalEvent:e,delta:c};n?(_.current=c,ca("toast.swipeMove",f,d,{discrete:!1})):da(c,w.swipeDirection,l)?(_.current=c,ca("toast.swipeStart",m,d,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(S.current=null)}),onPointerUp:x(e.onPointerUp,e=>{const t=_.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),_.current=null,S.current=null,t){const r=e.currentTarget,n={originalEvent:e,delta:t};da(t,w.swipeDirection,w.swipeThreshold)?ca("toast.swipeEnd",g,n,{discrete:!0}):ca("toast.swipeCancel",p,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),ta=e=>{const{__scopeToast:t,children:r,...n}=e,s=qs(Qs,t),[a,i]=de.useState(!1),[o,c]=de.useState(!1);return function(e=()=>{}){const t=v(e);w(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>i(!0)),de.useEffect(()=>{const e=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(e)},[]),o?null:l.jsx(b,{asChild:!0,children:l.jsx(f,{...n,children:a&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},ra=de.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(h.div,{...n,ref:t})});ra.displayName="ToastTitle";var na=de.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(h.div,{...n,ref:t})});na.displayName="ToastDescription";var sa=de.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(oa,{altText:r,asChild:!0,children:l.jsx(ia,{...n,ref:t})}):null});sa.displayName="ToastAction";var aa="ToastClose",ia=de.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Js(aa,r);return l.jsx(oa,{asChild:!0,children:l.jsx(h.button,{type:"button",...n,ref:t,onClick:x(e.onClick,s.onClose)})})});ia.displayName=aa;var oa=de.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(h.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function la(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...la(e))}}),t}function ca(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?j(s,a):s.dispatchEvent(a)}var da=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return"left"===t||"right"===t?a&&n>r:!a&&s>r};function ua(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ma(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var ha=$s,fa=Zs,pa=ra,ga=na,va=sa,xa=ia;function ya(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=ya(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const ba=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,wa=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=ya(e))&&(n&&(n+=" "),n+=t);return n},ja=(e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return wa(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(e=>{const t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;const i=ba(t)||ba(n);return s[e][i]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...o}[t]):{...a,...o}[t]===r})?[...e,r,n]:e},[]);return wa(e,i,l,null==r?void 0:r.class,null==r?void 0:r.className)};function Na(...e){return ge(ve(e))}const ka=Bs,Sa=de.forwardRef(({className:e,...t},r)=>l.jsx(ha,{ref:r,className:Na("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Sa.displayName=ha.displayName;const _a=ja("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Da=de.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(fa,{ref:n,className:Na(_a({variant:t}),e),...r}));Da.displayName=fa.displayName,de.forwardRef(({className:e,...t},r)=>l.jsx(va,{ref:r,className:Na("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=va.displayName;const Ea=de.forwardRef(({className:e,...t},r)=>l.jsx(xa,{ref:r,className:Na("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Zr,{className:"h-4 w-4"})}));Ea.displayName=xa.displayName;const Ma=de.forwardRef(({className:e,...t},r)=>l.jsx(pa,{ref:r,className:Na("text-sm font-semibold",e),...t}));Ma.displayName=pa.displayName;const Ta=de.forwardRef(({className:e,...t},r)=>l.jsx(ga,{ref:r,className:Na("text-sm opacity-90",e),...t}));function Ca(){const{toasts:e}=function(){const[e,t]=de.useState(Cs);return de.useEffect(()=>(Ts.push(t),()=>{const e=Ts.indexOf(t);e>-1&&Ts.splice(e,1)}),[e]),{...e,toast:Ps,dismiss:e=>Os({type:"DISMISS_TOAST",toastId:e})}}();return l.jsxs(ka,{children:[e.map(function({id:e,title:t,description:r,action:n,...s}){return l.jsxs(Da,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[t&&l.jsx(Ma,{children:t}),r&&l.jsx(Ta,{children:r})]}),n,l.jsx(Ea,{})]},e)}),l.jsx(Sa,{})]})}function Oa(){const[e,t]=de.useState(navigator.onLine);return de.useEffect(()=>{const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),e?null:l.jsx("div",{className:"fixed bottom-0 inset-x-0 z-[1000]",children:l.jsx("div",{className:"mx-auto max-w-3xl mb-4",children:l.jsx("div",{className:"mx-4 rounded-md bg-amber-50 border border-amber-200 p-3 text-amber-800 text-sm shadow-sm",children:"You are offline. Some features may not work until connection is restored."})})})}Ta.displayName=ga.displayName,Array(12).fill(0);let Pa=1;const Aa=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...n}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Pa++,a=this.toasts.find(e=>e.id===s),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:r}),{...t,...e,id:s,dismissible:i,title:r}):t):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const n=Promise.resolve(e instanceof Function?e():e);let s,a=void 0!==r;const i=n.then(async e=>{if(s=["resolve",e],me.isValidElement(e))a=!1,this.create({id:r,type:"default",message:e});else if(Ra(e)&&!e.ok){a=!1;const n="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"!=typeof n||me.isValidElement(n)?{message:n}:n;this.create({id:r,type:"error",description:s,...i})}else if(e instanceof Error){a=!1;const n="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof n||me.isValidElement(n)?{message:n}:n;this.create({id:r,type:"error",description:s,...i})}else if(void 0!==t.success){a=!1;const n="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof n||me.isValidElement(n)?{message:n}:n;this.create({id:r,type:"success",description:s,...i})}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){a=!1;const n="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof n||me.isValidElement(n)?{message:n}:n;this.create({id:r,type:"error",description:s,...i})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{const r=(null==t?void 0:t.id)||Pa++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ra=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Ia=(e,t)=>{const r=(null==t?void 0:t.id)||Pa++;return Aa.addToast({title:e,...t,id:r}),r},Fa=Object.assign(Ia,{success:Aa.success,info:Aa.info,warning:Aa.warning,error:Aa.error,custom:Aa.custom,message:Aa.message,promise:Aa.promise,dismiss:Aa.dismiss,loading:Aa.loading},{getHistory:()=>Aa.toasts,getToasts:()=>Aa.getActiveToasts()});function La(){return de.useEffect(()=>{const e=e=>{Fa.error("An unexpected error occurred")},t=e=>{};return window.addEventListener("unhandledrejection",e),window.addEventListener("error",t),()=>{window.removeEventListener("unhandledrejection",e),window.removeEventListener("error",t)}},[]),null}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ya={common:{home:"Home",about:"About",contact:"Contact",login:"Login",logout:"Logout",signup:"Sign Up",submit:"Submit",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",loading:"Loading...",error:"An error occurred",success:"Success",welcome:"Welcome",language:"Language",close:"Close"},navigation:{home:"Home",members:"Orga Team",projects:"Projects",events:"Events",leaderboard:"Leaderboard",battleground:"Battleground",contact:"Contact"},sidebar:{loggedInAs:"Signed in as"},auth:{signIn:"Sign In",signUp:"Create Account",resetPassword:"Reset Password",resetPasswordInstructions:"Enter your email to receive a password reset link",email:"Email",password:"Password",loginCta:"Join the FS Quant & Data Science community",needAccount:"Need an account?",alreadyRegistered:"Already registered?",forgotPassword:"Forgot your password?",sendResetEmail:"Send Reset Email",backToSignIn:"Back to Sign In",registrationSuccessTitle:"Registration Successful!",registrationSuccessBody:"We've sent you an email with instructions to set up your password. Please check your inbox and follow the link to complete your registration.",goToSignIn:"Go to Sign In",completeVerification:"Please complete the verification",captchaFailed:"Verification failed. Please try again.",invalidCredentials:"Invalid email or password",emailNotConfirmed:"Please verify your email before signing in",resetEmailSent:"Password reset email sent! Check your inbox.",resetEmailFailed:"Failed to send reset email",unexpectedError:"An error occurred",logoutSuccess:"You have been logged out",adminRegistrationDisabled:"Admin accounts cannot be created via the website. Please contact an administrator.",invalidDomain:"Only Frankfurt School email addresses (@fs-students.de or @fs.de) are allowed",userExists:"An account with this email already exists. Please sign in.",registrationFailed:"Registration failed. Please try again.",welcomeBack:"Welcome back!",loading:"Loading...",setupNote:"After registration, you'll receive an email to set up your password.",rateLimited:"Too many attempts. Please wait a moment and try again.",networkError:"Network error. Please check your connection and try again.",sessionExpired:"Your session has expired. Please sign in again.",weakPassword:"Password is too weak. Please choose a stronger one."},leaderboard:{title:"Leaderboard",hti:"Hack the Interview",adx:"Axe the DAX",tabHti:"HTI",tabAdx:"ADX",signIn:"Sign In",signUp:"Sign Up",email:"Email",password:"Password",loginCta:"Join the FS Quant & Data Science community",needAccount:"Need an account?",alreadyRegistered:"Already registered?",emailVerificationSent:"Verification email sent! Check your inbox.",invalidCredentials:"Invalid email or password",locked:"Sign in to participate",leaderboard:"Leaderboard",rank:"Rank",player:"Player",score:"Score",points:"points",questionNumber:"Q",countdown:"Unlocks in",correctAnswer:"Correct! Well done!",wrongAnswer:"Incorrect. Try again next time!",alreadyAnswered:"You've already answered this question",questionLocked:"This question is not available yet",portfolio:"Portfolio",myEquity:"Equity",positions:"Positions",orderSuccess:"Order placed successfully!",orderFailed:"Failed to place order",disclaimer:"This is a simulated trading environment for educational purposes only.",optionsNote:"Options data is generated for demonstration. Real trading involves significant risk.",lastUpdated:"Last updated",seasonInfo:"Season Information"},admin:{title:"Admin Panel",questions:"Questions",tickers:"Tickers",revenue:"Revenue Windows",badges:"Badges",seasons:"Seasons",createQuestion:"Create Question",editQuestion:"Edit Question",questionText:"Question Text",questionType:"Question Type",releaseTime:"Release Time",closeTime:"Close Time",isActive:"Active",addTicker:"Add Ticker",symbol:"Symbol",companyName:"Company Name",band:"Band",top5:"Top 5",bottom5:"Bottom 5"},events:{title:"Events",calendar:"Event Calendar",upcoming:"Upcoming Events",past:"Past Events",pastCollaborations:"Past Successful Collaborations",pastCollaborationsDescription:"We've partnered with leading companies to provide real-world projects, mentorship, and career opportunities for our members.",newEventsComingSoon:"* New events will be announced soon",register:"Register",addToCalendar:"Add to Calendar",location:"Location",date:"Date",time:"Time",organizer:"Organizer",capacity:"Capacity",noEvents:"No upcoming events at the moment"},members:{title:"Orga Team",subtitle:"Meet the team behind FS Quant & Data Science",position:"Position",department:"Department",expertise:"Expertise",email:"Email",linkedin:"LinkedIn"},projects:{title:"Projects",current:"Current Projects",completed:"Completed Projects",viewDetails:"View Details",technologies:"Technologies",team:"Team",duration:"Duration",status:"Status"},footer:{about:"About Us",quickLinks:"Quick Links",connect:"Connect",copyright:" 2025 FS Quant & Data Science. All rights reserved.",privacy:"Privacy Policy",terms:"Terms of Service"},home:{heroSubtitle:"Welcome!",heroDescription:"Join us in exploring the intersection of quantitative finance, data science, and cutting-edge technology.",cta:{applyNow:"Apply Now",learnMore:"Learn More"},lab:{title:"Our Applied Quant Lab",description:"With a clearer structure and a name that reflects our direction, the club is becoming a flagship quant talent pool for Frankfurt School. Industry partners provide datasets, mentors, and hiring opportunities."},features:{projectSprint:{title:"Semester-Long Project Sprint",description:"Small student groups tackle real-world data or quant problems with a fixed timeline that mirrors industry agile cycles."},biweeklyMeetings:{title:"Bi-Weekly Online Meetings",description:"Regular initiative-wide meetings on Teams for collaboration, resource sharing, and community building through dedicated channels."},demoDay:{title:"Demo Day Finale",description:"Teams pitch to an industry jury. Top project wins a trophy, gift card, coffee chats with jurors, and referrals for internships/jobs."}},metrics:{activeMembers:"Active Members",projectsCompleted:"Projects Completed",eventsHosted:"Events Hosted",industryPartners:"Industry Partners"}},contact:{title:"Get in Touch",subtitle:"Have questions or want to join our initiative? We'd love to hear from you!",joinTitle:"Join Our Initiative",joinDescription:"Be part of Frankfurt School's premier quant and data science community",form:{name:"Name",email:"Email",message:"Message",submit:"Submit"},success:"Thanks for reaching out  we will get back to you soon!"},projectsTitle:"Projects",projectsSubtitle:"Explore our portfolio of data science and quantitative finance projects",eventsTitle:"Events",eventsSubtitle:"Stay tuned for upcoming workshops, competitions, and networking events with our industry partners.",noUpcomingEvents:"No upcoming events at the moment. Check back soon!",battleground:{trading:"Trading",predictions:"Predictions",portfolio:"Portfolio"}},za={common:{home:"Startseite",about:"ber uns",contact:"Kontakt",login:"Anmelden",logout:"Abmelden",signup:"Registrieren",submit:"Absenden",cancel:"Abbrechen",save:"Speichern",delete:"Lschen",edit:"Bearbeiten",loading:"Ldt...",error:"Ein Fehler ist aufgetreten",success:"Erfolgreich",welcome:"Willkommen",language:"Sprache",close:"Schlieen"},navigation:{home:"Startseite",members:"Orga Team",projects:"Projekte",events:"Veranstaltungen",leaderboard:"Bestenliste",battleground:"Battleground",contact:"Kontakt"},sidebar:{loggedInAs:"Angemeldet als"},auth:{signIn:"Anmelden",signUp:"Registrieren",resetPassword:"Passwort zurcksetzen",resetPasswordInstructions:"Gib deine E-Mail-Adresse ein, um einen Link zum Zurcksetzen des Passworts zu erhalten",email:"E-Mail",password:"Passwort",loginCta:"Tritt der FS Quant & Data Science Community bei",needAccount:"Noch kein Konto?",alreadyRegistered:"Bereits registriert?",forgotPassword:"Passwort vergessen?",sendResetEmail:"E-Mail zum Zurcksetzen senden",backToSignIn:"Zurck zur Anmeldung",registrationSuccessTitle:"Registrierung erfolgreich!",registrationSuccessBody:"Wir haben dir eine E-Mail mit Anweisungen zur Einrichtung deines Passworts gesendet. Bitte prfe deinen Posteingang und folge dem Link, um die Registrierung abzuschlieen.",goToSignIn:"Zur Anmeldung",completeVerification:"Bitte Verifizierung abschlieen",captchaFailed:"Verifizierung fehlgeschlagen. Bitte erneut versuchen.",invalidCredentials:"Ungltige E-Mail oder Passwort",emailNotConfirmed:"Bitte besttige deine E-Mail, bevor du dich anmeldest",resetEmailSent:"E-Mail zum Zurcksetzen des Passworts gesendet! Bitte Posteingang prfen.",resetEmailFailed:"Senden der E-Mail zum Zurcksetzen fehlgeschlagen",unexpectedError:"Ein Fehler ist aufgetreten",logoutSuccess:"Du wurdest abgemeldet",adminRegistrationDisabled:"Admin-Konten knnen nicht ber die Website erstellt werden. Bitte kontaktiere einen Administrator.",invalidDomain:"Nur Frankfurt School E-Mail-Adressen (@fs-students.de oder @fs.de) sind erlaubt",userExists:"Ein Konto mit dieser E-Mail existiert bereits. Bitte melde dich an.",registrationFailed:"Registrierung fehlgeschlagen. Bitte versuche es erneut.",welcomeBack:"Willkommen zurck!",loading:"Ldt...",setupNote:"Nach der Registrierung erhltst du eine E-Mail zur Einrichtung deines Passworts.",rateLimited:"Zu viele Versuche. Bitte warte einen Moment und versuche es erneut.",networkError:"Netzwerkfehler. Bitte berprfe deine Verbindung und versuche es erneut.",sessionExpired:"Deine Sitzung ist abgelaufen. Bitte melde dich erneut an.",weakPassword:"Passwort ist zu schwach. Bitte whle ein strkeres Passwort."},leaderboard:{title:"Bestenliste",hti:"Hack the Interview",adx:"Axe the DAX",tabHti:"HTI",tabAdx:"ADX",signIn:"Anmelden",signUp:"Registrieren",email:"E-Mail",password:"Passwort",loginCta:"Tritt der FS Quant & Data Science Community bei",needAccount:"Noch kein Konto?",alreadyRegistered:"Bereits registriert?",emailVerificationSent:"Besttigungs-E-Mail gesendet! Prfe deinen Posteingang.",invalidCredentials:"Ungltige E-Mail oder Passwort",locked:"Zum Teilnehmen anmelden",leaderboard:"Bestenliste",rank:"Rang",player:"Spieler",score:"Punkte",points:"Punkte",questionNumber:"F",countdown:"Verfgbar in",correctAnswer:"Richtig! Gut gemacht!",wrongAnswer:"Falsch. Versuche es nchstes Mal wieder!",alreadyAnswered:"Du hast diese Frage bereits beantwortet",questionLocked:"Diese Frage ist noch nicht verfgbar",portfolio:"Portfolio",myEquity:"Kapital",positions:"Positionen",orderSuccess:"Order erfolgreich platziert!",orderFailed:"Order konnte nicht platziert werden",disclaimer:"Dies ist eine simulierte Handelsumgebung nur fr Bildungszwecke.",optionsNote:"Optionsdaten werden zu Demonstrationszwecken generiert. Echter Handel birgt erhebliche Risiken.",lastUpdated:"Zuletzt aktualisiert",seasonInfo:"Saison-Information"},admin:{title:"Admin-Bereich",questions:"Fragen",tickers:"Ticker",revenue:"Umsatzfenster",badges:"Abzeichen",seasons:"Saisons",createQuestion:"Frage erstellen",editQuestion:"Frage bearbeiten",questionText:"Fragetext",questionType:"Fragetyp",releaseTime:"Freigabezeit",closeTime:"Schliezeit",isActive:"Aktiv",addTicker:"Ticker hinzufgen",symbol:"Symbol",companyName:"Firmenname",band:"Band",top5:"Top 5",bottom5:"Bottom 5"},events:{title:"Veranstaltungen",calendar:"Veranstaltungskalender",upcoming:"Kommende Veranstaltungen",past:"Vergangene Veranstaltungen",pastCollaborations:"Vergangene erfolgreiche Kooperationen",pastCollaborationsDescription:"Wir haben mit fhrenden Unternehmen zusammengearbeitet, um unseren Mitgliedern reale Projekte, Mentoring und Karrieremglichkeiten zu bieten.",newEventsComingSoon:"* Neue Veranstaltungen werden bald bekannt gegeben",register:"Anmelden",addToCalendar:"Zum Kalender hinzufgen",location:"Ort",date:"Datum",time:"Zeit",organizer:"Veranstalter",capacity:"Kapazitt",noEvents:"Derzeit keine bevorstehenden Veranstaltungen"},members:{title:"Orga Team",subtitle:"Lerne das Team hinter FS Quant & Data Science kennen",position:"Position",department:"Abteilung",expertise:"Expertise",email:"E-Mail",linkedin:"LinkedIn"},projects:{title:"Projekte",current:"Aktuelle Projekte",completed:"Abgeschlossene Projekte",viewDetails:"Details anzeigen",technologies:"Technologien",team:"Team",duration:"Dauer",status:"Status"},footer:{about:"ber uns",quickLinks:"Schnelllinks",connect:"Verbinden",copyright:" 2025 FS Quant & Data Science. Alle Rechte vorbehalten.",privacy:"Datenschutz",terms:"Nutzungsbedingungen"},home:{heroSubtitle:"Willkommen!",heroDescription:"Entdecke mit uns die Schnittstelle zwischen Quantitative Finance, Data Science und modernster Technologie.",cta:{applyNow:"Jetzt bewerben",learnMore:"Mehr erfahren"},lab:{title:"Unser Applied Quant Lab",description:"Mit einer klareren Struktur und einem Namen, der unsere Richtung widerspiegelt, wird der Club zu einem fhrenden Quant-Talent-Pool der Frankfurt School. Industriepartner stellen Datenstze, Mentoren und Einstellungsmglichkeiten zur Verfgung."},features:{projectSprint:{title:"Semesterlanger Projektsprint",description:"Kleine Studierendenteams bearbeiten reale Daten- oder Quant-Probleme mit einem festen Zeitplan, der agilen Zyklen in der Industrie entspricht."},biweeklyMeetings:{title:"Zweiwchentliche Online-Meetings",description:"Regelmige initiativweite Meetings auf Teams fr Zusammenarbeit, Ressourcenaustausch und Community-Aufbau in dedizierten Kanlen."},demoDay:{title:"Demo Day Finale",description:"Teams pitchen vor einer Industrie-Jury. Das Top-Projekt gewinnt eine Trophe, einen Gutschein, Coffee Chats mit Juroren und Empfehlungen fr Praktika/Jobs."}},metrics:{activeMembers:"Aktive Mitglieder",projectsCompleted:"Abgeschlossene Projekte",eventsHosted:"Veranstaltungen",industryPartners:"Industriepartner"}},contact:{title:"Kontakt aufnehmen",subtitle:"Hast du Fragen oder mchtest unserer Initiative beitreten? Wir freuen uns von dir zu hren!",joinTitle:"Unserer Initiative beitreten",joinDescription:"Werde Teil der fhrenden Quant- und Data-Science-Community der Frankfurt School",form:{name:"Name",email:"E-Mail",message:"Nachricht",submit:"Absenden"},success:"Danke fr deine Nachricht  wir melden uns bald bei dir!"},projectsTitle:"Projekte",projectsSubtitle:"Entdecke unser Portfolio an Data Science und Quantitative Finance Projekten",eventsTitle:"Veranstaltungen",eventsSubtitle:"Bleibe auf dem Laufenden ber kommende Workshops, Wettbewerbe und Networking-Events mit unseren Industriepartnern.",noUpcomingEvents:"Momentan keine bevorstehenden Veranstaltungen. Schau bald wieder vorbei!",battleground:{trading:"Handel",predictions:"Prognosen",portfolio:"Portfolio"}},qa=ye("https://mskpxebbscvisxcceiwx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1za3B4ZWJic2N2aXN4Y2NlaXd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NTM4NTksImV4cCI6MjA3MDQyOTg1OX0.QiAMNLTK6UPpsPm3Ic08I6UMuPMcuWiT6BO1lzQIqeo",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{Accept:"application/json","Content-Type":"application/json"}},db:{schema:"public"}}),Ba={en:Ya,de:za},Ua=de.createContext(void 0);function Wa({children:e}){const[t,r]=de.useState("en");return de.useEffect(()=>{const e=localStorage.getItem("lang");if(!e||"en"!==e&&"de"!==e){const e=navigator.language.startsWith("de")?"de":"en";r(e),localStorage.setItem("lang",e)}else r(e)},[]),l.jsx(Ua.Provider,{value:{language:t,setLanguage:async e=>{r(e),localStorage.setItem("lang",e);const{data:{user:t}}=await qa.auth.getUser();t&&await qa.from("user_profiles").update({language:e}).eq("user_id",t.id)},t:(e,r)=>{try{let n;if(e.includes(".")){const r=e.split(".");n=Ba[t];for(const t of r){if(!n||"object"!=typeof n||!(t in n)){n=Ba.en;for(const t of r){if(!n||"object"!=typeof n||!(t in n))return e;n=n[t]}break}n=n[t]}}else n=Ba[t][e]||Ba.en[e];if("string"!=typeof n)return e;if(r&&n){let e=n;return Object.entries(r).forEach(([t,r])=>{e=e.replace(new RegExp(`\\{${t}\\}`,"g"),String(r))}),e}return n||e}catch(n){return e}}},children:e})}function Ha(){const e=de.useContext(Ua);if(!e)throw new Error("useI18n must be used within an I18nProvider");return e}const Va=de.createContext(void 0);function $a({children:e}){const[t,r]=de.useState(null),[n,s]=de.useState(null),[a,i]=de.useState(!1),[o,c]=de.useState(!0),d=de.useRef(!1),u=async e=>{try{const{data:t}=await qa.from("user_profiles").select("is_admin").eq("user_id",e).single();return i((null==t?void 0:t.is_admin)||!1),(null==t?void 0:t.is_admin)||!1}catch(t){return i(!1),!1}},m=async()=>{try{const{data:{session:e},error:t}=await qa.auth.refreshSession();if(t)throw t;e&&(s(e),r(e.user),await u(e.user.id),localStorage.setItem("supabase.auth.token",JSON.stringify({currentSession:e,expiresAt:e.expires_at})))}catch(e){}};de.useEffect(()=>{let e,t=!0,a=!1;(async()=>{if(!a){a=!0;try{const{data:{session:e}}=await qa.auth.getSession();e&&t?(s(e),r(e.user),await u(e.user.id)):t&&(s(null),r(null),i(!1),localStorage.removeItem("supabase.auth.token"))}catch(e){t&&(s(null),r(null),i(!1))}finally{t&&c(!1)}}})();const{data:o}=qa.auth.onAuthStateChange(async(a,o)=>{t&&(clearTimeout(e),e=setTimeout(async()=>{t&&(o?(null==n?void 0:n.access_token)!==o.access_token&&(s(o),r(o.user),await u(o.user.id)):"SIGNED_OUT"===a&&(s(null),r(null),i(!1),localStorage.removeItem("supabase.auth.token"),d.current?(Fa.success("You have been logged out"),d.current=!1):Fa.error("Your session has expired. Please sign in again.")))},100))}),l=setInterval(()=>{n&&t&&new Date(n.expires_at||0).getTime()-(new Date).getTime()<3e5&&m()},6e4);return()=>{t=!1,clearTimeout(e),null==o||o.subscription.unsubscribe(),clearInterval(l)}},[]);const h={user:t,session:n,isAdmin:a,loading:o,signIn:async(e,t)=>{try{const{data:r,error:n}=await qa.auth.signInWithPassword({email:e,password:t});if(n)throw n;return r.session&&localStorage.setItem("supabase.auth.token",JSON.stringify({currentSession:r.session,expiresAt:r.session.expires_at})),{error:null}}catch(r){return{error:r}}},signUp:async(e,t,r)=>{try{const{data:n,error:s}=await qa.auth.signUp({email:e,password:t,options:{data:{username:r||e.split("@")[0]}}});if(s)throw s;if(n.user){const{error:t}=await qa.from("user_profiles").insert({user_id:n.user.id,username:r||e.split("@")[0],email:e,is_admin:!1,hti_score:0})}return{error:null}}catch(n){return{error:n}}},signOut:async()=>{try{d.current=!0,r(null),s(null),i(!1),localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-mskpxebbscvisxcceiwx-auth-token"),localStorage.removeItem("authMode"),localStorage.removeItem("confetti_shown"),sessionStorage.clear();const{error:e}=await qa.auth.signOut();setTimeout(()=>{window.location.href="/"},100)}catch(e){Fa.error("Error signing out"),r(null),s(null),i(!1)}},refreshSession:m};return l.jsx(Va.Provider,{value:h,children:e})}function Ga(){const e=de.useContext(Va);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}const Ka=({features:e})=>l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((e,t)=>l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-200 hover:shadow-xl transition-shadow",children:[l.jsx("div",{className:`w-12 h-12 ${e.iconBgColor} rounded-full flex items-center justify-center mb-4`,children:l.jsx("i",{className:`fas ${e.icon} ${e.iconTextColor} text-xl`})}),l.jsx("h3",{className:"font-inter text-xl font-semibold mb-2 text-gray-800",children:e.title}),l.jsx("p",{className:"text-gray-600",children:e.description})]},t))}),Qa=()=>{const{t:e}=Ha(),t=[{icon:"fa-project-diagram",iconBgColor:"bg-blue-500",iconTextColor:"text-white",title:e("home.features.projectSprint.title"),description:e("home.features.projectSprint.description")},{icon:"fa-users",iconBgColor:"bg-indigo-500",iconTextColor:"text-white",title:e("home.features.biweeklyMeetings.title"),description:e("home.features.biweeklyMeetings.description")},{icon:"fa-trophy",iconBgColor:"bg-amber-500",iconTextColor:"text-white",title:e("home.features.demoDay.title"),description:e("home.features.demoDay.description")}];return e("home.metrics.activeMembers"),e("home.metrics.projectsCompleted"),e("home.metrics.eventsHosted"),e("home.metrics.industryPartners"),l.jsxs("section",{id:"home",className:"min-h-screen bg-white",children:[l.jsx("div",{className:"relative bg-gradient-to-r from-blue-50 to-indigo-50",children:l.jsx("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8 relative z-10",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"font-inter text-4xl md:text-5xl font-bold mb-4 text-gray-800",children:e("home.heroSubtitle")}),l.jsx("p",{className:"text-lg mb-8 text-gray-600",children:e("home.heroDescription")})]}),l.jsx("div",{className:"hidden lg:block",children:l.jsx("div",{className:"relative h-80 w-full rounded-lg bg-white p-6 shadow-lg border border-gray-200",children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("img",{src:"/fsqds-hero.png",alt:"FS Quant & Data Science Initiative",className:"max-h-full max-w-full object-contain"})})})})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-inter font-bold text-gray-800 mb-4",children:e("home.lab.title")}),l.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:e("home.lab.description")})]}),l.jsx(Ka,{features:t})]})]})},Za=({member:e,variant:t="large",className:r=""})=>"large"===t?l.jsxs("div",{className:`bg-white rounded-xl border border-neutral-200 shadow-sm hover:shadow-md transition-all hover:-translate-y-[1px] ${r}`,children:[l.jsxs("div",{className:"w-full h-72 md:h-80 bg-neutral-100 relative overflow-hidden",children:[e.image?l.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover",style:{objectPosition:"paul-wentzel"===(null==e?void 0:e.id)?"50% 30%":"50% 10%"}}):l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:l.jsx("div",{className:"text-6xl font-semibold text-neutral-400",children:e.name.charAt(0)})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent pointer-events-none"})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h4",{className:"font-inter text-2xl font-semibold tracking-tight text-neutral-900",children:e.linkedin?l.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-[#0B3D91] hover:underline",children:e.name}):e.name}),l.jsx("div",{className:"mt-1 text-[#0B3D91] font-medium",children:e.position}),e.subtitle&&l.jsx("p",{className:"mt-1 text-neutral-700 text-sm",children:e.subtitle}),e.classOf&&l.jsx("p",{className:"text-neutral-600 text-sm",children:e.classOf}),l.jsx("div",{className:"mt-4 h-px bg-neutral-200"}),l.jsx("div",{className:"mt-4 flex items-center space-x-3",children:e.email&&l.jsxs("a",{href:`mailto:${e.email}`,className:"inline-flex items-center text-neutral-600 hover:text-[#0B3D91] transition-colors",children:[l.jsx("i",{className:"fas fa-envelope mr-2"}),l.jsx("span",{className:"text-sm",children:"Contact"})]})})]})]}):"medium"===t?l.jsx("div",{className:`bg-white rounded-lg shadow-md p-6 border border-gray-200 ${r}`,children:l.jsxs("div",{className:"flex flex-col items-center",children:[e.image?l.jsx("img",{src:e.image,alt:e.name,className:"w-24 h-24 rounded-full object-cover mb-4"}):l.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mb-4 text-2xl font-bold text-gray-500",children:e.name.charAt(0)}),l.jsx("h4",{className:"font-inter text-lg font-semibold mb-1 text-center text-gray-800",children:e.name}),l.jsx("p",{className:"text-blue-600 text-sm font-medium mb-2 text-center",children:e.position||e.role}),l.jsx("p",{className:"text-gray-600 text-sm text-center",children:e.bio})]})}):l.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-4 flex flex-col items-center border border-gray-200 ${r}`,children:[e.image?l.jsx("img",{src:e.image,alt:e.name,className:"w-16 h-16 rounded-full object-cover mb-2"}):l.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mb-2 text-lg font-bold text-gray-500",children:e.name.charAt(0)}),l.jsx("h4",{className:"font-inter text-sm font-semibold mb-0.5 text-center text-gray-800",children:e.name}),l.jsx("p",{className:"text-gray-600 text-xs text-center",children:e.department})]}),Xa=()=>{const{t:e}=Ha();return l.jsx("section",{id:"members",className:"py-16 bg-white min-h-screen",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-inter font-bold text-gray-800 mb-4",children:e("members.title")}),l.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:e("members.subtitle")})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h3",{className:"text-2xl font-inter font-semibold mb-6 text-gray-800 text-center",children:e("members.title")}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{id:"kartik-yadav",name:"Kartik Yadav",position:"Head",department:"FS Quant & Data Science Initiative",subtitle:"Master of Finance",classOf:"Class of 2026",image:"/kartik.jpg",email:"kartik.yadav@fs-students.de",expertise:["Machine Learning","Quantitative Finance","Data Engineering"]},{id:"paul-wentzel",name:"Paul Wentzel",position:"Head",department:"FS Quant & Data Science Initiative",subtitle:"Bachelor in Computational Business Analytics",classOf:"Class of 2028",image:"/paul.jpeg",email:"paul.wentzel@fs-students.de",expertise:["Statistical Analysis","Risk Management","Python"],linkedin:"https://www.linkedin.com/in/paul-wentzel"}].map(e=>l.jsx(Za,{member:e,variant:"large"},e.id))})]})]})})},Ja=()=>{const{t:e}=Ha(),[t,r]=de.useState("all"),n=[{id:"risk-modeling",title:"Credit Risk Modeling with ML",description:"Developing advanced machine learning models for credit risk assessment using real banking data.",status:"current",type:"industry",teamSize:5,technologies:["Python","TensorFlow","XGBoost","SQL"],partner:"Commerzbank",duration:"3 months"},{id:"portfolio-opt",title:"Portfolio Optimization Engine",description:"Building a quantitative portfolio optimization system using modern portfolio theory and factor models.",status:"current",type:"industry",teamSize:4,technologies:["Python","NumPy","Pandas","CVXPY"],partner:"DWS Group",duration:"3 months"},{id:"nlp-sentiment",title:"Financial News Sentiment Analysis",description:"NLP-based sentiment analysis of financial news to predict market movements.",status:"showcase",type:"research",teamSize:6,technologies:["BERT","PyTorch","Hugging Face","AWS"],achievements:["92% accuracy","Real-time processing"],duration:"4 months"},{id:"fraud-detection",title:"Real-time Fraud Detection System",description:"Anomaly detection system for identifying fraudulent transactions in real-time.",status:"showcase",type:"industry",teamSize:5,technologies:["Apache Kafka","Spark","scikit-learn","Docker"],partner:"EY",achievements:["99.2% precision","<100ms latency"],duration:"3 months"}].filter(e=>"all"===t||("current"===t?"current"===e.status:"showcase"===t?"showcase"===e.status:"industry"!==t||"industry"===e.type));return l.jsx("section",{id:"projects",className:"py-16 bg-white min-h-screen",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-inter font-bold text-gray-800 mb-4",children:e("projectsTitle")}),l.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:e("projectsSubtitle")})]}),l.jsx("div",{className:"flex flex-wrap justify-center mb-12 gap-3",children:[{key:"all",label:"All Projects",icon:"fa-th"},{key:"current",label:"Current Sprint",icon:"fa-clock"},{key:"showcase",label:"Showcase",icon:"fa-trophy"},{key:"industry",label:"Industry Partners",icon:"fa-handshake"}].map(e=>l.jsxs("button",{className:"px-5 py-2.5 rounded-full font-medium transition-all duration-200 flex items-center gap-2 "+(t===e.key?"bg-blue-600 text-white shadow-lg scale-105":"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300"),onClick:()=>r(e.key),children:[l.jsx("i",{className:`fas ${e.icon} text-sm`}),e.label]},e.key))}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:n.map(e=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.title}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("current"===e.status?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:"current"===e.status?"Active":"Completed"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),e.partner&&l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("i",{className:"fas fa-building text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.partner})]}),l.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("i",{className:"fas fa-users text-gray-400"}),l.jsxs("span",{children:[e.teamSize," members"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("i",{className:"fas fa-calendar text-gray-400"}),l.jsx("span",{children:e.duration})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.technologies.map((e,t)=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:e},t))}),e.achievements&&l.jsx("div",{className:"pt-4 border-t border-gray-200",children:l.jsx("div",{className:"flex flex-wrap gap-3",children:e.achievements.map((e,t)=>l.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[l.jsx("i",{className:"fas fa-check-circle"}),l.jsx("span",{children:e})]},t))})})]},e.id))}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-8 mb-16 border border-blue-200",children:[l.jsx("h3",{className:"font-inter text-2xl font-semibold mb-6 text-center text-gray-800",children:"How Our Project Sprints Work"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:l.jsx("i",{className:"fas fa-rocket text-blue-600 text-xl"})}),l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Project Kickoff"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Teams form and receive real datasets and problem statements from industry partners."})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:l.jsx("i",{className:"fas fa-code text-indigo-600 text-xl"})}),l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Sprint Development"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Bi-weekly check-ins, mentorship sessions, and collaborative problem-solving on Teams."})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[l.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4",children:l.jsx("i",{className:"fas fa-trophy text-amber-600 text-xl"})}),l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Demo Day"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Teams present to industry jury. Winners receive prizes and internship referrals."})]})]})]}),l.jsxs("div",{className:"text-center bg-white rounded-lg shadow-lg p-12 border border-gray-200",children:[l.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Join Our Next Project Sprint"}),l.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Be part of a team tackling real-world quant and data science challenges. Build your portfolio, gain industry experience, and compete for prizes."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("a",{href:"/contact",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Apply for Next Sprint"}),l.jsx("a",{href:"#",className:"px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Become a Partner"})]})]})]})})},ei=new Date,ti=e=>{const t=new Date(ei);return t.setDate(t.getDate()+e),t};ti(15),ti(18),ti(27),ti(35);const ri=e=>{const t=new Date(ei);return t.setDate(t.getDate()-e),t};ri(25),ri(40),ri(55),ri(70);const ni=ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),si=de.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?N:"button";return l.jsx(i,{className:Na(ni({variant:t,size:r,className:e})),ref:a,...s})});si.displayName="Button";const ai=({event:e})=>{const t=(e=>{switch(e){case"workshop":return"bg-[#0B3D91] text-white";case"speaker":return"bg-[#00A6ED] text-white";case"competition":return"bg-[#FFC107] text-[#0B3D91]";case"meetup":return"bg-[#28A745] text-white";default:return"bg-neutral-500 text-white"}})(e.type),r=xe(e.date,"d"),n=xe(e.date,"MMM");return l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-neutral-200 hover:shadow-md transition-all",children:l.jsxs("div",{className:"flex",children:[l.jsxs("div",{className:"bg-[#0B3D91] text-white font-semibold p-4 text-center flex flex-col justify-center min-w-[90px]",children:[l.jsx("span",{className:"text-2xl font-bold",children:r}),l.jsx("span",{className:"uppercase tracking-wide text-sm opacity-90",children:n})]}),l.jsxs("div",{className:"p-4 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"font-inter text-lg font-semibold mb-1 text-neutral-900",children:e.title}),l.jsx("span",{className:`${t} text-xs px-2 py-1 rounded-full`,children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})]}),l.jsx("p",{className:"text-neutral-700 text-sm mb-3",children:e.description}),l.jsxs("div",{className:"flex items-center text-sm text-neutral-600 mb-3",children:[l.jsx("i",{className:"far fa-clock mr-2"}),l.jsxs("span",{children:[e.startTime," - ",e.endTime]}),l.jsx("i",{className:"fas fa-map-marker-alt ml-4 mr-2"}),l.jsx("span",{children:e.location})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(si,{variant:"outline",size:"sm",className:"text-neutral-700 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{const t=new Date(`${e.date.toDateString()} ${e.startTime}`),r=new Date(`${e.date.toDateString()} ${e.endTime}`),n=(e=>{const t=e=>e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",r=t(e.start),n=t(e.end),s=t(new Date);return`BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Data Science Student Initiative//NONSGML Calendar//EN\nCALSCALE:GREGORIAN\nBEGIN:VEVENT\nUID:${e.id}@dssi.frankfurt-school.de\nDTSTAMP:${s}\nDTSTART:${r}\nDTEND:${n}\nSUMMARY:${e.title}\nDESCRIPTION:${e.description||""}\nLOCATION:${e.location||""}\nORGANIZER:${e.organizer||"Data Science Student Initiative"}\nURL:${e.url||"https://dssi.frankfurt-school.de"}\nEND:VEVENT\nEND:VCALENDAR`})({...e,start:t,end:r}),s=new Blob([n],{type:"text/calendar;charset=utf-8"}),a=URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.setAttribute("download",`${e.title.replace(/\s+/g,"-")}.ics`),document.body.appendChild(i),i.click(),document.body.removeChild(i)},children:[l.jsx("i",{className:"fas fa-calendar-plus mr-2"})," iCal"]}),l.jsxs(si,{variant:"outline",size:"sm",className:"text-neutral-700 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{const t=new Date(`${e.date.toDateString()} ${e.startTime}`),r=new Date(`${e.date.toDateString()} ${e.endTime}`),n={...e,start:t,end:r};window.open((e=>{const t=e=>e.toISOString().replace(/-|:|\.\d+/g,""),r=t(e.start),n=t(e.end);return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:e.title,dates:`${r}/${n}`,details:e.description||"",location:e.location||"",sf:"true",output:"xml"}).toString()}`})(n),"_blank")},children:[l.jsx("i",{className:"fab fa-google mr-2"})," Google Calendar"]})]})]})]})})};function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e){var t=function(e,t){if("object"!=ii(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ii(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ii(t)?t:t+""}function li(e,t,r){return(t=oi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(r),!0).forEach(function(t){li(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ci(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ui(e,t){if(null==e)return{};var r,n,s=Se(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oi(n.key),n)}}function fi(e,t,r){return t&&hi(e.prototype,t),r&&hi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gi=function(){return!!e})()}function vi(e,t,r){return t=pi(t),function(e,t){if(t&&("object"==ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}(e,gi()?Reflect.construct(t,r||[],pi(e).constructor):t.apply(e,r))}function xi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}function yi(e){if(Array.isArray(e))return e}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function wi(e,t){if(e){if("string"==typeof e)return bi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bi(e,t):void 0}}function ji(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ni(e,t){return yi(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||wi(e,t)||ji()}function ki(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=ki(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Si(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=ki(e))&&(n&&(n+=" "),n+=t);return n}const _i=he(function(e,t,r,n,s,a,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,s,a,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}});var Di=function(){};function Ei(e,t){return void 0!==e[t]}function Mi(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Ti(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Ci(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function Oi(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Ti.__suppressDeprecationWarning=!0,Ci.__suppressDeprecationWarning=!0,Oi.__suppressDeprecationWarning=!0;var Pi="milliseconds",Ai="seconds",Ri="minutes",Ii="hours",Fi="day",Li="week",Yi="month",zi="year",qi="decade",Bi="century",Ui={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},Wi={month:1,year:12,decade:120,century:1200};function Hi(e){return e%4==0&&e%100!=0||e%400==0?29:28}function Vi(e,t,r){switch(e=new Date(e),r){case Pi:case Ai:case Ri:case Ii:case Fi:case Li:return function(e,t){var r=new Date(+e+t);return function(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset();return new Date(+t+(n-r)*Ui.minutes)}(e,r)}(e,t*Ui[r]);case Yi:case zi:case qi:case Bi:return function(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=12*r+n+t,i=Math.trunc(a/12),o=a%12,l=Math.min(s,function(e){return[31,Hi(e),31,30,31,30,31,31,30,31,30,31]}(i)[o]),c=new Date(e);return c.setFullYear(i),c.setDate(1),c.setMonth(o),c.setDate(l),c}(e,t*Wi[r])}throw new TypeError('Invalid units: "'+r+'"')}function $i(e,t,r){return Vi(e,-t,r)}function Gi(e,t,r){switch(e=new Date(e),t){case Bi:case qi:case zi:e=mo(e,0);case Yi:e=uo(e,1);case Li:case Fi:e=lo(e,0);case Ii:e=oo(e,0);case Ri:e=io(e,0);case Ai:e=ao(e,0)}return t===qi&&(e=$i(e,ho(e)%10,"year")),t===Bi&&(e=$i(e,ho(e)%100,"year")),t===Li&&(e=fo(e,0,r)),e}function Ki(e,t,r){switch(e=Gi(e=new Date(e),t,r),t){case Bi:case qi:case zi:case Yi:case Li:(e=$i(e=Vi(e,1,t),1,Fi)).setHours(23,59,59,999);break;case Fi:e.setHours(23,59,59,999);break;case Ii:case Ri:case Ai:e=$i(e=Vi(e,1,t),1,Pi)}return e}var Qi=go(function(e,t){return e===t}),Zi=go(function(e,t){return e!==t}),Xi=go(function(e,t){return e>t}),Ji=go(function(e,t){return e>=t}),eo=go(function(e,t){return e<t}),to=go(function(e,t){return e<=t});function ro(){return new Date(Math.min.apply(Math,arguments))}function no(){return new Date(Math.max.apply(Math,arguments))}function so(e,t,r,n){return n=n||"day",(!t||Ji(e,t,n))&&(!r||to(e,r,n))}var ao=po("Milliseconds"),io=po("Seconds"),oo=po("Minutes"),lo=po("Hours"),co=po("Day"),uo=po("Date"),mo=po("Month"),ho=po("FullYear");function fo(e,t,r){var n=(co(e)+7-(r||0))%7;return void 0===t?n:Vi(e,t-n,Fi)}function po(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(void 0===n)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&("Hours"===e||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function go(e){return function(t,r,n){return e(+Gi(t,n),+Gi(r,n))}}const vo=Object.freeze(Object.defineProperty({__proto__:null,add:Vi,century:function(e,t){return void 0===t?ho(Gi(e,Bi)):Vi(e,t+100,zi)},date:uo,day:co,decade:function(e,t){return void 0===t?ho(Gi(e,qi)):Vi(e,t+10,zi)},diff:function(e,t,r,n){var s,a,i;switch(r){case Pi:case Ai:case Ri:case Ii:case Fi:case Li:s=t.getTime()-e.getTime();break;case Yi:case zi:case qi:case Bi:s=12*(ho(t)-ho(e))+mo(t)-mo(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Pi:a=1;break;case Ai:a=1e3;break;case Ri:a=6e4;break;case Ii:a=36e5;break;case Fi:a=864e5;break;case Li:a=6048e5;break;case Yi:a=1;break;case zi:a=12;break;case qi:a=120;break;case Bi:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=s/a,n?i:Math.round(i)},endOf:Ki,eq:Qi,gt:Xi,gte:Ji,hours:lo,inRange:so,lt:eo,lte:to,max:no,milliseconds:ao,min:ro,minutes:oo,month:mo,neq:Zi,seconds:io,startOf:Gi,subtract:$i,weekday:fo,year:ho},Symbol.toStringTag,{value:"Module"}));function xo(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function yo(e){return function(e){if(Array.isArray(e))return bi(e)}(e)||xo(e)||wi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bo=Te,wo=Ce,jo=Oe,No=Math.ceil,ko=Math.max;const So=he(function(e,t,r){t=(r?wo(e,t,r):void 0===t)?1:ko(jo(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,i=Array(No(n/t));s<n;)i[a++]=bo(e,s,s+=t);return i});function _o(e){return e&&e.ownerDocument||document}function Do(e,t){return function(e){var t=_o(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Eo=/([A-Z])/g,Mo=/^ms-/;function To(e){return function(e){return e.replace(Eo,"-$1").toLowerCase()}(e).replace(Mo,"-ms-")}var Co=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Oo(e,t){var r="",n="";if("string"==typeof t)return e.style.getPropertyValue(To(t))||Do(e).getPropertyValue(To(t));Object.keys(t).forEach(function(s){var a=t[s];a||0===a?function(e){return!(!e||!Co.test(e))}(s)?n+=s+"("+a+") ":r+=To(s)+": "+a+";":e.style.removeProperty(To(s))}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Po(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ao(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function Ro(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(r,n){var s=Ao(r);if(void 0===n)return s?s[e]:r[t];s?s.scrollTo(s[e],n):r[t]=n}}const Io=Ro("pageXOffset"),Fo=Ro("pageYOffset");function Lo(e){var t=_o(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return n&&Po(n,e)?(void 0!==e.getBoundingClientRect&&(r=e.getBoundingClientRect()),r={top:r.top+Fo(n)-(n.clientTop||0),left:r.left+Io(n)-(n.clientLeft||0),width:r.width,height:r.height}):r}var Yo=function(e){return!!e&&"offsetParent"in e};function zo(e,t){var r,n={top:0,left:0};if("fixed"===Oo(e,"position"))r=e.getBoundingClientRect();else{var s=t||function(e){for(var t=_o(e),r=e&&e.offsetParent;Yo(r)&&"HTML"!==r.nodeName&&"static"===Oo(r,"position");)r=r.offsetParent;return r||t.documentElement}(e);r=Lo(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(s)&&(n=Lo(s));var a=String(Oo(s,"borderTopWidth")||0);n.top+=parseInt(a,10)-Fo(s)||0;var i=String(Oo(s,"borderLeftWidth")||0);n.left+=parseInt(i,10)-Io(s)||0}var o=String(Oo(e,"marginTop")||0),l=String(Oo(e,"marginLeft")||0);return Me({},r,{top:r.top-n.top-(parseInt(o,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const qo=!("undefined"==typeof window||!window.document||!window.document.createElement);var Bo=(new Date).getTime(),Uo="clearTimeout",Wo=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-Bo)),n=setTimeout(e,r);return Bo=t,n},Ho=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};qo&&["","webkit","moz","o","ms"].some(function(e){var t=Ho(e,"request");return t in window&&(Uo=Ho(e,"cancel"),Wo=function(e){return window[t](e)}),!!Wo});var Vo,$o=function(e){"function"==typeof window[Uo]&&window[Uo](e)},Go=Wo;function Ko(e,t){if(!Vo){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Vo=function(e,t){return n.call(e,t)}}return Vo(e,t)}var Qo=Function.prototype.bind.call(Function.prototype.call,[].slice),Zo=!1,Xo=!1;try{var Jo={get passive(){return Zo=!0},get once(){return Xo=Zo=!0}};qo&&(window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,!0))}catch(Ly){}function el(e){const t=function(e){const t=de.useRef(e);return de.useEffect(()=>{t.current=e},[e]),t}(e);return de.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function tl(){return de.useState(null)}function rl(e){const t=function(){const e=de.useRef(!0),t=de.useRef(()=>e.current);return de.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}();return[e[0],de.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var nl="top",sl="bottom",al="right",il="left",ol="auto",ll=[nl,sl,al,il],cl="start",dl="end",ul="viewport",ml="popper",hl=ll.reduce(function(e,t){return e.concat([t+"-"+cl,t+"-"+dl])},[]),fl=[].concat(ll,[ol]).reduce(function(e,t){return e.concat([t,t+"-"+cl,t+"-"+dl])},[]),pl=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function gl(e){return e.split("-")[0]}function vl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xl(e){return e instanceof vl(e).Element||e instanceof Element}function yl(e){return e instanceof vl(e).HTMLElement||e instanceof HTMLElement}function bl(e){return"undefined"!=typeof ShadowRoot&&(e instanceof vl(e).ShadowRoot||e instanceof ShadowRoot)}var wl=Math.max,jl=Math.min,Nl=Math.round;function kl(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Sl(){return!/^((?!chrome|android).)*safari/i.test(kl())}function _l(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),s=1,a=1;t&&yl(e)&&(s=e.offsetWidth>0&&Nl(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Nl(n.height)/e.offsetHeight||1);var i=(xl(e)?vl(e):window).visualViewport,o=!Sl()&&r,l=(n.left+(o&&i?i.offsetLeft:0))/s,c=(n.top+(o&&i?i.offsetTop:0))/a,d=n.width/s,u=n.height/a;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Dl(e){var t=_l(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function El(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&bl(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ml(e){return e?(e.nodeName||"").toLowerCase():null}function Tl(e){return vl(e).getComputedStyle(e)}function Cl(e){return["table","td","th"].indexOf(Ml(e))>=0}function Ol(e){return((xl(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pl(e){return"html"===Ml(e)?e:e.assignedSlot||e.parentNode||(bl(e)?e.host:null)||Ol(e)}function Al(e){return yl(e)&&"fixed"!==Tl(e).position?e.offsetParent:null}function Rl(e){for(var t=vl(e),r=Al(e);r&&Cl(r)&&"static"===Tl(r).position;)r=Al(r);return r&&("html"===Ml(r)||"body"===Ml(r)&&"static"===Tl(r).position)?t:r||function(e){var t=/firefox/i.test(kl());if(/Trident/i.test(kl())&&yl(e)&&"fixed"===Tl(e).position)return null;var r=Pl(e);for(bl(r)&&(r=r.host);yl(r)&&["html","body"].indexOf(Ml(r))<0;){var n=Tl(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}function Il(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fl(e,t,r){return wl(e,jl(t,r))}function Ll(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Yl(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}function zl(e){return e.split("-")[1]}var ql={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bl(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,m=i.x,h=void 0===m?0:m,f=i.y,p=void 0===f?0:f,g="function"==typeof d?d({x:h,y:p}):{x:h,y:p};h=g.x,p=g.y;var v=i.hasOwnProperty("x"),x=i.hasOwnProperty("y"),y=il,b=nl,w=window;if(c){var j=Rl(r),N="clientHeight",k="clientWidth";j===vl(r)&&"static"!==Tl(j=Ol(r)).position&&"absolute"===o&&(N="scrollHeight",k="scrollWidth"),(s===nl||(s===il||s===al)&&a===dl)&&(b=sl,p-=(u&&j===w&&w.visualViewport?w.visualViewport.height:j[N])-n.height,p*=l?1:-1),s!==il&&(s!==nl&&s!==sl||a!==dl)||(y=al,h-=(u&&j===w&&w.visualViewport?w.visualViewport.width:j[k])-n.width,h*=l?1:-1)}var S,_=Object.assign({position:o},c&&ql),D=!0===d?function(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:Nl(r*s)/s||0,y:Nl(n*s)/s||0}}({x:h,y:p},vl(r)):{x:h,y:p};return h=D.x,p=D.y,l?Object.assign({},_,((S={})[b]=x?"0":"",S[y]=v?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",S)):Object.assign({},_,((t={})[b]=x?p+"px":"",t[y]=v?h+"px":"",t.transform="",t))}var Ul={passive:!0},Wl={left:"right",right:"left",bottom:"top",top:"bottom"};function Hl(e){return e.replace(/left|right|bottom|top/g,function(e){return Wl[e]})}var Vl={start:"end",end:"start"};function $l(e){return e.replace(/start|end/g,function(e){return Vl[e]})}function Gl(e){var t=vl(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Kl(e){return _l(Ol(e)).left+Gl(e).scrollLeft}function Ql(e){var t=Tl(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function Zl(e){return["html","body","#document"].indexOf(Ml(e))>=0?e.ownerDocument.body:yl(e)&&Ql(e)?e:Zl(Pl(e))}function Xl(e,t){var r;void 0===t&&(t=[]);var n=Zl(e),s=n===(null==(r=e.ownerDocument)?void 0:r.body),a=vl(n),i=s?[a].concat(a.visualViewport||[],Ql(n)?n:[]):n,o=t.concat(i);return s?o:o.concat(Xl(Pl(i)))}function Jl(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ec(e,t,r){return t===ul?Jl(function(e,t){var r=vl(e),n=Ol(e),s=r.visualViewport,a=n.clientWidth,i=n.clientHeight,o=0,l=0;if(s){a=s.width,i=s.height;var c=Sl();(c||!c&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:a,height:i,x:o+Kl(e),y:l}}(e,r)):xl(t)?function(e,t){var r=_l(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):Jl(function(e){var t,r=Ol(e),n=Gl(e),s=null==(t=e.ownerDocument)?void 0:t.body,a=wl(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=wl(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+Kl(e),l=-n.scrollTop;return"rtl"===Tl(s||r).direction&&(o+=wl(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:o,y:l}}(Ol(e)))}function tc(e,t,r,n){var s="clippingParents"===t?function(e){var t=Xl(Pl(e)),r=["absolute","fixed"].indexOf(Tl(e).position)>=0&&yl(e)?Rl(e):e;return xl(r)?t.filter(function(e){return xl(e)&&El(e,r)&&"body"!==Ml(e)}):[]}(e):[].concat(t),a=[].concat(s,[r]),i=a[0],o=a.reduce(function(t,r){var s=ec(e,r,n);return t.top=wl(s.top,t.top),t.right=jl(s.right,t.right),t.bottom=jl(s.bottom,t.bottom),t.left=wl(s.left,t.left),t},ec(e,i,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function rc(e){var t,r=e.reference,n=e.element,s=e.placement,a=s?gl(s):null,i=s?zl(s):null,o=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(a){case nl:t={x:o,y:r.y-n.height};break;case sl:t={x:o,y:r.y+r.height};break;case al:t={x:r.x+r.width,y:l};break;case il:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=a?Il(a):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case cl:t[c]=t[c]-(r[d]/2-n[d]/2);break;case dl:t[c]=t[c]+(r[d]/2-n[d]/2)}}return t}function nc(e,t){void 0===t&&(t={});var r=t,n=r.placement,s=void 0===n?e.placement:n,a=r.strategy,i=void 0===a?e.strategy:a,o=r.boundary,l=void 0===o?"clippingParents":o,c=r.rootBoundary,d=void 0===c?ul:c,u=r.elementContext,m=void 0===u?ml:u,h=r.altBoundary,f=void 0!==h&&h,p=r.padding,g=void 0===p?0:p,v=Ll("number"!=typeof g?g:Yl(g,ll)),x=m===ml?"reference":ml,y=e.rects.popper,b=e.elements[f?x:m],w=tc(xl(b)?b:b.contextElement||Ol(e.elements.popper),l,d,i),j=_l(e.elements.reference),N=rc({reference:j,element:y,strategy:"absolute",placement:s}),k=Jl(Object.assign({},y,N)),S=m===ml?k:j,_={top:w.top-S.top+v.top,bottom:S.bottom-w.bottom+v.bottom,left:w.left-S.left+v.left,right:S.right-w.right+v.right},D=e.modifiersData.offset;if(m===ml&&D){var E=D[s];Object.keys(_).forEach(function(e){var t=[al,sl].indexOf(e)>=0?1:-1,r=[nl,sl].indexOf(e)>=0?"y":"x";_[e]+=E[r]*t})}return _}function sc(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function ac(e){return[nl,al,sl,il].some(function(t){return e[t]>=0})}function ic(e,t,r){void 0===r&&(r=!1);var n,s,a=yl(t),i=yl(t)&&function(e){var t=e.getBoundingClientRect(),r=Nl(t.width)/e.offsetWidth||1,n=Nl(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),o=Ol(t),l=_l(e,i,r),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(a||!a&&!r)&&(("body"!==Ml(t)||Ql(o))&&(c=(n=t)!==vl(n)&&yl(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:Gl(n)),yl(t)?((d=_l(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=Kl(o))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function oc(e){var t=new Map,r=new Set,n=[];function s(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!r.has(e)){var n=t.get(e);n&&s(n)}}),n.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||s(e)}),n}var lc={placement:"bottom",modifiers:[],strategy:"absolute"};function cc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var dc=function(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,s=t.defaultOptions,a=void 0===s?lc:s;return function(e,t,r){void 0===r&&(r=a);var s,i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},lc,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:o,setOptions:function(r){var s="function"==typeof r?r(o.options):r;u(),o.options=Object.assign({},a,o.options,s),o.scrollParents={reference:xl(e)?Xl(e):e.contextElement?Xl(e.contextElement):[],popper:Xl(t)};var i,c,m=function(e){var t=oc(e);return pl.reduce(function(e,r){return e.concat(t.filter(function(e){return e.phase===r}))},[])}((i=[].concat(n,o.options.modifiers),c=i.reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return o.orderedModifiers=m.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,s=e.effect;if("function"==typeof s){var a=s({state:o,name:t,instance:d,options:n}),i=function(){};l.push(a||i)}}),d.update()},forceUpdate:function(){if(!c){var e=o.elements,t=e.reference,r=e.popper;if(cc(t,r)){o.rects={reference:ic(t,Rl(r),"fixed"===o.options.strategy),popper:Dl(r)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var s=o.orderedModifiers[n],a=s.fn,i=s.options,l=void 0===i?{}:i,u=s.name;"function"==typeof a&&(o=a({state:o,options:l,name:u,instance:d})||o)}else o.reset=!1,n=-1}}},update:(s=function(){return new Promise(function(e){d.forceUpdate(),e(o)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(s())})})),i}),destroy:function(){u(),c=!0}};if(!cc(e,t))return d;function u(){l.forEach(function(e){return e()}),l=[]}return d.setOptions(r).then(function(e){!c&&r.onFirstUpdate&&r.onFirstUpdate(e)}),d}}({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=nc(t,{elementContext:"reference"}),o=nc(t,{altBoundary:!0}),l=sc(i,n),c=sc(o,s,a),d=ac(l),u=ac(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=rc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=void 0===n||n,a=r.adaptive,i=void 0===a||a,o=r.roundOffsets,l=void 0===o||o,c={placement:gl(t.placement),variation:zl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Bl(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Bl(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=void 0===s||s,i=n.resize,o=void 0===i||i,l=vl(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(e){e.addEventListener("scroll",r.update,Ul)}),o&&l.addEventListener("resize",r.update,Ul),function(){a&&c.forEach(function(e){e.removeEventListener("scroll",r.update,Ul)}),o&&l.removeEventListener("resize",r.update,Ul)}},data:{}},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=void 0===s?[0,0]:s,i=fl.reduce(function(e,r){return e[r]=function(e,t,r){var n=gl(e),s=[il,nl].indexOf(n)>=0?-1:1,a="function"==typeof r?r(Object.assign({},t,{placement:e})):r,i=a[0],o=a[1];return i=i||0,o=(o||0)*s,[il,al].indexOf(n)>=0?{x:o,y:i}:{x:i,y:o}}(r,t.rects,a),e},{}),o=i[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=void 0===s||s,i=r.altAxis,o=void 0===i||i,l=r.fallbackPlacements,c=r.padding,d=r.boundary,u=r.rootBoundary,m=r.altBoundary,h=r.flipVariations,f=void 0===h||h,p=r.allowedAutoPlacements,g=t.options.placement,v=gl(g),x=l||(v!==g&&f?function(e){if(gl(e)===ol)return[];var t=Hl(e);return[$l(e),t,$l(t)]}(g):[Hl(g)]),y=[g].concat(x).reduce(function(e,r){return e.concat(gl(r)===ol?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,i=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?fl:l,d=zl(n),u=d?o?hl:hl.filter(function(e){return zl(e)===d}):ll,m=u.filter(function(e){return c.indexOf(e)>=0});0===m.length&&(m=u);var h=m.reduce(function(t,r){return t[r]=nc(e,{placement:r,boundary:s,rootBoundary:a,padding:i})[gl(r)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:r,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:p}):r)},[]),b=t.rects.reference,w=t.rects.popper,j=new Map,N=!0,k=y[0],S=0;S<y.length;S++){var _=y[S],D=gl(_),E=zl(_)===cl,M=[nl,sl].indexOf(D)>=0,T=M?"width":"height",C=nc(t,{placement:_,boundary:d,rootBoundary:u,altBoundary:m,padding:c}),O=M?E?al:il:E?sl:nl;b[T]>w[T]&&(O=Hl(O));var P=Hl(O),A=[];if(a&&A.push(C[D]<=0),o&&A.push(C[O]<=0,C[P]<=0),A.every(function(e){return e})){k=_,N=!1;break}j.set(_,A)}if(N)for(var R=function(e){var t=y.find(function(t){var r=j.get(t);if(r)return r.slice(0,e).every(function(e){return e})});if(t)return k=t,"break"},I=f?3:1;I>0&&"break"!==R(I);I--);t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=void 0===s||s,i=r.altAxis,o=void 0!==i&&i,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,u=r.padding,m=r.tether,h=void 0===m||m,f=r.tetherOffset,p=void 0===f?0:f,g=nc(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),v=gl(t.placement),x=zl(t.placement),y=!x,b=Il(v),w="x"===b?"y":"x",j=t.modifiersData.popperOffsets,N=t.rects.reference,k=t.rects.popper,S="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,_="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(j){if(a){var M,T="y"===b?nl:il,C="y"===b?sl:al,O="y"===b?"height":"width",P=j[b],A=P+g[T],R=P-g[C],I=h?-k[O]/2:0,F=x===cl?N[O]:k[O],L=x===cl?-k[O]:-N[O],Y=t.elements.arrow,z=h&&Y?Dl(Y):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=q[T],U=q[C],W=Fl(0,N[O],z[O]),H=y?N[O]/2-I-W-B-_.mainAxis:F-W-B-_.mainAxis,V=y?-N[O]/2+I+W+U+_.mainAxis:L+W+U+_.mainAxis,$=t.elements.arrow&&Rl(t.elements.arrow),G=$?"y"===b?$.clientTop||0:$.clientLeft||0:0,K=null!=(M=null==D?void 0:D[b])?M:0,Q=P+V-K,Z=Fl(h?jl(A,P+H-K-G):A,P,h?wl(R,Q):R);j[b]=Z,E[b]=Z-P}if(o){var X,J="x"===b?nl:il,ee="x"===b?sl:al,te=j[w],re="y"===w?"height":"width",ne=te+g[J],se=te-g[ee],ae=-1!==[nl,il].indexOf(v),ie=null!=(X=null==D?void 0:D[w])?X:0,oe=ae?ne:te-N[re]-k[re]-ie+_.altAxis,le=ae?te+N[re]+k[re]-ie-_.altAxis:se,ce=h&&ae?function(e,t,r){var n=Fl(e,t,r);return n>r?r:n}(oe,te,le):Fl(h?oe:ne,te,h?le:se);j[w]=ce,E[w]=ce-te}t.modifiersData[n]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,i=r.modifiersData.popperOffsets,o=gl(r.placement),l=Il(o),c=[il,al].indexOf(o)>=0?"height":"width";if(a&&i){var d=function(e,t){return Ll("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Yl(e,ll))}(s.padding,r),u=Dl(a),m="y"===l?nl:il,h="y"===l?sl:al,f=r.rects.reference[c]+r.rects.reference[l]-i[l]-r.rects.popper[c],p=i[l]-r.rects.reference[l],g=Rl(a),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,x=f/2-p/2,y=d[m],b=v-u[c]-d[h],w=v/2-u[c]/2+x,j=Fl(y,w,b),N=l;r.modifiersData[n]=((t={})[N]=j,t.centerOffset=j-w,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&El(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}]}),uc=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},mc={name:"applyStyles",enabled:!1},hc={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,r=e.reference,n=e.popper;if("removeAttribute"in r){var s=(r.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==n.id});s.length?r.setAttribute("aria-describedby",s.join(",")):r.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state.elements,n=r.popper,s=r.reference,a=null==(t=n.getAttribute("role"))?void 0:t.toLowerCase();if(n.id&&"tooltip"===a&&"setAttribute"in s){var i=s.getAttribute("aria-describedby");if(i&&-1!==i.split(",").indexOf(n.id))return;s.setAttribute("aria-describedby",i?i+","+n.id:n.id)}}},fc=[];function pc(e,t,r,n){return function(e,t,r,n){if(n&&"boolean"!=typeof n&&!Xo){var s=n.once,a=n.capture,i=r;!Xo&&s&&(i=r.__once||function e(n){this.removeEventListener(t,e,a),r.call(this,n)},r.__once=i),e.addEventListener(t,i,Zo?n:a)}e.addEventListener(t,r,n)}(e,t,r,n),function(){!function(e,t,r,n){var s=n&&"boolean"!=typeof n?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}(e,t,r,n)}}const gc=he(function(){}),vc=function(e){return _o(function(e){return e&&"setState"in e?fe.findDOMNode(e):null!=e?e:null}(e))};var xc,yc=function(){},bc=function(e){return e&&("current"in e?e.current:e)};function wc(e){var t,r,n,s,a,i=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,d=e.offset,u=e.fixed,m=e.containerPadding,h=e.arrowElement,f=e.popperConfig,p=void 0===f?{}:f,g=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach(function(e){t[e.name]=e}),t):e||t}(p.modifiers);return Me({},p,{placement:l,enabled:i,strategy:u?"fixed":p.strategy,modifiers:(a=Me({},g,{eventListeners:{enabled:o},preventOverflow:Me({},g.preventOverflow,{options:m?Me({padding:m},null==(t=g.preventOverflow)?void 0:t.options):null==(r=g.preventOverflow)?void 0:r.options}),offset:{options:Me({offset:d},null==(n=g.offset)?void 0:n.options)},arrow:Me({},g.arrow,{enabled:!!h,options:Me({},null==(s=g.arrow)?void 0:s.options,{element:h})}),flip:Me({enabled:!!c},g.flip)}),void 0===a&&(a={}),Array.isArray(a)?a:Object.keys(a).map(function(e){return a[e].name=e,a[e]}))})}function jc(e){if((!xc&&0!==xc||e)&&qo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),xc=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return xc}var Nc=function(e){var t;return"undefined"==typeof document?null:null==e?_o().body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function kc(e,t){var r=de.useState(function(){return Nc(e)}),n=r[0],s=r[1];if(!n){var a=Nc(e);a&&s(a)}return de.useEffect(function(){},[t,n]),de.useEffect(function(){var t=Nc(e);t!==n&&s(t)},[e,n]),n}const Sc=e=>e&&"function"!=typeof e?t=>{e.current=t}:e;function _c(e,t){return de.useMemo(()=>function(e,t){const r=Sc(e),n=Sc(t);return e=>{r&&r(e),n&&n(e)}}(e,t),[e,t])}var Dc=me.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,a=e.containerPadding,i=void 0===a?5:a,o=e.popperConfig,l=void 0===o?{}:o,c=e.transition,d=tl(),u=d[0],m=d[1],h=tl(),f=h[0],p=h[1],g=_c(m,t),v=kc(e.container),x=kc(e.target),y=de.useState(!e.show),b=y[0],w=y[1],j=function(e,t,r){var n=void 0===r?{}:r,s=n.enabled,a=void 0===s||s,i=n.placement,o=void 0===i?"bottom":i,l=n.strategy,c=void 0===l?"absolute":l,d=n.modifiers,u=void 0===d?fc:d,m=Se(n,["enabled","placement","strategy","modifiers"]),h=de.useRef(),f=de.useCallback(function(){var e;null==(e=h.current)||e.update()},[]),p=de.useCallback(function(){var e;null==(e=h.current)||e.forceUpdate()},[]),g=rl(de.useState({placement:o,update:f,forceUpdate:p,attributes:{},styles:{popper:uc(c),arrow:{}}})),v=g[0],x=g[1],y=de.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,r={},n={};Object.keys(t.elements).forEach(function(e){r[e]=t.styles[e],n[e]=t.attributes[e]}),x({state:t,styles:r,attributes:n,update:f,forceUpdate:p,placement:t.placement})}}},[f,p,x]);return de.useEffect(function(){h.current&&a&&h.current.setOptions({placement:o,strategy:c,modifiers:[].concat(u,[y,mc])})},[c,o,y,a]),de.useEffect(function(){if(a&&null!=e&&null!=t)return h.current=dc(e,t,Me({},m,{placement:o,strategy:c,modifiers:[].concat(u,[hc,y])})),function(){null!=h.current&&(h.current.destroy(),h.current=void 0,x(function(e){return Me({},e,{attributes:{},styles:{popper:uc(c)}})}))}},[a,e,t]),v}(x,u,wc({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:f,popperConfig:l})),N=j.styles,k=j.attributes,S=Se(j,["styles","attributes"]);e.show?b&&w(!1):e.transition||b||w(!0);var _,D,E,M,T,C,O,P,A,R,I,F,L=e.show||c&&!b;if(_=u,D=e.onHide,E={disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent},T=(M=void 0===E?{}:E).disabled,C=M.clickTrigger,O=void 0===C?"click":C,P=de.useRef(!1),A=D||yc,R=de.useCallback(function(e){var t,r,n=bc(_);gc(!!n,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),P.current=!(n&&(r=e,!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey))&&function(e){return 0===e.button}(e)&&!Po(n,null!=(t=null==e.composedPath?void 0:e.composedPath()[0])?t:e.target))},[_]),I=el(function(e){P.current||A(e)}),F=el(function(e){27===e.keyCode&&A(e)}),de.useEffect(function(){if(!T&&null!=_){var e=window.event,t=vc(bc(_)),r=pc(t,O,R,!0),n=pc(t,O,function(t){t!==e?I(t):e=void 0}),s=pc(t,"keyup",function(t){t!==e?F(t):e=void 0}),a=[];return"ontouchstart"in t.documentElement&&(a=[].slice.call(t.body.children).map(function(e){return pc(e,"mousemove",yc)})),function(){r(),n(),s(),a.forEach(function(e){return e()})}}},[_,T,O,R,I,F]),!L)return null;var Y=e.children(Me({},S,{show:!!e.show,props:Me({},k.popper,{style:N.popper,ref:g}),arrowProps:Me({},k.arrow,{style:N.arrow,ref:p})}));if(c){var z=e.onExit,q=e.onExiting,B=e.onEnter,U=e.onEntering,W=e.onEntered;Y=me.createElement(c,{in:e.show,appear:!0,onExit:z,onExiting:q,onExited:function(){w(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:B,onEntering:U,onEntered:W},Y)}return v?fe.createPortal(Y,v):null});function Ec(e,t){var r=Ao(e);return r?r.innerHeight:Lo(e).height}function Mc(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(Ko(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}Dc.displayName="Overlay",Dc.propTypes={show:Pe.bool,placement:Pe.oneOf(fl),target:Pe.any,container:Pe.any,flip:Pe.bool,children:Pe.func.isRequired,containerPadding:Pe.number,popperConfig:Pe.object,rootClose:Pe.bool,rootCloseEvent:Pe.oneOf(["click","mousedown"]),rootCloseDisabled:Pe.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var s;return e.rootClose?(s=Pe.func).isRequired.apply(s,[e].concat(r)):Pe.func.apply(Pe,[e].concat(r))},transition:Pe.elementType,onEnter:Pe.func,onEntering:Pe.func,onEntered:Pe.func,onExit:Pe.func,onExiting:Pe.func,onExited:Pe.func};var Tc=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Cc(e,t){return e===t||!(!Tc(e)||!Tc(t))}function Oc(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Cc(e[r],t[r]))return!1;return!0}function Pc(e,t){void 0===t&&(t=Oc);var r=null;function n(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var a=e.apply(this,n);return r={lastResult:a,lastArgs:n,lastThis:this},a}return n.clear=function(){r=null},n}function Ac(e,t){var r=Ao(e);return r?r.innerWidth:Lo(e).width}function Rc(e){return yi(e)||xo(e)||wi(e)||ji()}var Ic=Ae,Fc=Re,Lc=Ce,Yc=Ie,zc=Object.prototype,qc=zc.hasOwnProperty,Bc=Ic(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&Lc(t[0],t[1],s)&&(n=1);++r<n;)for(var a=t[r],i=Yc(a),o=-1,l=i.length;++o<l;){var c=i[o],d=e[c];(void 0===d||Fc(d,zc[c])&&!qc.call(e,c))&&(e[c]=a[c])}return e});const Uc=he(Bc);var Wc=Fe,Hc=Le,Vc=Ye,$c=ze,Gc=qe,Kc=Ve,Qc=Be,Zc=Ue,Xc=We,Jc=He;const ed=he(function(e,t,r){var n=Kc(e),s=n||Qc(e)||Jc(e);if(t=$c(t),null==r){var a=e&&e.constructor;r=s?n?new a:[]:Xc(e)&&Zc(a)?Hc(Gc(e)):{}}return(s?Wc:Vc)(e,function(e,n,s){return t(r,e,n,s)}),r});function td(e){return e.children}!function(e){e.exports=function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}({exports:{}}),function(e){e.exports=function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}({exports:{}}),function(e){e.exports=function(e,t,r){var n=t.prototype,s=function(e){return e&&(e.indexOf?e:e.s)},a=function(e,t,r,n,a){var i=e.name?e:e.$locale(),o=s(i[t]),l=s(i[r]),c=o||l.map(function(e){return e.slice(0,n)});if(!a)return c;var d=i.weekStart;return c.map(function(e,t){return c[(t+(d||0))%7]})},i=function(){return r.Ls[r.locale()]},o=function(e,t){return e.formats[t]||e.formats[t.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):a(e,"months")},monthsShort:function(t){return t?t.format("MMM"):a(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):a(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):a(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):a(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return o(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};n.localeData=function(){return l.bind(this)()},r.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(t){return o(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},r.months=function(){return a(i(),"months")},r.monthsShort=function(){return a(i(),"monthsShort","months",3)},r.weekdays=function(e){return a(i(),"weekdays",null,null,e)},r.weekdaysShort=function(e){return a(i(),"weekdaysShort","weekdays",3,e)},r.weekdaysMin=function(e){return a(i(),"weekdaysMin","weekdays",2,e)}}}({exports:{}}),function(e){var t;e.exports=(t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(e,r,n){var s=r.prototype,a=s.format;n.en.formats=t,s.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var r,n=this.$locale().formats,s=(r=void 0===n?{}:n,e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,n,s){var a=s&&s.toUpperCase();return n||r[s]||t[s]||r[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})}));return a.call(this,s)}})}({exports:{}}),function(e){e.exports=function(e,t,r){var n=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var r;1===t.length&&t[0].length>0&&(t=t[0]),r=(t=t.filter(function(e){return e}))[0];for(var n=1;n<t.length;n+=1)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r};r.max=function(){var e=[].slice.call(arguments,0);return n("isAfter",e)},r.min=function(){var e=[].slice.call(arguments,0);return n("isBefore",e)}}}({exports:{}}),function(e){var t,r,n;e.exports=(t="minute",r=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g,function(e,s,a){var i=s.prototype;a.utc=function(e){return new s({date:e,utc:!0,args:arguments})},i.utc=function(e){var r=a(this.toDate(),{locale:this.$L,utc:!0});return e?r.add(this.utcOffset(),t):r},i.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var o=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var l=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=i.utcOffset;i.utcOffset=function(e,s){var a=this.$utils().u;if(a(e))return this.$u?0:a(this.$offset)?c.call(this):this.$offset;if("string"==typeof e&&null===(e=function(e){void 0===e&&(e="");var t=e.match(r);if(!t)return null;var s=(""+t[0]).match(n)||["-",0,0],a=s[0],i=60*+s[1]+ +s[2];return 0===i?0:"+"===a?i:-i}(e)))return this;var i=Math.abs(e)<=16?60*e:e,o=this;if(s)return o.$offset=i,o.$u=0===e,o;if(0!==e){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(i+l,t)).$offset=i,o.$x.$localOffset=l}else o=this.utc();return o};var d=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var u=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var m=i.diff;i.diff=function(e,t,r){if(e&&this.$u===e.$u)return m.call(this,e,t,r);var n=this.local(),s=a(e).local();return m.call(n,s,t,r)}})}({exports:{}});var rd="PREV",nd="NEXT",sd="TODAY",ad="DATE",id={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},od=Object.keys(id).map(function(e){return id[e]});Pe.oneOfType([Pe.string,Pe.func]),Pe.any,Pe.func,Pe.oneOfType([Pe.arrayOf(Pe.oneOf(od)),Pe.objectOf(function(e,t){if(-1!==od.indexOf(t)&&"boolean"==typeof e[t])return null;for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];return Pe.elementType.apply(Pe,[e,t].concat(n))})]),Pe.oneOfType([Pe.oneOf(["overlap","no-overlap"]),Pe.func]);var ld={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function cd(e,t){var r=Gi(e,"month");return Gi(r,"week",t.startOfWeek())}function dd(e,t){var r=Ki(e,"month");return Ki(r,"week",t.startOfWeek())}function ud(e,t){for(var r=cd(e,t),n=dd(e,t),s=[];to(r,n,"day");)s.push(r),r=Vi(r,1,"day");return s}function md(e,t){var r=Gi(e,t);return Qi(r,e)?r:Vi(r,1,t)}function hd(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",n=e,s=[];to(n,t,r);)s.push(n),n=Vi(n,1,r);return s}function fd(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=Gi(e,"day"),e=lo(e,lo(t)),e=oo(e,oo(t)),e=io(e,io(t)),ao(e,ao(t)))}function pd(e){return 0===lo(e)&&0===oo(e)&&0===io(e)&&0===ao(e)}function gd(e,t,r){return r&&"milliseconds"!==r?Math.round(Math.abs(+Gi(e,r)/ld[r]-+Gi(t,r)/ld[r])):Math.abs(+e-+t)}var vd=Pe.oneOfType([Pe.string,Pe.func]);function xd(e,t,r,n,s){var a="function"==typeof n?n(r,s,e):t.call(e,r,n,s);return _i(null==a||"string"==typeof a,"`localizer format(..)` must return a string, null, or undefined"),a}function yd(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function bd(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function wd(e,t){return gd(e,t,"minutes")+bd(e,t)}function jd(e){var t=Gi(e,"day");return gd(t,e,"minutes")+bd(t,e)}function Nd(e,t){return eo(e,t,"day")}function kd(e,t,r){return Qi(e,t,"minutes")?Ji(t,r,"minutes"):Xi(t,r,"minutes")}function Sd(e,t){return function(e,t,r,n){return"day"===r&&(r="date"),Math.abs(vo[r](e,void 0,n)-vo[r](t,void 0,n))}(e,t,"day")}function _d(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,a=e.evtB,i=a.start,o=a.end,l=a.allDay,c=+Gi(r,"day")-+Gi(i,"day"),d=Sd(r,n),u=Sd(i,o);return c||u-d||!!l-!!s||+r-+i||+n-+o}function Dd(e){var t=e.event,r=t.start,n=t.end,s=e.range,a=s.start,i=s.end,o=Gi(r,"day"),l=to(o,i,"day"),c=Zi(o,n,"minutes")?Xi(n,a,"minutes"):Ji(n,a,"minutes");return l&&c}function Ed(e,t){return Qi(e,t,"day")}function Md(e,t){return pd(e)&&pd(t)}var Td=fi(function e(t){var r=this;mi(this,e),_i("function"==typeof t.format,"date localizer `format(..)` must be a function"),_i("function"==typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||vd,this.formats=t.formats,this.format=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return xd.apply(void 0,[r,t.format].concat(n))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||fd,this.inRange=t.inRange||so,this.lt=t.lt||eo,this.lte=t.lte||to,this.gt=t.gt||Xi,this.gte=t.gte||Ji,this.eq=t.eq||Qi,this.neq=t.neq||Zi,this.startOf=t.startOf||Gi,this.endOf=t.endOf||Ki,this.add=t.add||Vi,this.range=t.range||hd,this.diff=t.diff||gd,this.ceil=t.ceil||md,this.min=t.min||ro,this.max=t.max||no,this.minutes=t.minutes||oo,this.daySpan=t.daySpan||Sd,this.firstVisibleDay=t.firstVisibleDay||cd,this.lastVisibleDay=t.lastVisibleDay||dd,this.visibleDays=t.visibleDays||ud,this.getSlotDate=t.getSlotDate||yd,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||bd,this.getTotalMin=t.getTotalMin||wd,this.getMinutesFromMidnight=t.getMinutesFromMidnight||jd,this.continuesPrior=t.continuesPrior||Nd,this.continuesAfter=t.continuesAfter||kd,this.sortEvents=t.sortEvents||_d,this.inEventRange=t.inEventRange||Dd,this.isSameDate=t.isSameDate||Ed,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Md,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Cd(e,t,r,n){var s=di(di({},e.formats),r);return di(di({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(r,n){return e.format(r,s[n]||n,t)}})}var Od=function(){function e(){var t;mi(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=vi(this,e,[].concat(n))).navigate=function(e){t.props.onNavigate(e)},t.view=function(e){t.props.onView(e)},t}return xi(e,me.Component),fi(e,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,r=e.label;return me.createElement("div",{className:"rbc-toolbar"},me.createElement("span",{className:"rbc-btn-group"},me.createElement("button",{type:"button",onClick:this.navigate.bind(null,sd)},t.today),me.createElement("button",{type:"button",onClick:this.navigate.bind(null,rd)},t.previous),me.createElement("button",{type:"button",onClick:this.navigate.bind(null,nd)},t.next)),me.createElement("span",{className:"rbc-toolbar-label"},r),me.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,r=this.props.views,n=this.props.view;if(r.length>1)return r.map(function(r){return me.createElement("button",{type:"button",key:r,className:Si({"rbc-active":n===r}),onClick:t.view.bind(null,r)},e[r])})}}])}();function Pd(e,t){e&&e.apply(null,[].concat(t))}var Ad={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}},Rd=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Id=function(){function e(){return mi(this,e),vi(this,e,arguments)}return xi(e,me.Component),fi(e,[{key:"render",value:function(){var e=this.props,t=e.style,r=e.className,n=e.event,s=e.selected,a=e.isAllDay,i=e.onSelect,o=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,d=e.continuesPrior,u=e.continuesAfter,m=e.accessors,h=e.getters,f=e.children,p=e.components,g=p.event,v=p.eventWrapper,x=e.slotStart,y=e.slotEnd,b=ui(e,Rd);delete b.resizable;var w=m.title(n),j=m.tooltip(n),N=m.end(n),k=m.start(n),S=m.allDay(n),_=a||S||c.diff(k,c.ceil(N,"day"),"day")>1,D=h.eventProp(n,k,N,s),E=me.createElement("div",{className:"rbc-event-content",title:j||void 0},g?me.createElement(g,{event:n,continuesPrior:d,continuesAfter:u,title:w,isAllDay:S,localizer:c,slotStart:x,slotEnd:y}):w);return me.createElement(v,Object.assign({},this.props,{type:"date"}),me.createElement("div",Object.assign({},b,{style:di(di({},D.style),t),className:Si("rbc-event",r,D.className,{"rbc-selected":s,"rbc-event-allday":_,"rbc-event-continues-prior":d,"rbc-event-continues-after":u}),onClick:function(e){return i&&i(n,e)},onDoubleClick:function(e){return o&&o(n,e)},onKeyDown:function(e){return l&&l(n,e)}}),"function"==typeof f?f(E):E))}}])}();function Fd(e,t){return!(!e||null==t)&&$e(e,t)}function Ld(e,t){return(e.right-e.left)/t}function Yd(e,t,r,n){var s=Ld(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function zd(e){var t,r,n,s=e.containerRef,a=e.accessors,i=e.getters,o=e.selected,l=e.components,c=e.localizer,d=e.position,u=e.show,m=e.events,h=e.slotStart,f=e.slotEnd,p=e.onSelect,g=e.onDoubleClick,v=e.onKeyPress,x=e.handleDragStart,y=e.popperRef,b=e.target,w=e.offset;r=(t={ref:y,callback:u}).ref,n=t.callback,de.useEffect(function(){var e=function(e){r.current&&!r.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[r,n]),de.useLayoutEffect(function(){var e=function(e){var t=e.target,r=e.offset,n=e.container,s=e.box,a=Lo(t),i=a.top,o=a.left,l=a.width,c=a.height,d=Lo(n),u=d.top,m=d.left,h=d.width,f=d.height,p=Lo(s),g=p.width,v=p.height,x=u+f,y=m+h,b=i+v,w=o+g,j=r.x,N=r.y;return{topOffset:b>x?i-v-N:i+N+c,leftOffset:w>y?o+j-g+l:o+j}}({target:b,offset:w,container:s.current,box:y.current}),t=e.topOffset,r=e.leftOffset;y.current.style.top="".concat(t,"px"),y.current.style.left="".concat(r,"px")},[w.x,w.y,b]);var j=d.width,N={minWidth:j+j/2};return me.createElement("div",{style:N,className:"rbc-overlay",ref:y},me.createElement("div",{className:"rbc-overlay-header"},c.format(h,"dayHeaderFormat")),m.map(function(e,t){return me.createElement(Id,{key:t,type:"popup",localizer:c,event:e,getters:i,onSelect:p,accessors:a,components:l,onDoubleClick:g,onKeyPress:v,continuesPrior:c.lt(a.end(e),h,"day"),continuesAfter:c.gte(a.start(e),f,"day"),slotStart:h,slotEnd:f,selected:Fd(e,o),draggable:!0,onDragStart:function(){return x(e)},onDragEnd:function(){return u()}})}))}var qd=me.forwardRef(function(e,t){return me.createElement(zd,Object.assign({},e,{popperRef:t}))});function Bd(e){var t=e.containerRef,r=e.popupOffset,n=void 0===r?5:r,s=e.overlay,a=e.accessors,i=e.localizer,o=e.components,l=e.getters,c=e.selected,d=e.handleSelectEvent,u=e.handleDoubleClickEvent,m=e.handleKeyPressEvent,h=e.handleDragStart,f=e.onHide,p=e.overlayDisplay,g=de.useRef(null);if(!s.position)return null;var v=n;isNaN(n)||(v={x:n,y:n});var x=s.position,y=s.events,b=s.date,w=s.end;return me.createElement(Dc,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:f,target:s.target},function(e){var r=e.props;return me.createElement(qd,Object.assign({},r,{containerRef:t,ref:g,target:s.target,offset:v,accessors:a,getters:l,selected:c,components:o,localizer:i,position:x,show:p,events:y,slotStart:b,slotEnd:w,onSelect:d,onDoubleClick:u,onKeyPress:m,handleDragStart:h}))})}qd.propTypes={accessors:Pe.object.isRequired,getters:Pe.object.isRequired,selected:Pe.object,components:Pe.object.isRequired,localizer:Pe.object.isRequired,position:Pe.object.isRequired,show:Pe.func.isRequired,events:Pe.array.isRequired,slotStart:Pe.instanceOf(Date).isRequired,slotEnd:Pe.instanceOf(Date),onSelect:Pe.func,onDoubleClick:Pe.func,onKeyPress:Pe.func,handleDragStart:Pe.func,style:Pe.object,offset:Pe.shape({x:Pe.number,y:Pe.number})};var Ud=me.forwardRef(function(e,t){return me.createElement(Bd,Object.assign({},e,{containerRef:t}))});function Wd(e,t){return pc(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,e,t,{passive:!1})}function Hd(e,t){return!!function(e,t){var r=t.clientX,n=t.clientY;return Mc(document.elementFromPoint(r,n),".rbc-event",e)}(e,t)}function Vd(e,t){return!!function(e,t){var r=t.clientX,n=t.clientY;return Mc(document.elementFromPoint(r,n),".rbc-show-more",e)}(e,t)}function $d(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}Ud.propTypes={popupOffset:Pe.oneOfType([Pe.number,Pe.shape({x:Pe.number,y:Pe.number})]),overlay:Pe.shape({position:Pe.object,events:Pe.array,date:Pe.instanceOf(Date),end:Pe.instanceOf(Date)}),accessors:Pe.object.isRequired,localizer:Pe.object.isRequired,components:Pe.object.isRequired,getters:Pe.object.isRequired,selected:Pe.object,handleSelectEvent:Pe.func,handleDoubleClickEvent:Pe.func,handleKeyPressEvent:Pe.func,handleDragStart:Pe.func,onHide:Pe.func,overlayDisplay:Pe.func};var Gd=function(){return fi(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.global,s=void 0!==n&&n,a=r.longPressThreshold,i=void 0===a?250:a,o=r.validContainers,l=void 0===o?[]:o;mi(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Wd("touchmove",function(){},window),this._removeKeyDownListener=Wd("keydown",this._keyListener),this._removeKeyUpListener=Wd("keyup",this._keyListener),this._removeDropFromOutsideListener=Wd("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Wd("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()},[{key:"on",value:function(e,t){var r=this._listeners[e]||(this._listeners[e]=[]);return r.push(t),{remove:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var s;return(this._listeners[e]||[]).forEach(function(e){void 0===s&&(s=e.apply(void 0,r))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&Kd(t,Qd(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var r=this,n=null,s=null,a=null,i=function(t){n=setTimeout(function(){l(),e(t)},r.longPressThreshold),s=Wd("touchmove",function(){return l()}),a=Wd("touchend",function(){return l()})},o=Wd("touchstart",i),l=function(){n&&clearTimeout(n),s&&s(),a&&a(),n=null,s=null,a=null};return t&&i(t),function(){l(),o()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=Wd("mousedown",function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=Wd("mousedown",e._handleInitialEvent)}),r=Wd("touchstart",function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._removeInitialEventListener=function(){t(),r()}}},{key:"_dropFromOutsideListener",value:function(e){var t=$d(e),r=t.pageX,n=t.pageY,s=t.clientX,a=t.clientY;this.emit("dropFromOutside",{x:r,y:n,clientX:s,clientY:a}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=$d(e),r=t.pageX,n=t.pageY,s=t.clientX,a=t.clientY;this.emit("dragOverFromOutside",{x:r,y:n,clientX:s,clientY:a}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,r=$d(e),n=r.clientX,s=r.clientY,a=r.pageX,i=r.pageY,o=this.container();if(3!==e.which&&2!==e.button&&(c=n,d=s,!(l=o)||Po(l,document.elementFromPoint(c,d)))){var l,c,d;if(!this.globalMouse&&o&&!Po(o,e.target)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"object"!==ii(e)&&(e={top:e,left:e,right:e,bottom:e}),e}(0),m=u.top,h=u.left,f=u.bottom,p=u.right;if(!Kd({top:(t=Qd(o)).top-m,left:t.left-h,bottom:t.bottom+f,right:t.right+p},{top:i,left:a}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:a,y:i,clientX:n,clientY:s}))switch(e.type){case"mousedown":this._removeEndListener=Wd("mouseup",this._handleTerminatingEvent),this._onEscListener=Wd("keydown",this._handleTerminatingEvent),this._removeMoveListener=Wd("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=Wd("touchend",this._handleTerminatingEvent),this._removeMoveListener=Wd("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,r=this.validContainers;return!(r&&r.length&&t)||r.some(function(e){return!!t.closest(e)})}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,r=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var n=!this.container||Po(this.container(),e.target),s=this._isWithinValidContainer(e);return"Escape"!==e.key&&s?!t&&n?this._handleClickEvent(e):t?this.emit("select",r):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=$d(e),r=t.pageX,n=t.pageY,s=t.clientX,a=t.clientY,i=(new Date).getTime();return this._lastClickData&&i-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:r,y:n,clientX:s,clientY:a})):(this._lastClickData={timestamp:i},this.emit("click",{x:r,y:n,clientX:s,clientY:a}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,r=t.x,n=t.y,s=$d(e),a=s.pageX,i=s.pageY,o=Math.abs(r-a),l=Math.abs(n-i),c=Math.min(a,r),d=Math.min(i,n),u=this.selecting,m=this.isClick(a,i);(!m||u||o||l)&&(u||m||this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:d,left:c,x:a,y:i,right:c+o,bottom:d+l},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var r=this._initialEventData,n=r.x,s=r.y;return!r.isTouch&&Math.abs(e-n)<=5&&Math.abs(t-s)<=5}}])}();function Kd(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Qd(e),s=n.top,a=n.left,i=n.right,o=void 0===i?a:i,l=n.bottom,c=void 0===l?s:l,d=Qd(t),u=d.top,m=d.left,h=d.right,f=void 0===h?m:h,p=d.bottom;return!(c-r<u||s+r>(void 0===p?u:p)||o-r<m||a+r>f)}function Qd(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Zd("left"),n=t.top+Zd("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Zd(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var Xd=function(){function e(t,r){var n;return mi(this,e),(n=vi(this,e,[t,r])).state={selecting:!1},n.containerRef=de.createRef(),n}return xi(e,me.Component),fi(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,r=e.getNow,n=e.getters,s=e.date,a=e.components.dateCellWrapper,i=e.localizer,o=this.state,l=o.selecting,c=o.startIdx,d=o.endIdx,u=r();return me.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map(function(e,r){var o=l&&r>=c&&r<=d,m=n.dayProp(e),h=m.className,f=m.style;return me.createElement(a,{key:r,value:e,range:t},me.createElement("div",{style:f,className:Si("rbc-day-bg",h,o&&"rbc-selected-cell",i.isSameDate(e,u)&&"rbc-today",s&&i.neq(s,e,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,r=this._selector=new Gd(this.props.container,{longPressThreshold:this.props.longPressThreshold}),n=function(r,n){if(!Hd(t,r)&&!Vd(t,r)){var s=Qd(t),a=e.props,i=a.range,o=a.rtl;if(c=s,u=(d=r).x,(m=d.y)>=c.top&&m<=c.bottom&&u>=c.left&&u<=c.right){var l=Yd(s,r.x,o,i.length);e._selectSlot({startIdx:l,endIdx:l,action:n,box:r})}}var c,d,u,m;e._initial={},e.setState({selecting:!1})};r.on("selecting",function(n){var s=e.props,a=s.range,i=s.rtl,o=-1,l=-1;if(e.state.selecting||(Pd(e.props.onSelectStart,[n]),e._initial={x:n.x,y:n.y}),r.isSelected(t)){var c=Qd(t),d=function(e,t,r,n,s){var a=-1,i=-1,o=n-1,l=Ld(t,n),c=Yd(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,u=t.top<e.y&&t.bottom>e.y,m=e.y>t.bottom,h=t.top>e.y;return r.top<t.top&&r.bottom>t.bottom&&(a=0,i=o),d&&(h?(a=0,i=c):m&&(a=c,i=o)),u&&(a=i=s?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?c<a?a=c:i=c:e.y<r.y?i=o:a=0),{startIdx:a,endIdx:i}}(e._initial,c,n,a.length,i);o=d.startIdx,l=d.endIdx}e.setState({selecting:!0,startIdx:o,endIdx:l})}),r.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!Hd(e.containerRef.current,t)}),r.on("click",function(e){return n(e,"click")}),r.on("doubleClick",function(e){return n(e,"doubleClick")}),r.on("select",function(t){e._selectSlot(di(di({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),Pd(e.props.onSelectEnd,[e.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,r=e.startIdx,n=e.action,s=e.bounds,a=e.box;-1!==t&&-1!==r&&this.props.onSelectSlot&&this.props.onSelectSlot({start:r,end:t,action:n,bounds:s,box:a,resourceId:this.props.resourceId})}}])}(),Jd=(Pe.object.isRequired,Pe.object,Pe.bool,Pe.object.isRequired,Pe.object.isRequired,Pe.object.isRequired,Pe.object.isRequired,Pe.func,Pe.func,Pe.func,{segments:[],selected:{}}),eu=function(e,t){var r=e.selected;e.isAllDay;var n=e.accessors,s=e.getters,a=e.onSelect,i=e.onDoubleClick,o=e.onKeyPress,l=e.localizer,c=e.slotMetrics,d=e.components,u=e.resizable,m=c.continuesPrior(t),h=c.continuesAfter(t);return me.createElement(Id,{event:t,getters:s,localizer:l,accessors:n,components:d,onSelect:a,onDoubleClick:i,onKeyPress:o,continuesPrior:m,continuesAfter:h,slotStart:c.first,slotEnd:c.last,selected:Fd(t,r),resizable:u})},tu=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",s=Math.abs(t)/e*100+"%";return me.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},n)},ru=function(){function e(){return mi(this,e),vi(this,e,arguments)}return xi(e,me.Component),fi(e,[{key:"render",value:function(){var e=this,t=this.props,r=t.segments,n=t.slotMetrics.slots,s=t.className,a=1;return me.createElement("div",{className:Si(s,"rbc-row")},r.reduce(function(t,r,s){var i=r.event,o=r.left,l=r.right,c=r.span,d="_lvl_"+s,u=o-a,m=eu(e.props,i);return u&&t.push(tu(n,u,"".concat(d,"_gap"))),t.push(tu(n,c,d,m)),a=l+1,t},[]))}}])}();function nu(e){var t=e.dateRange,r=e.unit,n=void 0===r?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function su(e){var t,r,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,a=[],i=[];for(t=0;t<e.length;t++){for(n=e[t],r=0;r<a.length&&iu(n,a[r]);r++);r>=s?i.push(n):(a[r]||(a[r]=[])).push(n)}for(t=0;t<a.length;t++)a[t].sort(function(e,t){return e.left-t.left});return{levels:a,extra:i}}function au(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},i={start:t,end:r};return s.inEventRange({event:a,range:i})}function iu(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}function ou(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}ru.defaultProps=di({},Jd);var lu=function(e,t){return e.left<=t&&e.right>=t},cu=function(e,t){return e.filter(function(e){return lu(e,t)}).map(function(e){return e.event})},du=function(){function e(){return mi(this,e),vi(this,e,arguments)}return xi(e,me.Component),fi(e,[{key:"render",value:function(){for(var e=this.props,t=e.segments,r=e.slotMetrics.slots,n=su(t).levels[0],s=1,a=1,i=[];s<=r;){var o="_lvl_"+s,l=n.filter(function(e){return lu(e,s)})[0]||{},c=l.event,d=l.left,u=l.right,m=l.span;if(c){var h=Math.max(0,d-a);if(this.canRenderSlotEvent(d,m)){var f=eu(this.props,c);h&&i.push(tu(r,h,o+"_gap")),i.push(tu(r,m,o,f)),a=s=u+1}else h&&i.push(tu(r,h,o+"_gap")),i.push(tu(r,1,o,this.renderShowMore(t,s))),a=s+=1}else s++}return me.createElement("div",{className:"rbc-row"},i)}},{key:"canRenderSlotEvent",value:function(e,t){var r=this.props.segments;return Ge(e,e+t).every(function(e){return 1===cu(r,e).length})}},{key:"renderShowMore",value:function(e,t){var r=this,n=this.props,s=n.localizer,a=n.slotMetrics,i=n.components,o=a.getEventsForSlot(t),l=cu(e,t),c=l.length;if(null!=i&&i.showMore){var d=i.showMore,u=a.getDateForSlot(t-1);return!!c&&me.createElement(d,{localizer:s,slotDate:u,slot:t,count:c,events:o,remainingEvents:l})}return!!c&&me.createElement("button",{type:"button",key:"sm_"+t,className:Si("rbc-button-link","rbc-show-more"),onClick:function(e){return r.showMore(t,e)}},s.messages.showMore(c,l,o))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}();du.defaultProps=di({},Jd);var uu=function(e){var t=e.children;return me.createElement("div",{className:"rbc-row-content-scroll-container"},t)},mu=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function hu(){return Pc(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,a=e.accessors,i=e.localizer,o=nu({dateRange:t,localizer:i}),l=o.first,c=o.last,d=r.map(function(e){return function(e,t,r,n){var s=nu({dateRange:t,localizer:n}),a=s.first,i=s.last,o=n.diff(a,i,"day"),l=n.max(n.startOf(r.start(e),"day"),a),c=n.min(n.ceil(r.end(e),"day"),i),d=Je(t,function(e){return n.isSameDate(e,l)}),u=n.diff(l,c,"day");return u=Math.min(u,o),{event:e,span:u=Math.max(u-n.segmentOffset,1),left:d+1,right:Math.max(d+u,1)}}(e,t,a,i)}),u=su(d,Math.max(n-1,1)),m=u.levels,h=u.extra,f=h.length>0?s-1:s;m.length<f;)m.push([]);return{first:l,last:c,levels:m,extra:h,range:t,slots:t.length,clone:function(t){return hu()(di(di({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find(function(t){return i.isSameDate(t,e)})},getEventsForSlot:function(e){return d.filter(function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)}).map(function(e){return e.event})},continuesPrior:function(e){return i.continuesPrior(a.start(e),l)},continuesAfter:function(e){var t=a.start(e),r=a.end(e);return i.continuesAfter(t,r,c)}}},mu)}var fu=function(){function e(){var t;mi(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=vi(this,e,[].concat(n))).handleSelectSlot=function(e){var r=t.props,n=r.range;(0,r.onSelectSlot)(n.slice(e.start,e.end+1),e)},t.handleShowMore=function(e,r){var n,s,a,i=t.props,o=i.range,l=i.onShowMore,c=t.slotMetrics(t.props),d=(n=t.containerRef.current,s=".rbc-row-bg",Qo(n.querySelectorAll(s)))[0];d&&(a=d.children[e-1]),l(c.getEventsForSlot(e),o[e-1],a,e,r)},t.getContainer=function(){var e=t.props.container;return e?e():t.containerRef.current},t.renderHeadingCell=function(e,r){var n=t.props,s=n.renderHeader,a=n.getNow,i=n.localizer;return s({date:e,key:"header_".concat(r),className:Si("rbc-date-cell",i.isSameDate(e,a())&&"rbc-now")})},t.renderDummy=function(){var e=t.props,r=e.className,n=e.range,s=e.renderHeader,a=e.showAllEvents;return me.createElement("div",{className:r,ref:t.containerRef},me.createElement("div",{className:Si("rbc-row-content",a&&"rbc-row-content-scrollable")},s&&me.createElement("div",{className:"rbc-row",ref:t.headingRowRef},n.map(t.renderHeadingCell)),me.createElement("div",{className:"rbc-row",ref:t.eventRowRef},me.createElement("div",{className:"rbc-row-segment"},me.createElement("div",{className:"rbc-event"},me.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=de.createRef(),t.headingRowRef=de.createRef(),t.eventRowRef=de.createRef(),t.slotMetrics=hu(),t}return xi(e,me.Component),fi(e,[{key:"getRowLimit",value:function(){var e,t=Ec(this.eventRowRef.current),r=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?Ec(this.headingRowRef.current):0,n=Ec(this.containerRef.current)-r;return Math.max(Math.floor(n/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.rtl,n=e.range,s=e.className,a=e.selected,i=e.selectable,o=e.renderForMeasure,l=e.accessors,c=e.getters,d=e.components,u=e.getNow,m=e.renderHeader,h=e.onSelect,f=e.localizer,p=e.onSelectStart,g=e.onSelectEnd,v=e.onDoubleClick,x=e.onKeyPress,y=e.resourceId,b=e.longPressThreshold,w=e.isAllDay,j=e.resizable,N=e.showAllEvents;if(o)return this.renderDummy();var k=this.slotMetrics(this.props),S=k.levels,_=k.extra,D=N?uu:td,E=d.weekWrapper,M={selected:a,accessors:l,getters:c,localizer:f,components:d,onSelect:h,onDoubleClick:v,onKeyPress:x,resourceId:y,slotMetrics:k,resizable:j};return me.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},me.createElement(Xd,{localizer:f,date:t,getNow:u,rtl:r,range:n,selectable:i,container:this.getContainer,getters:c,onSelectStart:p,onSelectEnd:g,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:b,resourceId:y}),me.createElement("div",{className:Si("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},m&&me.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},n.map(this.renderHeadingCell)),me.createElement(D,null,me.createElement(E,Object.assign({isAllDay:w},M,{rtl:this.props.rtl}),S.map(function(e,t){return me.createElement(ru,Object.assign({key:t,segments:e},M))}),!!_.length&&me.createElement(du,Object.assign({segments:_,onShowMore:this.handleShowMore},M))))))}}])}();fu.defaultProps={minRows:0,maxRows:1/0};var pu=function(e){var t=e.label;return me.createElement("span",{role:"columnheader","aria-sort":"none"},t)},gu=function(e){var t=e.label,r=e.drilldownView,n=e.onDrillDown;return r?me.createElement("button",{type:"button",className:"rbc-button-link",onClick:n},t):me.createElement("span",null,t)},vu=["date","className"],xu=function(){function e(){var t;mi(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=vi(this,e,[].concat(n))).getContainer=function(){return t.containerRef.current},t.renderWeek=function(e,r){var n=t.props,s=n.events,a=n.components,i=n.selectable,o=n.getNow,l=n.selected,c=n.date,d=n.localizer,u=n.longPressThreshold,m=n.accessors,h=n.getters,f=n.showAllEvents,p=t.state,g=p.needLimitMeasure,v=p.rowLimit,x=function(e,t,r,n,s){return e.filter(function(e){return au(e,t,r,n,s)})}(yo(s),e[0],e[e.length-1],m,d),y=function(e,t,r){var n=yo(e),s=[],a=[];n.forEach(function(e){var n=t.start(e),i=t.end(e);r.daySpan(n,i)>1?s.push(e):a.push(e)});var i=s.sort(function(e,n){return ou(e,n,t,r)}),o=a.sort(function(e,n){return ou(e,n,t,r)});return[].concat(yo(i),yo(o))}(x,m,d);return me.createElement(fu,{key:r,ref:0===r?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:o,date:c,range:e,events:y,maxRows:f?1/0:v,selected:l,selectable:i,components:a,accessors:m,getters:h,localizer:d,renderHeader:t.readerDateHeading,renderForMeasure:g,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:u,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:f})},t.readerDateHeading=function(e){var r=e.date,n=e.className,s=ui(e,vu),a=t.props,i=a.date,o=a.getDrilldownView,l=a.localizer,c=l.neq(r,i,"month"),d=l.isSameDate(r,i),u=o(r),m=l.format(r,"dateFormat"),h=t.props.components.dateHeader||gu;return me.createElement("div",Object.assign({},s,{className:Si(n,c&&"rbc-off-range",d&&"rbc-current"),role:"cell"}),me.createElement(h,{label:m,date:r,drilldownView:u,isOffRange:c,onDrillDown:function(e){return t.handleHeadingClick(r,u,e)}}))},t.handleSelectSlot=function(e,r){t._pendingSelection=t._pendingSelection.concat(e),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(r)})},t.handleHeadingClick=function(e,r,n){n.preventDefault(),t.clearSelection(),Pd(t.props.onDrillDown,[e,r])},t.handleSelectEvent=function(){t.clearSelection();for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onSelectEvent,r)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onDoubleClickEvent,r)},t.handleKeyPressEvent=function(){t.clearSelection();for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onKeyPressEvent,r)},t.handleShowMore=function(e,r,n,s,a){var i=t.props,o=i.popup,l=i.onDrillDown,c=i.onShowMore,d=i.getDrilldownView,u=i.doShowMoreDrillDown;if(t.clearSelection(),o){var m=zo(n,t.containerRef.current);t.setState({overlay:{date:r,events:e,position:m,target:a}})}else u&&Pd(l,[r,d(r)||id.DAY]);Pd(c,[e,r,s])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=de.createRef(),t.slotRowRef=de.createRef(),t._bgRows=[],t._pendingSelection=[],t}return xi(e,me.Component),fi(e,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||Go(function(){e=!1,t.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.localizer,n=e.className,s=r.visibleDays(t,r),a=So(s,7);return this._weekCount=a.length,me.createElement("div",{className:Si("rbc-month-view",n),role:"table","aria-label":"Month View",ref:this.containerRef},me.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(a[0])),a.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,r=t.localizer,n=t.components,s=e[0],a=e[e.length-1],i=n.header||pu;return r.range(s,a,"day").map(function(e,t){return me.createElement("div",{key:"header_"+t,className:"rbc-header"},me.createElement(i,{date:e,localizer:r,label:r.format(e,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var e,t,r=this,n=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},s=this.props,a=s.accessors,i=s.localizer,o=s.components,l=s.getters,c=s.selected,d=s.popupOffset,u=s.handleDragStart;return me.createElement(Ud,{overlay:n,accessors:a,localizer:i,components:o,getters:l,selected:c,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:u,show:!!n.position,overlayDisplay:this.overlayDisplay,onHide:function(){return r.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort(function(e,t){return+e-+t});var r=new Date(t[0]),n=new Date(t[t.length-1]);n.setDate(t[t.length-1].getDate()+1),Pd(this.props.onSelectSlot,{slots:t,start:r,end:n,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.date;return{date:r,needLimitMeasure:e.localizer.neq(r,t.date,"month")}}}])}();xu.range=function(e,t){var r=t.localizer;return{start:r.firstVisibleDay(e,r),end:r.lastVisibleDay(e,r)}},xu.navigate=function(e,t,r){var n=r.localizer;switch(t){case rd:return n.add(e,-1,"month");case nd:return n.add(e,1,"month");default:return e}},xu.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var yu=function(e){var t=e.min,r=e.max,n=e.step,s=e.slots,a=e.localizer;return"".concat(+a.startOf(t,"minutes"))+"".concat(+a.startOf(r,"minutes"))+"".concat(n,"-").concat(s)};function bu(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,a=e.localizer,i=yu({start:t,end:r,step:n,timeslots:s,localizer:a}),o=1+a.getTotalMin(t,r),l=a.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(n*s)),d=c*s,u=new Array(c),m=new Array(d),h=0;h<c;h++){u[h]=new Array(s);for(var f=0;f<s;f++){var p=h*s+f,g=p*n;m[p]=u[h][f]=a.getSlotDate(t,l,g)}}var v=m.length*n;function x(e){var r=a.diff(t,e,"minutes")+a.getDstOffset(t,e);return Math.min(r,o)}return m.push(a.getSlotDate(t,l,v)),{groups:u,update:function(e){return yu(e)!==i?bu(e):this},dateIsInGroup:function(e,t){var n=u[t+1];return a.inRange(e,u[t][0],n?n[0]:r,"minutes")},nextSlot:function(e){var t=m[Math.min(m.findIndex(function(t){return t===e||a.eq(t,e)})+1,m.length-1)];return a.eq(t,e)&&(t=a.add(e,n,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(m.length-1,Math.max(0,Math.floor(e*d)));return m[t]},closestSlotFromPoint:function(e,t){var r=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/r)},closestSlotFromDate:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(a.lt(e,t,"minutes"))return m[0];if(a.gt(e,r,"minutes"))return m[m.length-1];var i=a.diff(t,e,"minutes");return m[(i-i%n)/n+s]},startsBeforeDay:function(e){return a.lt(e,t,"day")},startsAfterDay:function(e){return a.gt(e,r,"day")},startsBefore:function(e){return a.lt(a.merge(t,e),t,"minutes")},startsAfter:function(e){return a.gt(a.merge(r,e),r,"minutes")},getRange:function(e,s,i,o){i||(e=a.min(r,a.max(t,e))),o||(s=a.min(r,a.max(t,s)));var l=x(e),c=x(s),u=c>n*d&&!a.eq(r,s)?(l-n)/(n*d)*100:l/(n*d)*100;return{top:u,height:c/(n*d)*100-u,start:x(e),startDate:e,end:x(s),endDate:s}},getCurrentTimePosition:function(e){return x(e)/(n*d)*100}}}var wu=function(){return fi(function e(t,r){var n=r.accessors,s=r.slotMetrics;mi(this,e);var a=s.getRange(n.start(t),n.end(t)),i=a.start,o=a.startDate,l=a.end,c=a.endDate,d=a.top,u=a.height;this.start=i,this.end=l,this.startMs=+o,this.endMs=+c,this.top=d,this.height=u,this.data=t},[{key:"_width",get:function(){return this.rows?100/(this.rows.reduce(function(e,t){return Math.max(e,t.leaves.length+1)},0)+1):this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var r=this.row.leaves;return r.indexOf(this)===r.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,r=e.xOffset,n=e._width;return r+(t.indexOf(this)+1)*n}}])}();function ju(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function Nu(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=function(e){for(var t=et(e,["startMs",function(e){return-e.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var a=t[s];if(!(n.endMs>a.startMs)){if(s>0){var i=t.splice(s,1)[0];r.push(i)}break}}}return r}(t.map(function(e){return new wu(e,{slotMetrics:n,accessors:s})})),i=[],o=function(){var e=a[l],t=i.find(function(t){return t.end>e.start||Math.abs(e.start-t.start)<r});if(!t)return e.rows=[],i.push(e),1;e.container=t;for(var n=null,s=t.rows.length-1;!n&&s>=0;s--)ju(t.rows[s],e,r)&&(n=t.rows[s]);n?(n.leaves.push(e),e.row=n):(e.leaves=[],t.rows.push(e))},l=0;l<a.length;l++)o();return a.map(function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}})}function ku(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=ku(e.friends[n],t,r);t=t>s?t:s}return t}var Su={overlap:Nu,"no-overlap":function(e){var t=Nu({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort(function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0});for(var r=0;r<t.length;++r)t[r].friends=[],delete t[r].style.left,delete t[r].style.left,delete t[r].idx,delete t[r].size;for(var n=0;n<t.length-1;++n)for(var s=t[n],a=s.style.top,i=s.style.top+s.style.height,o=n+1;o<t.length;++o){var l=t[o],c=l.style.top,d=l.style.top+l.style.height;(c>=a&&d<=i||d>a&&d<=i||c>=a&&c<i)&&(s.friends.push(l),l.friends.push(s))}for(var u=0;u<t.length;++u){for(var m=t[u],h=[],f=0;f<100;++f)h.push(1);for(var p=0;p<m.friends.length;++p)void 0!==m.friends[p].idx&&(h[m.friends[p].idx]=0);m.idx=h.indexOf(1)}for(var g=0;g<t.length;++g){var v;if(!t[g].size){var x=[];v=100/(ku(t[g],0,x)+1),t[g].size=v;for(var y=0;y<x.length;++y)x[y].size=v}}for(var b=0;b<t.length;++b){var w=t[b];w.style.left=w.idx*w.size;for(var j=0,N=0;N<w.friends.length;++N){var k=w.friends[N].idx;j=j>k?j:k}j<=w.idx&&(w.size=100-w.idx*w.size);var S=0===w.idx?0:3;w.style.width="calc(".concat(w.size,"% - ").concat(S,"px)"),w.style.height="calc(".concat(w.style.height,"% - 2px)"),w.style.xOffset="calc(".concat(w.style.left,"% + ").concat(S,"px)")}return t}},_u=function(){function e(){return mi(this,e),vi(this,e,arguments)}return xi(e,de.Component),fi(e,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,r=e.resource,n=e.group,s=e.getters,a=e.components,i=(void 0===a?{}:a).timeSlotWrapper,o=void 0===i?td:i,l=s?s.slotGroupProp(n):{};return me.createElement("div",Object.assign({className:"rbc-timeslot-group"},l),n.map(function(e,n){var a=s?s.slotProp(e,r):{};return me.createElement(o,{key:n,value:e,resource:r},me.createElement("div",Object.assign({},a,{className:Si("rbc-time-slot",a.className)}),t&&t(e,n)))}))}}])}();function Du(e){return"string"==typeof e?e:e+"%"}function Eu(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,i=e.selected,o=e.label,l=e.continuesPrior,c=e.continuesAfter,d=e.getters,u=e.onClick,m=e.onDoubleClick,h=e.isBackgroundEvent,f=e.onKeyPress,p=e.components,g=p.event,v=p.eventWrapper,x=s.title(n),y=s.tooltip(n),b=s.end(n),w=s.start(n),j=d.eventProp(n,w,b,i),N=[me.createElement("div",{key:"1",className:"rbc-event-label"},o),me.createElement("div",{key:"2",className:"rbc-event-content"},g?me.createElement(g,{event:n,title:x}):x)],k=t.height,S=t.top,_=t.width,D=t.xOffset,E=di(di({},j.style),{},li({top:Du(S),height:Du(k),width:Du(_)},a?"right":"left",Du(D)));return me.createElement(v,Object.assign({type:"time"},e),me.createElement("div",{role:"button",tabIndex:0,onClick:u,onDoubleClick:m,style:E,onKeyDown:f,title:y?("string"==typeof o?o+": ":"")+y:void 0,className:Si(h?"rbc-background-event":"rbc-event",r,j.className,{"rbc-selected":i,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},N))}var Mu=function(e){var t=e.children,r=e.className,n=e.style,s=e.innerRef;return me.createElement("div",{className:r,style:n,ref:s},t)},Tu=me.forwardRef(function(e,t){return me.createElement(Mu,Object.assign({},e,{innerRef:t}))}),Cu=["dayProp"],Ou=["eventContainerWrapper"],Pu=function(){function e(){var t;mi(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=vi(this,e,[].concat(n))).state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(e){var r=e.events,n=e.isBackgroundEvent,s=t.props,a=s.rtl,i=s.selected,o=s.accessors,l=s.localizer,c=s.getters,d=s.components,u=s.step,m=s.timeslots,h=s.dayLayoutAlgorithm,f=s.resizable,p=t.slotMetrics,g=l.messages,v=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t,r=e.dayLayoutAlgorithm,n=r;return r in Su&&(n=Su[r]),(t=n)&&t.constructor&&t.call&&t.apply?n.apply(this,arguments):[]}({events:r,accessors:o,slotMetrics:p,minimumStartDifference:Math.ceil(u*m/2),dayLayoutAlgorithm:h});return v.map(function(e,r){var s,u,m=e.event,h=e.style,v=o.end(m),x=o.start(m),y=null!==(s=o.eventId(m))&&void 0!==s?s:"evt_"+r,b="eventTimeRangeFormat",w=p.startsBeforeDay(x),j=p.startsAfterDay(v);w?b="eventTimeRangeEndFormat":j&&(b="eventTimeRangeStartFormat"),u=w&&j?g.allDay:l.format({start:x,end:v},b);var N=w||p.startsBefore(x),k=j||p.startsAfter(v);return me.createElement(Eu,{style:h,event:m,label:u,key:y,getters:c,rtl:a,components:d,continuesPrior:N,continuesAfter:k,accessors:o,resource:t.props.resource,selected:Fd(m,i),onClick:function(e){return t._select(di(di(di({},m),t.props.resource&&{sourceResource:t.props.resource}),n&&{isBackgroundEvent:!0}),e)},onDoubleClick:function(e){return t._doubleClick(m,e)},isBackgroundEvent:n,onKeyPress:function(e){return t._keyPress(m,e)},resizable:f})})},t._selectable=function(){var e=t.containerRef.current,r=t.props,n=r.longPressThreshold,s=r.localizer,a=t._selector=new Gd(function(){return e},{longPressThreshold:n}),i=function(e){var r=t.props.onSelecting,n=t.state||{},a=o(e),i=a.startDate,l=a.endDate;r&&(s.eq(n.startDate,i,"minutes")&&s.eq(n.endDate,l,"minutes")||!1===r({start:i,end:l,resourceId:t.props.resource}))||t.state.start===a.start&&t.state.end===a.end&&t.state.selecting===a.selecting||t.setState(a)},o=function(r){var n=t.slotMetrics.closestSlotFromPoint(r,Qd(e));t.state.selecting||(t._initialSlot=n);var a=t._initialSlot;s.lte(a,n)?n=t.slotMetrics.nextSlot(n):s.gt(a,n)&&(a=t.slotMetrics.nextSlot(a));var i=t.slotMetrics.getRange(s.min(a,n),s.max(a,n));return di(di({},i),{},{selecting:!0,top:"".concat(i.top,"%"),height:"".concat(i.height,"%")})},l=function(e,r){if(!Hd(t.containerRef.current,e)){var n=o(e),s=n.startDate,a=n.endDate;t._selectSlot({startDate:s,endDate:a,action:r,box:e})}t.setState({selecting:!1})};a.on("selecting",i),a.on("selectStart",i),a.on("beforeSelect",function(e){if("ignoreEvents"===t.props.selectable)return!Hd(t.containerRef.current,e)}),a.on("click",function(e){return l(e,"click")}),a.on("doubleClick",function(e){return l(e,"doubleClick")}),a.on("select",function(e){t.state.selecting&&(t._selectSlot(di(di({},t.state),{},{action:"select",bounds:e})),t.setState({selecting:!1}))}),a.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(e){for(var r=e.startDate,n=e.endDate,s=e.action,a=e.bounds,i=e.box,o=r,l=[];t.props.localizer.lte(o,n);)l.push(o),o=new Date(+o+60*t.props.step*1e3);Pd(t.props.onSelectSlot,{slots:l,start:r,end:n,resourceId:t.props.resource,action:s,bounds:a,box:i})},t._select=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onSelectEvent,r)},t._doubleClick=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onDoubleClickEvent,r)},t._keyPress=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onKeyPressEvent,r)},t.slotMetrics=bu(t.props),t.containerRef=de.createRef(),t}return xi(e,me.Component),fi(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var r=this.props,n=r.getNow,s=r.isNow,a=r.localizer,i=r.date,o=r.min,l=r.max,c=a.neq(e.getNow(),n(),"minutes");if(e.isNow!==s||c){if(this.clearTimeIndicatorInterval(),s){var d=!c&&a.eq(e.date,i,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else s&&(a.neq(e.min,o,"minutes")||a.neq(e.max,l,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,r=e.max,n=(0,e.getNow)();if(n>=t&&n<=r){var s=this.slotMetrics.getCurrentTimePosition(n);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:s})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.max,n=e.rtl,s=e.isNow,a=e.resource,i=e.accessors,o=e.localizer,l=e.getters,c=l.dayProp,d=ui(l,Cu),u=e.components,m=u.eventContainerWrapper,h=ui(u,Ou);this.slotMetrics=this.slotMetrics.update(this.props);var f=this.slotMetrics,p=this.state,g=p.selecting,v=p.top,x=p.height,y={start:p.startDate,end:p.endDate},b=c(r,a),w=b.className,j=b.style,N=h.dayColumnWrapper||Tu;return me.createElement(N,{ref:this.containerRef,date:t,style:j,className:Si(w,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",g&&"rbc-slot-selecting"),slotMetrics:f,resource:a},f.groups.map(function(e,t){return me.createElement(_u,{key:t,group:e,resource:a,getters:d,components:h})}),me.createElement(m,{localizer:o,resource:a,accessors:i,getters:d,components:h,slotMetrics:f},me.createElement("div",{className:Si("rbc-events-container",n&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),g&&me.createElement("div",{className:"rbc-slot-selection",style:{top:v,height:x}},me.createElement("span",null,o.format(y,"selectRangeFormat"))),s&&this.intervalTriggered&&me.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}();Pu.defaultProps={dragThroughEvents:!0,timeslots:2};var Au=function(e){var t=e.label;return me.createElement(me.Fragment,null,t)},Ru=function(){function e(){var t;mi(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=vi(this,e,[].concat(n))).handleHeaderClick=function(e,r,n){n.preventDefault(),Pd(t.props.onDrillDown,[e,r])},t.renderRow=function(e){var r=t.props,n=r.events,s=r.rtl,a=r.selectable,i=r.getNow,o=r.range,l=r.getters,c=r.localizer,d=r.accessors,u=r.components,m=r.resizable,h=d.resourceId(e),f=e?n.filter(function(e){return d.resource(e)===h}):n;return me.createElement(fu,{isAllDay:!0,rtl:s,getNow:i,minRows:2,maxRows:t.props.allDayMaxRows+1,range:o,events:f,resourceId:h,className:"rbc-allday-cell",selectable:a,selected:t.props.selected,components:u,accessors:d,getters:l,localizer:c,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:m})},t}return xi(e,me.Component),fi(e,[{key:"renderHeaderCells",value:function(e){var t=this,r=this.props,n=r.localizer,s=r.getDrilldownView,a=r.getNow,i=r.getters.dayProp,o=r.components.header,l=void 0===o?pu:o,c=a();return e.map(function(e,r){var a=s(e),o=n.format(e,"dayFormat"),d=i(e),u=d.className,m=d.style,h=me.createElement(l,{date:e,label:o,localizer:n});return me.createElement("div",{key:r,style:m,className:Si("rbc-header",u,n.isSameDate(e,c)&&"rbc-today")},a?me.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(r){return t.handleHeaderClick(e,a,r)}},h):me.createElement("span",null,h))})}},{key:"render",value:function(){var e=this,t=this.props,r=t.width,n=t.rtl,s=t.resources,a=t.range,i=t.events,o=t.getNow,l=t.accessors,c=t.selectable,d=t.components,u=t.getters,m=t.scrollRef,h=t.localizer,f=t.isOverflowing,p=t.components,g=p.timeGutterHeader,v=p.resourceHeader,x=void 0===v?Au:v,y=t.resizable,b={};f&&(b[n?"marginLeft":"marginRight"]="".concat(jc()-1,"px"));var w=s.groupEvents(i);return me.createElement("div",{style:b,ref:m,className:Si("rbc-time-header",f&&"rbc-overflowing")},me.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:r,minWidth:r,maxWidth:r}},g&&me.createElement(g,null)),s.map(function(t,r){var s=Ni(t,2),i=s[0],m=s[1];return me.createElement("div",{className:"rbc-time-header-content",key:i||r},m&&me.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(r)},me.createElement("div",{className:"rbc-header"},me.createElement(x,{index:r,label:l.resourceTitle(m),resource:m}))),me.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(a)),me.createElement(fu,{isAllDay:!0,rtl:n,getNow:o,minRows:2,maxRows:e.props.allDayMaxRows+1,range:a,events:w.get(i)||[],resourceId:m&&i,className:"rbc-allday-cell",selectable:c,selected:e.props.selected,components:d,accessors:l,getters:u,localizer:h,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:y}))}))}}])}(),Iu=function(){function e(){var t;mi(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=vi(this,e,[].concat(n))).handleHeaderClick=function(e,r,n){n.preventDefault(),Pd(t.props.onDrillDown,[e,r])},t}return xi(e,me.Component),fi(e,[{key:"renderHeaderCells",value:function(e){var t=this,r=this.props,n=r.localizer,s=r.getDrilldownView,a=r.getNow,i=r.getters.dayProp,o=r.components,l=o.header,c=void 0===l?pu:l,d=o.resourceHeader,u=void 0===d?Au:d,m=r.resources,h=r.accessors,f=r.events,p=r.rtl,g=r.selectable,v=r.components,x=r.getters,y=r.resizable,b=a(),w=m.groupEvents(f);return e.map(function(r,o){var l=s(r),d=n.format(r,"dayFormat"),f=i(r),j=f.className,N=f.style,k=me.createElement(c,{date:r,label:d,localizer:n});return me.createElement("div",{key:o,className:"rbc-time-header-content rbc-resource-grouping"},me.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},me.createElement("div",{style:N,className:Si("rbc-header",j,n.isSameDate(r,b)&&"rbc-today")},l?me.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return t.handleHeaderClick(r,l,e)}},k):me.createElement("span",null,k))),me.createElement("div",{className:"rbc-row"},m.map(function(e,t){var s=Ni(e,2),a=s[0],i=s[1];return me.createElement("div",{key:"resource_".concat(a,"_").concat(t),className:Si("rbc-header",j,n.isSameDate(r,b)&&"rbc-today")},me.createElement(u,{index:t,label:h.resourceTitle(i),resource:i}))})),me.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(e,s){var i=Ni(e,2),o=i[0],l=i[1],c=(w.get(o)||[]).filter(function(e){return n.isSameDate(e.start,r)||n.isSameDate(e.end,r)});return me.createElement(fu,{key:"resource_".concat(o,"_").concat(s),isAllDay:!0,rtl:p,getNow:a,minRows:2,maxRows:t.props.allDayMaxRows+1,range:[r],events:c,resourceId:l&&o,className:"rbc-allday-cell",selectable:g,selected:t.props.selected,components:v,accessors:h,getters:x,localizer:n,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyDown:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:y})})))})}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.rtl,n=e.range,s=e.scrollRef,a=e.isOverflowing,i=e.components.timeGutterHeader,o={};return a&&(o[r?"marginLeft":"marginRight"]="".concat(jc()-1,"px")),me.createElement("div",{style:o,ref:s,className:Si("rbc-time-header",a&&"rbc-overflowing")},me.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:t,minWidth:t,maxWidth:t}},i&&me.createElement(i,null)),this.renderHeaderCells(n))}}])}(),Fu=function(e){var t=e.min,r=e.max,n=e.timeslots,s=e.step,a=e.localizer,i=e.getNow,o=e.resource,l=e.components,c=e.getters,d=e.gutterRef,u=l.timeGutterWrapper,m=de.useMemo(function(){return function(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}({min:t,max:r,localizer:a})},[null==t?void 0:t.toISOString(),null==r?void 0:r.toISOString(),a]),h=m.start,f=m.end,p=Ni(de.useState(bu({min:h,max:f,timeslots:n,step:s,localizer:a})),2),g=p[0],v=p[1];de.useEffect(function(){g&&v(g.update({min:h,max:f,timeslots:n,step:s,localizer:a}))},[null==h?void 0:h.toISOString(),null==f?void 0:f.toISOString(),n,s]);var x=de.useCallback(function(e,t){if(t)return null;var r=g.dateIsInGroup(i(),t);return me.createElement("span",{className:Si("rbc-label",r&&"rbc-now")},a.format(e,"timeGutterFormat"))},[g,a,i]);return me.createElement(u,{slotMetrics:g},me.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},g.groups.map(function(e,t){return me.createElement(_u,{key:t,group:e,resource:o,components:l,renderSlot:x,getters:c})})))},Lu=me.forwardRef(function(e,t){return me.createElement(Fu,Object.assign({gutterRef:t},e))}),Yu={},zu=function(){function e(t){var r;return mi(this,e),(r=vi(this,e,[t])).handleScroll=function(e){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=e.target.scrollLeft)},r.handleResize=function(){$o(r.rafHandle),r.rafHandle=Go(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Pd(r.props.onKeyPressEvent,t)},r.handleSelectEvent=function(){r.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Pd(r.props.onSelectEvent,t)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Pd(r.props.onDoubleClickEvent,t)},r.handleShowMore=function(e,t,n,s,a){var i=r.props,o=i.popup,l=i.onDrillDown,c=i.onShowMore,d=i.getDrilldownView,u=i.doShowMoreDrillDown;if(r.clearSelection(),o){var m=zo(n,r.containerRef.current);r.setState({overlay:{date:t,events:e,position:di(di({},m),{},{width:"200px"}),target:a}})}else u&&Pd(l,[t,d(t)||id.DAY]);Pd(c,[e,t,s])},r.handleSelectAllDaySlot=function(e,t){var n=r.props.onSelectSlot,s=new Date(e[0]),a=new Date(e[e.length-1]);a.setDate(e[e.length-1].getDate()+1),Pd(n,{slots:e,start:s,end:a,action:t.action,resourceId:t.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var e=r.contentRef.current;if(null!=e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;r.state.isOverflowing!==t&&(r._updatingOverflow=!0,r.setState({isOverflowing:t},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=Pc(function(e,t){return function(e,t){return{map:function(r){return e?e.map(function(e,n){return r([t.resourceId(e),e],n)}):[r([Yu,null],0)]},groupEvents:function(r){var n=new Map;return e?(r.forEach(function(e){var r=t.resource(e)||Yu;if(Array.isArray(r))r.forEach(function(t){var r=n.get(t)||[];r.push(e),n.set(t,r)});else{var s=n.get(r)||[];s.push(e),n.set(r,s)}}),n):(n.set(Yu,r),n)}}}(e,t)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=me.createRef(),r.contentRef=me.createRef(),r.containerRef=me.createRef(),r._scrollRatio=null,r.gutterRef=de.createRef(),r}return xi(e,de.Component),fi(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),$o(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,t,r,n,s,a,i,o,l,c){var d=this.props,u=d.min,m=d.max,h=(n.get(t)||[]).filter(function(t){return a.inRange(e,i.start(t),i.end(t),"day")}),f=(s.get(t)||[]).filter(function(t){return a.inRange(e,i.start(t),i.end(t),"day")});return me.createElement(Pu,Object.assign({},this.props,{localizer:a,min:a.merge(e,u),max:a.merge(e,m),resource:r&&t,components:o,isNow:a.isSameDate(e,c),key:"".concat(t,"-").concat(e),date:e,events:h,backgroundEvents:f,dayLayoutAlgorithm:l}))}},{key:"renderResourcesFirst",value:function(e,t,r,n,s,a,i,o,l){var c=this;return t.map(function(t){var d=Ni(t,2),u=d[0],m=d[1];return e.map(function(e){return c.renderDayColumn(e,u,m,r,n,s,a,o,l,i)})})}},{key:"renderRangeFirst",value:function(e,t,r,n,s,a,i,o,l){var c=this;return e.map(function(e){return me.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:e},t.map(function(t){var d=Ni(t,2),u=d[0],m=d[1];return me.createElement("div",{style:{flex:1},key:a.resourceId(m)},c.renderDayColumn(e,u,m,r,n,s,a,o,l,i))}))})}},{key:"renderEvents",value:function(e,t,r,n){var s=this.props,a=s.accessors,i=s.localizer,o=s.resourceGroupingLayout,l=s.components,c=s.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,a),u=d.groupEvents(t),m=d.groupEvents(r);return o?this.renderRangeFirst(e,d,u,m,i,a,n,l,c):this.renderResourcesFirst(e,d,u,m,i,a,n,l,c)}},{key:"render",value:function(){var e,t=this.props,r=t.events,n=t.backgroundEvents,s=t.range,a=t.width,i=t.rtl,o=t.selected,l=t.getNow,c=t.resources,d=t.components,u=t.accessors,m=t.getters,h=t.localizer,f=t.min,p=t.max,g=t.showMultiDayTimes,v=t.longPressThreshold,x=t.resizable,y=t.resourceGroupingLayout;a=a||this.state.gutterWidth;var b=s[0],w=s[s.length-1];this.slots=s.length;var j=[],N=[],k=[];r.forEach(function(e){if(au(e,b,w,u,h)){var t=u.start(e),r=u.end(e);u.allDay(e)||h.startAndEndAreDateOnly(t,r)||!g&&!h.isSameDate(t,r)?j.push(e):N.push(e)}}),n.forEach(function(e){au(e,b,w,u,h)&&k.push(e)}),j.sort(function(e,t){return ou(e,t,u,h)});var S={range:s,events:j,width:a,rtl:i,getNow:l,localizer:h,selected:o,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(c,u),selectable:this.props.selectable,accessors:u,getters:m,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:v,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:x};return me.createElement("div",{className:Si("rbc-time-view",c&&"rbc-time-view-resources"),ref:this.containerRef},c&&c.length>1&&y?me.createElement(Iu,S):me.createElement(Ru,S),this.props.popup&&this.renderOverlay(),me.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},me.createElement(Lu,{date:b,ref:this.gutterRef,localizer:h,min:h.merge(b,f),max:h.merge(b,p),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:m}),this.renderEvents(s,N,k,l())))}},{key:"renderOverlay",value:function(){var e,t,r=this,n=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},s=this.props,a=s.accessors,i=s.localizer,o=s.components,l=s.getters,c=s.selected,d=s.popupOffset,u=s.handleDragStart;return me.createElement(Ud,{overlay:n,accessors:a,localizer:i,components:o,getters:l,selected:c,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:u,show:!!n.position,overlayDisplay:this.overlayDisplay,onHide:function(){return r.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var t,r=null!==(t=e.gutterRef)&&void 0!==t&&t.current?Ac(e.gutterRef.current):void 0;r&&e.state.gutterWidth!==r&&e.setState({gutterWidth:r})})}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,r=e.max,n=e.scrollToTime,s=e.localizer,a=s.diff(s.merge(n,t),n,"milliseconds"),i=s.diff(t,r,"milliseconds");this._scrollRatio=a/i}}])}();zu.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var qu=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Bu=function(){function e(){return mi(this,e),vi(this,e,arguments)}return xi(e,me.Component),fi(e,[{key:"render",value:function(){var t=this.props,r=t.date,n=t.localizer,s=t.min,a=void 0===s?n.startOf(new Date,"day"):s,i=t.max,o=void 0===i?n.endOf(new Date,"day"):i,l=t.scrollToTime,c=void 0===l?n.startOf(new Date,"day"):l,d=t.enableAutoScroll,u=void 0===d||d,m=ui(t,qu),h=e.range(r,{localizer:n});return me.createElement(zu,Object.assign({},m,{range:h,eventOffset:10,localizer:n,min:a,max:o,scrollToTime:c,enableAutoScroll:u}))}}])}();Bu.range=function(e,t){return[t.localizer.startOf(e,"day")]},Bu.navigate=function(e,t,r){var n=r.localizer;switch(t){case rd:return n.add(e,-1,"day");case nd:return n.add(e,1,"day");default:return e}},Bu.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var Uu=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Wu=function(){function e(){return mi(this,e),vi(this,e,arguments)}return xi(e,me.Component),fi(e,[{key:"render",value:function(){var t=this.props,r=t.date,n=t.localizer,s=t.min,a=void 0===s?n.startOf(new Date,"day"):s,i=t.max,o=void 0===i?n.endOf(new Date,"day"):i,l=t.scrollToTime,c=void 0===l?n.startOf(new Date,"day"):l,d=t.enableAutoScroll,u=void 0===d||d,m=ui(t,Uu),h=e.range(r,this.props);return me.createElement(zu,Object.assign({},m,{range:h,eventOffset:15,localizer:n,min:a,max:o,scrollToTime:c,enableAutoScroll:u}))}}])}();Wu.defaultProps=zu.defaultProps,Wu.navigate=function(e,t,r){var n=r.localizer;switch(t){case rd:return n.add(e,-1,"week");case nd:return n.add(e,1,"week");default:return e}},Wu.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),a=r.endOf(e,"week",n);return r.range(s,a)},Wu.title=function(e,t){var r=t.localizer,n=Rc(Wu.range(e,{localizer:r})),s=n[0],a=n.slice(1);return r.format({start:s,end:a.pop()},"dayRangeHeaderFormat")};var Hu=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Vu(e,t){return Wu.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})}var $u=function(){function e(){return mi(this,e),vi(this,e,arguments)}return xi(e,me.Component),fi(e,[{key:"render",value:function(){var e=this.props,t=e.date,r=e.localizer,n=e.min,s=void 0===n?r.startOf(new Date,"day"):n,a=e.max,i=void 0===a?r.endOf(new Date,"day"):a,o=e.scrollToTime,l=void 0===o?r.startOf(new Date,"day"):o,c=e.enableAutoScroll,d=void 0===c||c,u=ui(e,Hu),m=Vu(t,this.props);return me.createElement(zu,Object.assign({},u,{range:m,eventOffset:15,localizer:r,min:s,max:i,scrollToTime:l,enableAutoScroll:d}))}}])}();function Gu(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,a=e.getters,i=e.length,o=void 0===i?30:i,l=e.localizer,c=e.onDoubleClickEvent,d=e.onSelectEvent,u=e.selected,m=de.useRef(null),h=de.useRef(null),f=de.useRef(null),p=de.useRef(null),g=de.useRef(null);de.useEffect(function(){x()});var v=function(e,n){var s="",a=r.time,i=l.messages.allDay,o=t.end(n),c=t.start(n);return t.allDay(n)||(l.eq(c,o)?i=l.format(c,"agendaTimeFormat"):l.isSameDate(c,o)?i=l.format({start:c,end:o},"agendaTimeRangeFormat"):l.isSameDate(e,c)?i=l.format(c,"agendaTimeFormat"):l.isSameDate(e,o)&&(i=l.format(o,"agendaTimeFormat"))),l.gt(e,c,"day")&&(s="rbc-continues-prior"),l.lt(e,o,"day")&&(s+=" rbc-continues-after"),me.createElement("span",{className:s.trim()},a?me.createElement(a,{event:n,day:e,label:i}):i)},x=function(){if(g.current){var e=m.current,t=g.current.firstChild;if(t){var r=p.current.scrollHeight>p.current.clientHeight,n=[],s=n;n=[Ac(t.children[0]),Ac(t.children[1])],s[0]===n[0]&&s[1]===n[1]||(h.current.style.width=n[0]+"px",f.current.style.width=n[1]+"px"),r?(Qe(e,"rbc-header-overflowing"),e.style.marginRight=jc()+"px"):Ze(e,"rbc-header-overflowing")}}},y=l.messages,b=l.add(n,o,"day"),w=l.range(n,b,"day");return(s=s.filter(function(e){return au(e,l.startOf(n,"day"),l.endOf(b,"day"),t,l)})).sort(function(e,r){return+t.start(e)-+t.start(r)}),me.createElement("div",{className:"rbc-agenda-view"},0!==s.length?me.createElement(me.Fragment,null,me.createElement("table",{ref:m,className:"rbc-agenda-table"},me.createElement("thead",null,me.createElement("tr",null,me.createElement("th",{className:"rbc-header",ref:h},y.date),me.createElement("th",{className:"rbc-header",ref:f},y.time),me.createElement("th",{className:"rbc-header"},y.event)))),me.createElement("div",{className:"rbc-agenda-content",ref:p},me.createElement("table",{className:"rbc-agenda-table"},me.createElement("tbody",{ref:g},w.map(function(e,n){return function(e,n,s){var i=r.event,o=r.date;return(n=n.filter(function(r){return au(r,l.startOf(e,"day"),l.endOf(e,"day"),t,l)})).map(function(r,m){var h=t.title(r),f=t.end(r),p=t.start(r),g=a.eventProp(r,p,f,Fd(r,u)),x=0===m&&l.format(e,"agendaDateFormat"),y=0===m&&me.createElement("td",{rowSpan:n.length,className:"rbc-agenda-date-cell"},o?me.createElement(o,{day:e,label:x}):x);return me.createElement("tr",{key:s+"_"+m,className:g.className,style:g.style},y,me.createElement("td",{className:"rbc-agenda-time-cell"},v(e,r)),me.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return d&&d(r,e)},onDoubleClick:function(e){return c&&c(r,e)}},i?me.createElement(i,{event:r,title:h}):h))},[])}(e,s,n)}))))):me.createElement("span",{className:"rbc-agenda-empty"},y.noEventsInRange))}$u.defaultProps=zu.defaultProps,$u.range=Vu,$u.navigate=Wu.navigate,$u.title=function(e,t){var r=t.localizer,n=Rc(Vu(e,{localizer:r})),s=n[0],a=n.slice(1);return r.format({start:s,end:a.pop()},"dayRangeHeaderFormat")},Gu.range=function(e,t){var r=t.length,n=void 0===r?30:r;return{start:e,end:t.localizer.add(e,n,"day")}},Gu.navigate=function(e,t,r){var n=r.length,s=void 0===n?30:n,a=r.localizer;switch(t){case rd:return a.add(e,-s,"day");case nd:return a.add(e,s,"day");default:return e}},Gu.title=function(e,t){var r=t.length,n=void 0===r?30:r,s=t.localizer,a=s.add(e,n,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var Ku=li(li(li(li(li({},id.MONTH,xu),id.WEEK,Wu),id.WORK_WEEK,$u),id.DAY,Bu),id.AGENDA,Gu),Qu=["action","date","today"],Zu=function(e){return function(t){return function(e,t){var r=null;return"function"==typeof t?r=t(e):"string"==typeof t&&"object"===ii(e)&&null!=e&&t in e&&(r=e[t]),r}(t,e)}},Xu=["view","date","getNow","onNavigate"],Ju=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function em(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=Ni(n[r],2),a=s[0];s[1]&&t.push(a)}return t}var tm=function(){function e(){var t;mi(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=vi(this,e,[].concat(n))).getViews=function(){var e=t.props.views;return Array.isArray(e)?ed(e,function(e,t){return e[t]=Ku[t]},{}):"object"===ii(e)?Xe(e,function(e,t){return!0===e?Ku[t]:e}):Ku},t.getView=function(){return t.getViews()[t.props.view]},t.getDrilldownView=function(e){var r=t.props,n=r.view,s=r.drilldownView,a=r.getDrilldownView;return a?a(e,n,Object.keys(t.getViews())):s},t.handleRangeChange=function(e,r,n){var s=t.props,a=s.onRangeChange,i=s.localizer;a&&r.range&&a(r.range(e,{localizer:i}),n)},t.handleNavigate=function(e,r){var n=t.props,s=n.view,a=n.date,i=n.getNow,o=n.onNavigate,l=ui(n,Xu),c=t.getView(),d=i();a=function(e,t){var r=t.action,n=t.date,s=t.today,a=ui(t,Qu);switch(e="string"==typeof e?Ku[e]:e,r){case sd:n=s||new Date;break;case ad:break;default:_i(e&&"function"==typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,a)}return n}(c,di(di({},l),{},{action:e,date:r||a||d,today:d})),o(a,s,e),t.handleRangeChange(a,c)},t.handleViewChange=function(e){e!==t.props.view&&function(e,t){return-1!==em(t.views).indexOf(e)}(e,t.props)&&t.props.onView(e);var r=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),r[e],e)},t.handleSelectEvent=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onSelectEvent,r)},t.handleDoubleClickEvent=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onDoubleClickEvent,r)},t.handleKeyPressEvent=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pd(t.props.onKeyPressEvent,r)},t.handleSelectSlot=function(e){Pd(t.props.onSelectSlot,e)},t.handleDrillDown=function(e,r){var n=t.props.onDrillDown;n?n(e,r,t.drilldownView):(r&&t.handleViewChange(r),t.handleNavigate(ad,e))},t.state={context:e.getContext(t.props)},t}return xi(e,me.Component),fi(e,[{key:"render",value:function(){var e=this.props,t=e.view,r=e.toolbar,n=e.events,s=e.backgroundEvents,a=e.resourceGroupingLayout,i=e.style,o=e.className,l=e.elementProps,c=e.date,d=e.getNow,u=e.length,m=e.showMultiDayTimes,h=e.onShowMore,f=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var p=ui(e,Ju);c=c||d();var g=this.getView(),v=this.state.context,x=v.accessors,y=v.components,b=v.getters,w=v.localizer,j=v.viewNames,N=y.toolbar||Od,k=g.title(c,{localizer:w,length:u});return me.createElement("div",Object.assign({},l,{className:Si(o,"rbc-calendar",p.rtl&&"rbc-rtl"),style:i}),r&&me.createElement(N,{date:c,view:t,views:j,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:w}),me.createElement(g,Object.assign({},p,{events:n,backgroundEvents:s,date:c,getNow:d,length:u,localizer:w,getters:b,components:y,accessors:x,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:h,doShowMoreDrillDown:f,resourceGroupingLayout:a})))}}],[{key:"getDerivedStateFromProps",value:function(t){return{context:e.getContext(t)}}},{key:"getContext",value:function(e){var t=e.startAccessor,r=e.endAccessor,n=e.allDayAccessor,s=e.tooltipAccessor,a=e.titleAccessor,i=e.resourceAccessor,o=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventIdAccessor,d=e.eventPropGetter,u=e.backgroundEventPropGetter,m=e.slotPropGetter,h=e.slotGroupPropGetter,f=e.dayPropGetter,p=e.view,g=e.views,v=e.localizer,x=e.culture,y=e.messages,b=void 0===y?{}:y,w=e.components,j=void 0===w?{}:w,N=e.formats,k=void 0===N?{}:N,S=em(g);return{viewNames:S,localizer:Cd(v,x,k,function(e){return di(di({},Ad),e)}(b)),getters:{eventProp:function(){return d&&d.apply(void 0,arguments)||{}},backgroundEventProp:function(){return u&&u.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return f&&f.apply(void 0,arguments)||{}}},components:Uc(j[p]||{},Ke(j,S),{eventWrapper:td,backgroundEventWrapper:td,eventContainerWrapper:td,dateCellWrapper:td,weekWrapper:td,timeSlotWrapper:td,timeGutterWrapper:td}),accessors:{start:Zu(t),end:Zu(r),allDay:Zu(n),tooltip:Zu(s),title:Zu(a),resource:Zu(i),resourceId:Zu(o),resourceTitle:Zu(l),eventId:Zu(c)}}}}])}();tm.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:id.MONTH,views:[id.MONTH,id.WEEK,id.DAY,id.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:id.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var rm,nm,sm=function e(t,r,n){void 0===n&&(n=[]);var s,a=t.displayName||t.name||"Component",i=!!(s=t)&&("function"!=typeof s||s.prototype&&s.prototype.isReactComponent),o=Object.keys(r),l=o.map(Mi);!i&&n.length&&_i(!1);var c=function(e){function s(){for(var t,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];(t=e.call.apply(e,[this].concat(a))||this).handlers=Object.create(null),o.forEach(function(e){var n=r[e];t.handlers[n]=function(r){if(t.props[n]){var s;t._notifying=!0;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];(s=t.props)[n].apply(s,[r].concat(i)),t._notifying=!1}t.unmounted||t.setState(function(t){var n,s=t.values;return{values:Me(Object.create(null),s,(n={},n[e]=r,n))}})}}),n.length&&(t.attachRef=function(e){t.inner=e});var l=Object.create(null);return o.forEach(function(e){l[e]=t.props[Mi(e)]}),t.state={values:l,prevProps:{}},t}Ee(s,e);var a=s.prototype;return a.shouldComponentUpdate=function(){return!this._notifying},s.getDerivedStateFromProps=function(e,t){var r=t.values,n=t.prevProps,s={values:Me(Object.create(null),r),prevProps:{}};return o.forEach(function(t){s.prevProps[t]=e[t],!Ei(e,t)&&Ei(n,t)&&(s.values[t]=e[Mi(t)])}),s},a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){var e=this,r=this.props,n=r.innerRef,s=Se(r,["innerRef"]);l.forEach(function(e){delete s[e]});var a={};return o.forEach(function(t){var r=e.props[t];a[t]=void 0!==r?r:e.state.values[t]}),me.createElement(t,Me({},s,a,this.handlers,{ref:n||this.attachRef}))},s}(me.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==s){var a=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+a+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Ti,t.componentWillReceiveProps=Ci),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Oi;var o=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;o.call(this,e,t,n)}}}(c),c.displayName="Uncontrolled("+a+")",c.propTypes=Me({innerRef:function(){}},function(e){var t={};return Object.keys(e).forEach(function(e){t[Mi(e)]=Di}),t}(r)),n.forEach(function(e){c.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}});var d=c;return me.forwardRef&&((d=me.forwardRef(function(e,t){return me.createElement(c,Me({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})).propTypes=c.propTypes),d.ControlledComponent=t,d.deferControlTo=function(t,n,s){return void 0===n&&(n={}),e(t,Me({},r,n),s)},d}(tm,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),am=function(e,t,r){var n=e.start,s=e.end;return r.format(n,"LT",t)+"  "+r.format(s,"LT",t)},im={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:am,eventTimeRangeFormat:am,eventTimeRangeStartFormat:function(e,t,r){var n=e.start;return r.format(n,"LT",t)+"  "},eventTimeRangeEndFormat:function(e,t,r){var n=e.end;return"  "+r.format(n,"LT",t)},timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:function(e,t,r){var n=e.start,s=e.end;return r.format(n,"MMMM DD",t)+"  "+r.format(s,r.eq(n,s,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,r){var n=e.start,s=e.end;return r.format(n,"L",t)+"  "+r.format(s,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:am};function om(e){var t=e?e.toLowerCase():e;return"FullYear"===t?t="year":t||(t=void 0),t}function lm(){return rm.apply(null,arguments)}function cm(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function dm(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function um(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mm(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(um(e,t))return!1;return!0}function hm(e){return void 0===e}function fm(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function pm(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function gm(e,t){var r,n=[],s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function vm(e,t){for(var r in t)um(t,r)&&(e[r]=t[r]);return um(t,"toString")&&(e.toString=t.toString),um(t,"valueOf")&&(e.valueOf=t.valueOf),e}function xm(e,t,r,n){return Cf(e,t,r,n,!0).utc()}function ym(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function bm(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());return n&&(t=ym(e),r=nm.call(t.parsedDateParts,function(e){return null!=e}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?n:(e._isValid=n,e._isValid)}function wm(e){var t=xm(NaN);return null!=e?vm(ym(t),e):ym(t).userInvalidated=!0,t}nm=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var jm=lm.momentProperties=[],Nm=!1;function km(e,t){var r,n,s,a=jm.length;if(hm(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),hm(t._i)||(e._i=t._i),hm(t._f)||(e._f=t._f),hm(t._l)||(e._l=t._l),hm(t._strict)||(e._strict=t._strict),hm(t._tzm)||(e._tzm=t._tzm),hm(t._isUTC)||(e._isUTC=t._isUTC),hm(t._offset)||(e._offset=t._offset),hm(t._pf)||(e._pf=ym(t)),hm(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)hm(s=t[n=jm[r]])||(e[n]=s);return e}function Sm(e){km(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Nm&&(Nm=!0,lm.updateOffset(this),Nm=!1)}function _m(e){return e instanceof Sm||null!=e&&null!=e._isAMomentObject}function Dm(e){!1===lm.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function Em(e,t){var r=!0;return vm(function(){if(null!=lm.deprecationHandler&&lm.deprecationHandler(null,e),r){var n,s,a,i=[],o=arguments.length;for(s=0;s<o;s++){if(n="","object"==typeof arguments[s]){for(a in n+="\n["+s+"] ",arguments[0])um(arguments[0],a)&&(n+=a+": "+arguments[0][a]+", ");n=n.slice(0,-2)}else n=arguments[s];i.push(n)}Dm((Array.prototype.slice.call(i).join(""),(new Error).stack)),r=!1}return t.apply(this,arguments)},t)}var Mm,Tm={};function Cm(e,t){null!=lm.deprecationHandler&&lm.deprecationHandler(e,t),Tm[e]||(Dm(),Tm[e]=!0)}function Om(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Pm(e,t){var r,n=vm({},e);for(r in t)um(t,r)&&(dm(e[r])&&dm(t[r])?(n[r]={},vm(n[r],e[r]),vm(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)um(e,r)&&!um(t,r)&&dm(e[r])&&(n[r]=vm({},n[r]));return n}function Am(e){null!=e&&this.set(e)}function Rm(e,t,r){var n=""+Math.abs(e),s=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}lm.suppressDeprecationWarnings=!1,lm.deprecationHandler=null,Mm=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)um(e,t)&&r.push(t);return r};var Im=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fm=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lm={},Ym={};function zm(e,t,r,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),e&&(Ym[e]=s),t&&(Ym[t[0]]=function(){return Rm(s.apply(this,arguments),t[1],t[2])}),r&&(Ym[r]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function qm(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Bm(e,t){return e.isValid()?(t=Um(t,e.localeData()),Lm[t]=Lm[t]||function(e){var t,r,n=e.match(Im);for(t=0,r=n.length;t<r;t++)Ym[n[t]]?n[t]=Ym[n[t]]:n[t]=qm(n[t]);return function(t){var s,a="";for(s=0;s<r;s++)a+=Om(n[s])?n[s].call(t,e):n[s];return a}}(t),Lm[t](e)):e.localeData().invalidDate()}function Um(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(Fm.lastIndex=0;r>=0&&Fm.test(e);)e=e.replace(Fm,n),Fm.lastIndex=0,r-=1;return e}var Wm={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Hm(e){return"string"==typeof e?Wm[e]||Wm[e.toLowerCase()]:void 0}function Vm(e){var t,r,n={};for(r in e)um(e,r)&&(t=Hm(r))&&(n[t]=e[r]);return n}var $m,Gm={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1},Km=/\d/,Qm=/\d\d/,Zm=/\d{3}/,Xm=/\d{4}/,Jm=/[+-]?\d{6}/,eh=/\d\d?/,th=/\d\d\d\d?/,rh=/\d\d\d\d\d\d?/,nh=/\d{1,3}/,sh=/\d{1,4}/,ah=/[+-]?\d{1,6}/,ih=/\d+/,oh=/[+-]?\d+/,lh=/Z|[+-]\d\d:?\d\d/gi,ch=/Z|[+-]\d\d(?::?\d\d)?/gi,dh=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,uh=/^[1-9]\d?/,mh=/^([1-9]\d|\d)/;function hh(e,t,r){$m[e]=Om(t)?t:function(e,n){return e&&r?r:t}}function fh(e,t){return um($m,e)?$m[e](t._strict,t._locale):new RegExp(ph(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,n,s){return t||r||n||s})))}function ph(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function gh(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function vh(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=gh(t)),r}$m={};var xh={};function yh(e,t){var r,n,s=t;for("string"==typeof e&&(e=[e]),fm(t)&&(s=function(e,r){r[t]=vh(e)}),n=e.length,r=0;r<n;r++)xh[e[r]]=s}function bh(e,t){yh(e,function(e,r,n,s){n._w=n._w||{},t(e,n._w,n,s)})}function wh(e,t,r){null!=t&&um(xh,e)&&xh[e](t,r._a,r,e)}function jh(e){return e%4==0&&e%100!=0||e%400==0}function Nh(e){return jh(e)?366:365}zm("Y",0,0,function(){var e=this.year();return e<=9999?Rm(e,4):"+"+e}),zm(0,["YY",2],0,function(){return this.year()%100}),zm(0,["YYYY",4],0,"year"),zm(0,["YYYYY",5],0,"year"),zm(0,["YYYYYY",6,!0],0,"year"),hh("Y",oh),hh("YY",eh,Qm),hh("YYYY",sh,Xm),hh("YYYYY",ah,Jm),hh("YYYYYY",ah,Jm),yh(["YYYYY","YYYYYY"],0),yh("YYYY",function(e,t){t[0]=2===e.length?lm.parseTwoDigitYear(e):vh(e)}),yh("YY",function(e,t){t[0]=lm.parseTwoDigitYear(e)}),yh("Y",function(e,t){t[0]=parseInt(e,10)}),lm.parseTwoDigitYear=function(e){return vh(e)+(vh(e)>68?1900:2e3)};var kh,Sh=_h("FullYear",!0);function _h(e,t){return function(r){return null!=r?(Eh(this,e,r),lm.updateOffset(this,t),this):Dh(this,e)}}function Dh(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function Eh(e,t,r){var n,s,a,i,o;if(e.isValid()&&!isNaN(r)){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(s?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(s?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(s?n.setUTCHours(r):n.setHours(r));case"Date":return void(s?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,i=e.month(),o=29!==(o=e.date())||1!==i||jh(a)?o:28,s?n.setUTCFullYear(a,i,o):n.setFullYear(a,i,o)}}function Mh(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,n=(t%(r=12)+r)%r;return e+=(t-n)/12,1===n?jh(e)?29:28:31-n%7%2}kh=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},zm("M",["MM",2],"Mo",function(){return this.month()+1}),zm("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),zm("MMMM",0,0,function(e){return this.localeData().months(this,e)}),hh("M",eh,uh),hh("MM",eh,Qm),hh("MMM",function(e,t){return t.monthsShortRegex(e)}),hh("MMMM",function(e,t){return t.monthsRegex(e)}),yh(["M","MM"],function(e,t){t[1]=vh(e)-1}),yh(["MMM","MMMM"],function(e,t,r,n){var s=r._locale.monthsParse(e,n,r._strict);null!=s?t[1]=s:ym(r).invalidMonth=e});var Th="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ch="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Oh=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ph=dh,Ah=dh;function Rh(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=xm([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(s=kh.call(this._shortMonthsParse,i))?s:null:-1!==(s=kh.call(this._longMonthsParse,i))?s:null:"MMM"===t?-1!==(s=kh.call(this._shortMonthsParse,i))||-1!==(s=kh.call(this._longMonthsParse,i))?s:null:-1!==(s=kh.call(this._longMonthsParse,i))||-1!==(s=kh.call(this._shortMonthsParse,i))?s:null}function Ih(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=vh(t);else if(!fm(t=e.localeData().monthsParse(t)))return e;var r=t,n=e.date();return n=n<29?n:Math.min(n,Mh(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function Fh(e){return null!=e?(Ih(this,e),lm.updateOffset(this,!0),this):Dh(this,"Month")}function Lh(){function e(e,t){return t.length-e.length}var t,r,n,s,a=[],i=[],o=[];for(t=0;t<12;t++)r=xm([2e3,t]),n=ph(this.monthsShort(r,"")),s=ph(this.months(r,"")),a.push(n),i.push(s),o.push(s),o.push(n);a.sort(e),i.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Yh(e,t,r,n,s,a,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,r,n,s,a,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,r,n,s,a,i),o}function zh(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function qh(e,t,r){var n=7+t-r;return-(7+zh(e,0,n).getUTCDay()-t)%7+n-1}function Bh(e,t,r,n,s){var a,i,o=1+7*(t-1)+(7+r-n)%7+qh(e,n,s);return o<=0?i=Nh(a=e-1)+o:o>Nh(e)?(a=e+1,i=o-Nh(e)):(a=e,i=o),{year:a,dayOfYear:i}}function Uh(e,t,r){var n,s,a=qh(e.year(),t,r),i=Math.floor((e.dayOfYear()-a-1)/7)+1;return i<1?n=i+Wh(s=e.year()-1,t,r):i>Wh(e.year(),t,r)?(n=i-Wh(e.year(),t,r),s=e.year()+1):(s=e.year(),n=i),{week:n,year:s}}function Wh(e,t,r){var n=qh(e,t,r),s=qh(e+1,t,r);return(Nh(e)-n+s)/7}function Hh(e,t){return e.slice(t,7).concat(e.slice(0,t))}zm("w",["ww",2],"wo","week"),zm("W",["WW",2],"Wo","isoWeek"),hh("w",eh,uh),hh("ww",eh,Qm),hh("W",eh,uh),hh("WW",eh,Qm),bh(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=vh(e)}),zm("d",0,"do","day"),zm("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),zm("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),zm("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),zm("e",0,0,"weekday"),zm("E",0,0,"isoWeekday"),hh("d",eh),hh("e",eh),hh("E",eh),hh("dd",function(e,t){return t.weekdaysMinRegex(e)}),hh("ddd",function(e,t){return t.weekdaysShortRegex(e)}),hh("dddd",function(e,t){return t.weekdaysRegex(e)}),bh(["dd","ddd","dddd"],function(e,t,r,n){var s=r._locale.weekdaysParse(e,n,r._strict);null!=s?t.d=s:ym(r).invalidWeekday=e}),bh(["d","e","E"],function(e,t,r,n){t[n]=vh(e)});var Vh="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$h="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gh="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Kh=dh,Qh=dh,Zh=dh;function Xh(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=xm([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(s=kh.call(this._weekdaysParse,i))?s:null:"ddd"===t?-1!==(s=kh.call(this._shortWeekdaysParse,i))?s:null:-1!==(s=kh.call(this._minWeekdaysParse,i))?s:null:"dddd"===t?-1!==(s=kh.call(this._weekdaysParse,i))||-1!==(s=kh.call(this._shortWeekdaysParse,i))||-1!==(s=kh.call(this._minWeekdaysParse,i))?s:null:"ddd"===t?-1!==(s=kh.call(this._shortWeekdaysParse,i))||-1!==(s=kh.call(this._weekdaysParse,i))||-1!==(s=kh.call(this._minWeekdaysParse,i))?s:null:-1!==(s=kh.call(this._minWeekdaysParse,i))||-1!==(s=kh.call(this._weekdaysParse,i))||-1!==(s=kh.call(this._shortWeekdaysParse,i))?s:null}function Jh(){function e(e,t){return t.length-e.length}var t,r,n,s,a,i=[],o=[],l=[],c=[];for(t=0;t<7;t++)r=xm([2e3,1]).day(t),n=ph(this.weekdaysMin(r,"")),s=ph(this.weekdaysShort(r,"")),a=ph(this.weekdays(r,"")),i.push(n),o.push(s),l.push(a),c.push(n),c.push(s),c.push(a);i.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ef(){return this.hours()%12||12}function tf(e,t){zm(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rf(e,t){return t._meridiemParse}zm("H",["HH",2],0,"hour"),zm("h",["hh",2],0,ef),zm("k",["kk",2],0,function(){return this.hours()||24}),zm("hmm",0,0,function(){return""+ef.apply(this)+Rm(this.minutes(),2)}),zm("hmmss",0,0,function(){return""+ef.apply(this)+Rm(this.minutes(),2)+Rm(this.seconds(),2)}),zm("Hmm",0,0,function(){return""+this.hours()+Rm(this.minutes(),2)}),zm("Hmmss",0,0,function(){return""+this.hours()+Rm(this.minutes(),2)+Rm(this.seconds(),2)}),tf("a",!0),tf("A",!1),hh("a",rf),hh("A",rf),hh("H",eh,mh),hh("h",eh,uh),hh("k",eh,uh),hh("HH",eh,Qm),hh("hh",eh,Qm),hh("kk",eh,Qm),hh("hmm",th),hh("hmmss",rh),hh("Hmm",th),hh("Hmmss",rh),yh(["H","HH"],3),yh(["k","kk"],function(e,t,r){var n=vh(e);t[3]=24===n?0:n}),yh(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),yh(["h","hh"],function(e,t,r){t[3]=vh(e),ym(r).bigHour=!0}),yh("hmm",function(e,t,r){var n=e.length-2;t[3]=vh(e.substr(0,n)),t[4]=vh(e.substr(n)),ym(r).bigHour=!0}),yh("hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[3]=vh(e.substr(0,n)),t[4]=vh(e.substr(n,2)),t[5]=vh(e.substr(s)),ym(r).bigHour=!0}),yh("Hmm",function(e,t,r){var n=e.length-2;t[3]=vh(e.substr(0,n)),t[4]=vh(e.substr(n))}),yh("Hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[3]=vh(e.substr(0,n)),t[4]=vh(e.substr(n,2)),t[5]=vh(e.substr(s))});var nf,sf=_h("Hours",!0),af={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Th,monthsShort:Ch,week:{dow:0,doy:6},weekdays:Vh,weekdaysMin:Gh,weekdaysShort:$h,meridiemParse:/[ap]\.?m?\.?/i},of={},lf={};function cf(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function df(e){return e?e.toLowerCase().replace("_","-"):e}function uf(e){var r=null;if(void 0===of[e]&&void 0!==t&&t&&t.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{r=nf._abbr,require("./locale/"+e),mf(r)}catch(Ly){of[e]=null}return of[e]}function mf(e,t){var r;return e&&((r=hm(t)?ff(e):hf(e,t))?nf=r:"undefined"!=typeof console&&console.warn),nf._abbr}function hf(e,t){if(null!==t){var r,n=af;if(t.abbr=e,null!=of[e])Cm("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=of[e]._config;else if(null!=t.parentLocale)if(null!=of[t.parentLocale])n=of[t.parentLocale]._config;else{if(null==(r=uf(t.parentLocale)))return lf[t.parentLocale]||(lf[t.parentLocale]=[]),lf[t.parentLocale].push({name:e,config:t}),null;n=r._config}return of[e]=new Am(Pm(n,t)),lf[e]&&lf[e].forEach(function(e){hf(e.name,e.config)}),mf(e),of[e]}return delete of[e],null}function ff(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nf;if(!cm(e)){if(t=uf(e))return t;e=[e]}return function(e){for(var t,r,n,s,a=0;a<e.length;){for(t=(s=df(e[a]).split("-")).length,r=(r=df(e[a+1]))?r.split("-"):null;t>0;){if(n=uf(s.slice(0,t).join("-")))return n;if(r&&r.length>=t&&cf(s,r)>=t-1)break;t--}a++}return nf}(e)}function pf(e){var t,r=e._a;return r&&-2===ym(e).overflow&&(t=r[1]<0||r[1]>11?1:r[2]<1||r[2]>Mh(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,ym(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),ym(e)._overflowWeeks&&-1===t&&(t=7),ym(e)._overflowWeekday&&-1===t&&(t=8),ym(e).overflow=t),e}var gf=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xf=/Z|[+-]\d\d(?::?\d\d)?/,yf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],bf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wf=/^\/?Date\((-?\d+)/i,jf=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nf={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kf(e){var t,r,n,s,a,i,o=e._i,l=gf.exec(o)||vf.exec(o),c=yf.length,d=bf.length;if(l){for(ym(e).iso=!0,t=0,r=c;t<r;t++)if(yf[t][1].exec(l[1])){s=yf[t][0],n=!1!==yf[t][2];break}if(null==s)return void(e._isValid=!1);if(l[3]){for(t=0,r=d;t<r;t++)if(bf[t][1].exec(l[3])){a=(l[2]||" ")+bf[t][0];break}if(null==a)return void(e._isValid=!1)}if(!n&&null!=a)return void(e._isValid=!1);if(l[4]){if(!xf.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=s+(a||"")+(i||""),Mf(e)}else e._isValid=!1}function Sf(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function _f(e){var t,r,n,s,a,i,o,l,c=jf.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(r=c[4],n=c[3],s=c[2],a=c[5],i=c[6],o=c[7],l=[Sf(r),Ch.indexOf(n),parseInt(s,10),parseInt(a,10),parseInt(i,10)],o&&l.push(parseInt(o,10)),t=l,!function(e,t,r){return!e||$h.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(ym(r).weekdayMismatch=!0,r._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return Nf[e];if(t)return 0;var n=parseInt(r,10),s=n%100;return(n-s)/100*60+s}(c[8],c[9],c[10]),e._d=zh.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ym(e).rfc2822=!0}else e._isValid=!1}function Df(e,t,r){return null!=e?e:null!=t?t:r}function Ef(e){var t,r,n,s,a,i=[];if(!e._d){for(n=function(e){var t=new Date(lm.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,r,n,s,a,i,o,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,i=4,r=Df(t.GG,e._a[0],Uh(Of(),1,4).year),n=Df(t.W,1),((s=Df(t.E,1))<1||s>7)&&(l=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,c=Uh(Of(),a,i),r=Df(t.gg,e._a[0],c.year),n=Df(t.w,c.week),null!=t.d?((s=t.d)<0||s>6)&&(l=!0):null!=t.e?(s=t.e+a,(t.e<0||t.e>6)&&(l=!0)):s=a),n<1||n>Wh(r,a,i)?ym(e)._overflowWeeks=!0:null!=l?ym(e)._overflowWeekday=!0:(o=Bh(r,n,s,a,i),e._a[0]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(a=Df(e._a[0],n[0]),(e._dayOfYear>Nh(a)||0===e._dayOfYear)&&(ym(e)._overflowDayOfYear=!0),r=zh(a,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=n[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?zh:Yh).apply(null,i),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(ym(e).weekdayMismatch=!0)}}function Mf(e){if(e._f!==lm.ISO_8601)if(e._f!==lm.RFC_2822){e._a=[],ym(e).empty=!0;var t,r,n,s,a,i,o,l=""+e._i,c=l.length,d=0;for(o=(n=Um(e._f,e._locale).match(Im)||[]).length,t=0;t<o;t++)s=n[t],(r=(l.match(fh(s,e))||[])[0])&&((a=l.substr(0,l.indexOf(r))).length>0&&ym(e).unusedInput.push(a),l=l.slice(l.indexOf(r)+r.length),d+=r.length),Ym[s]?(r?ym(e).empty=!1:ym(e).unusedTokens.push(s),wh(s,r,e)):e._strict&&!r&&ym(e).unusedTokens.push(s);ym(e).charsLeftOver=c-d,l.length>0&&ym(e).unusedInput.push(l),e._a[3]<=12&&!0===ym(e).bigHour&&e._a[3]>0&&(ym(e).bigHour=void 0),ym(e).parsedDateParts=e._a.slice(0),ym(e).meridiem=e._meridiem,e._a[3]=(u=e._locale,m=e._a[3],null==(h=e._meridiem)?m:null!=u.meridiemHour?u.meridiemHour(m,h):null!=u.isPM?((f=u.isPM(h))&&m<12&&(m+=12),f||12!==m||(m=0),m):m),null!==(i=ym(e).era)&&(e._a[0]=e._locale.erasConvertYear(i,e._a[0])),Ef(e),pf(e)}else _f(e);else kf(e);var u,m,h,f}function Tf(e){var t=e._i,r=e._f;return e._locale=e._locale||ff(e._l),null===t||void 0===r&&""===t?wm({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_m(t)?new Sm(pf(t)):(pm(t)?e._d=t:cm(r)?function(e){var t,r,n,s,a,i,o=!1,l=e._f.length;if(0===l)return ym(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<l;s++)a=0,i=!1,t=km({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],Mf(t),bm(t)&&(i=!0),a+=ym(t).charsLeftOver,a+=10*ym(t).unusedTokens.length,ym(t).score=a,o?a<n&&(n=a,r=t):(null==n||a<n||i)&&(n=a,r=t,i&&(o=!0));vm(e,r||t)}(e):r?Mf(e):function(e){var t=e._i;hm(t)?e._d=new Date(lm.now()):pm(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=wf.exec(e._i);null===t?(kf(e),!1===e._isValid&&(delete e._isValid,_f(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:lm.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):cm(t)?(e._a=gm(t.slice(0),function(e){return parseInt(e,10)}),Ef(e)):dm(t)?function(e){if(!e._d){var t=Vm(e._i),r=void 0===t.day?t.date:t.day;e._a=gm([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ef(e)}}(e):fm(t)?e._d=new Date(t):lm.createFromInputFallback(e)}(e),bm(e)||(e._d=null),e))}function Cf(e,t,r,n,s){var a,i={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(dm(e)&&mm(e)||cm(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=r,i._i=e,i._f=t,i._strict=n,(a=new Sm(pf(Tf(i))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Of(e,t,r,n){return Cf(e,t,r,n,!1)}lm.createFromInputFallback=Em("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),lm.ISO_8601=function(){},lm.RFC_2822=function(){};var Pf=Em("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Of.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:wm()}),Af=Em("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Of.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:wm()});function Rf(e,t){var r,n;if(1===t.length&&cm(t[0])&&(t=t[0]),!t.length)return Of();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var If=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ff(e){var t=Vm(e),r=t.year||0,n=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,i=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,r,n=!1,s=If.length;for(t in e)if(um(e,t)&&(-1===kh.call(If,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<s;++r)if(e[If[r]]){if(n)return!1;parseFloat(e[If[r]])!==vh(e[If[r]])&&(n=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*o*60*60,this._days=+i+7*a,this._months=+s+3*n+12*r,this._data={},this._locale=ff(),this._bubble()}function Lf(e){return e instanceof Ff}function Yf(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function zf(e,t){zm(e,0,0,function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+Rm(~~(e/60),2)+t+Rm(~~e%60,2)})}zf("Z",":"),zf("ZZ",""),hh("Z",ch),hh("ZZ",ch),yh(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Bf(ch,e)});var qf=/([\+\-]|\d\d)/gi;function Bf(e,t){var r,n,s=(t||"").match(e);return null===s?null:0===(n=60*(r=((s[s.length-1]||[])+"").match(qf)||["-",0,0])[1]+vh(r[2]))?0:"+"===r[0]?n:-n}function Uf(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(_m(e)||pm(e)?e.valueOf():Of(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),lm.updateOffset(r,!1),r):Of(e).local()}function Wf(e){return-Math.round(e._d.getTimezoneOffset())}function Hf(){return!!this.isValid()&&this._isUTC&&0===this._offset}lm.updateOffset=function(){};var Vf=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gf(e,t){var r,n,s,a,i,o,l=e,c=null;return Lf(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:fm(e)||!isNaN(+e)?(l={},t?l[t]=+e:l.milliseconds=+e):(c=Vf.exec(e))?(r="-"===c[1]?-1:1,l={y:0,d:vh(c[2])*r,h:vh(c[3])*r,m:vh(c[4])*r,s:vh(c[5])*r,ms:vh(Yf(1e3*c[6]))*r}):(c=$f.exec(e))?(r="-"===c[1]?-1:1,l={y:Kf(c[2],r),M:Kf(c[3],r),w:Kf(c[4],r),d:Kf(c[5],r),h:Kf(c[6],r),m:Kf(c[7],r),s:Kf(c[8],r)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(a=Of(l.from),i=Of(l.to),s=a.isValid()&&i.isValid()?(i=Uf(i,a),a.isBefore(i)?o=Qf(a,i):((o=Qf(i,a)).milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0},(l={}).ms=s.milliseconds,l.M=s.months),n=new Ff(l),Lf(e)&&um(e,"_locale")&&(n._locale=e._locale),Lf(e)&&um(e,"_isValid")&&(n._isValid=e._isValid),n}function Kf(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Qf(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Zf(e,t){return function(r,n){var s;return null===n||isNaN(+n)||(Cm(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),Xf(this,Gf(r,n),e),this}}function Xf(e,t,r,n){var s=t._milliseconds,a=Yf(t._days),i=Yf(t._months);e.isValid()&&(n=null==n||n,i&&Ih(e,Dh(e,"Month")+i*r),a&&Eh(e,"Date",Dh(e,"Date")+a*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&lm.updateOffset(e,a||i))}Gf.fn=Ff.prototype,Gf.invalid=function(){return Gf(NaN)};var Jf=Zf(1,"add"),ep=Zf(-1,"subtract");function tp(e){return"string"==typeof e||e instanceof String}function rp(e){return _m(e)||pm(e)||tp(e)||fm(e)||function(e){var t=cm(e),r=!1;return t&&(r=0===e.filter(function(t){return!fm(t)&&tp(e)}).length),t&&r}(e)||function(e){var t,r,n=dm(e)&&!mm(e),s=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i=a.length;for(t=0;t<i;t+=1)r=a[t],s=s||um(e,r);return n&&s}(e)||null==e}function np(e,t){if(e.date()<t.date())return-np(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function sp(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ff(e))&&(this._locale=t),this)}lm.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",lm.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ap=Em("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function ip(){return this._locale}var op=1e3,lp=6e4,cp=36e5,dp=126227808e5;function up(e,t){return(e%t+t)%t}function mp(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-dp:new Date(e,t,r).valueOf()}function hp(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-dp:Date.UTC(e,t,r)}function fp(e,t){return t.erasAbbrRegex(e)}function pp(){var e,t,r,n,s,a=[],i=[],o=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)r=ph(c[e].name),n=ph(c[e].abbr),s=ph(c[e].narrow),i.push(r),a.push(n),o.push(s),l.push(r),l.push(n),l.push(s);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function gp(e,t){zm(0,[e,e.length],0,t)}function vp(e,t,r,n,s){var a;return null==e?Uh(this,n,s).year:(t>(a=Wh(e,n,s))&&(t=a),xp.call(this,e,t,r,n,s))}function xp(e,t,r,n,s){var a=Bh(e,t,r,n,s),i=zh(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}zm("N",0,0,"eraAbbr"),zm("NN",0,0,"eraAbbr"),zm("NNN",0,0,"eraAbbr"),zm("NNNN",0,0,"eraName"),zm("NNNNN",0,0,"eraNarrow"),zm("y",["y",1],"yo","eraYear"),zm("y",["yy",2],0,"eraYear"),zm("y",["yyy",3],0,"eraYear"),zm("y",["yyyy",4],0,"eraYear"),hh("N",fp),hh("NN",fp),hh("NNN",fp),hh("NNNN",function(e,t){return t.erasNameRegex(e)}),hh("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),yh(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var s=r._locale.erasParse(e,n,r._strict);s?ym(r).era=s:ym(r).invalidEra=e}),hh("y",ih),hh("yy",ih),hh("yyy",ih),hh("yyyy",ih),hh("yo",function(e,t){return t._eraYearOrdinalRegex||ih}),yh(["y","yy","yyy","yyyy"],0),yh(["yo"],function(e,t,r,n){var s;r._locale._eraYearOrdinalRegex&&(s=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[0]=r._locale.eraYearOrdinalParse(e,s):t[0]=parseInt(e,10)}),zm(0,["gg",2],0,function(){return this.weekYear()%100}),zm(0,["GG",2],0,function(){return this.isoWeekYear()%100}),gp("gggg","weekYear"),gp("ggggg","weekYear"),gp("GGGG","isoWeekYear"),gp("GGGGG","isoWeekYear"),hh("G",oh),hh("g",oh),hh("GG",eh,Qm),hh("gg",eh,Qm),hh("GGGG",sh,Xm),hh("gggg",sh,Xm),hh("GGGGG",ah,Jm),hh("ggggg",ah,Jm),bh(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=vh(e)}),bh(["gg","GG"],function(e,t,r,n){t[n]=lm.parseTwoDigitYear(e)}),zm("Q",0,"Qo","quarter"),hh("Q",Km),yh("Q",function(e,t){t[1]=3*(vh(e)-1)}),zm("D",["DD",2],"Do","date"),hh("D",eh,uh),hh("DD",eh,Qm),hh("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),yh(["D","DD"],2),yh("Do",function(e,t){t[2]=vh(e.match(eh)[0])});var yp=_h("Date",!0);zm("DDD",["DDDD",3],"DDDo","dayOfYear"),hh("DDD",nh),hh("DDDD",Zm),yh(["DDD","DDDD"],function(e,t,r){r._dayOfYear=vh(e)}),zm("m",["mm",2],0,"minute"),hh("m",eh,mh),hh("mm",eh,Qm),yh(["m","mm"],4);var bp=_h("Minutes",!1);zm("s",["ss",2],0,"second"),hh("s",eh,mh),hh("ss",eh,Qm),yh(["s","ss"],5);var wp,jp,Np=_h("Seconds",!1);for(zm("S",0,0,function(){return~~(this.millisecond()/100)}),zm(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),zm(0,["SSS",3],0,"millisecond"),zm(0,["SSSS",4],0,function(){return 10*this.millisecond()}),zm(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),zm(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),zm(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),zm(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),zm(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),hh("S",nh,Km),hh("SS",nh,Qm),hh("SSS",nh,Zm),wp="SSSS";wp.length<=9;wp+="S")hh(wp,ih);function kp(e,t){t[6]=vh(1e3*("0."+e))}for(wp="S";wp.length<=9;wp+="S")yh(wp,kp);jp=_h("Milliseconds",!1),zm("z",0,0,"zoneAbbr"),zm("zz",0,0,"zoneName");var Sp=Sm.prototype;function _p(e){return e}Sp.add=Jf,Sp.calendar=function(e,t){1===arguments.length&&(arguments[0]?rp(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,r=dm(e)&&!mm(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)n=n||um(e,s[t]);return r&&n}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Of(),n=Uf(r,this).startOf("day"),s=lm.calendarFormat(this,n)||"sameElse",a=t&&(Om(t[s])?t[s].call(this,r):t[s]);return this.format(a||this.localeData().calendar(s,this,Of(r)))},Sp.clone=function(){return new Sm(this)},Sp.diff=function(e,t,r){var n,s,a;if(!this.isValid())return NaN;if(!(n=Uf(e,this)).isValid())return NaN;switch(s=6e4*(n.utcOffset()-this.utcOffset()),t=Hm(t)){case"year":a=np(this,n)/12;break;case"month":a=np(this,n);break;case"quarter":a=np(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-s)/864e5;break;case"week":a=(this-n-s)/6048e5;break;default:a=this-n}return r?a:gh(a)},Sp.endOf=function(e){var t,r;if(void 0===(e=Hm(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?hp:mp,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=cp-up(t+(this._isUTC?0:this.utcOffset()*lp),cp)-1;break;case"minute":t=this._d.valueOf(),t+=lp-up(t,lp)-1;break;case"second":t=this._d.valueOf(),t+=op-up(t,op)-1}return this._d.setTime(t),lm.updateOffset(this,!0),this},Sp.format=function(e){e||(e=this.isUtc()?lm.defaultFormatUtc:lm.defaultFormat);var t=Bm(this,e);return this.localeData().postformat(t)},Sp.from=function(e,t){return this.isValid()&&(_m(e)&&e.isValid()||Of(e).isValid())?Gf({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sp.fromNow=function(e){return this.from(Of(),e)},Sp.to=function(e,t){return this.isValid()&&(_m(e)&&e.isValid()||Of(e).isValid())?Gf({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sp.toNow=function(e){return this.to(Of(),e)},Sp.get=function(e){return Om(this[e=Hm(e)])?this[e]():this},Sp.invalidAt=function(){return ym(this).overflow},Sp.isAfter=function(e,t){var r=_m(e)?e:Of(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Hm(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},Sp.isBefore=function(e,t){var r=_m(e)?e:Of(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Hm(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},Sp.isBetween=function(e,t,r,n){var s=_m(e)?e:Of(e),a=_m(t)?t:Of(t);return!!(this.isValid()&&s.isValid()&&a.isValid())&&("("===(n=n||"()")[0]?this.isAfter(s,r):!this.isBefore(s,r))&&(")"===n[1]?this.isBefore(a,r):!this.isAfter(a,r))},Sp.isSame=function(e,t){var r,n=_m(e)?e:Of(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Hm(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},Sp.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Sp.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Sp.isValid=function(){return bm(this)},Sp.lang=ap,Sp.locale=sp,Sp.localeData=ip,Sp.max=Af,Sp.min=Pf,Sp.parsingFlags=function(){return vm({},ym(this))},Sp.set=function(e,t){if("object"==typeof e){var r,n=function(e){var t,r=[];for(t in e)um(e,t)&&r.push({unit:t,priority:Gm[t]});return r.sort(function(e,t){return e.priority-t.priority}),r}(e=Vm(e)),s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(Om(this[e=Hm(e)]))return this[e](t);return this},Sp.startOf=function(e){var t,r;if(void 0===(e=Hm(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?hp:mp,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=up(t+(this._isUTC?0:this.utcOffset()*lp),cp);break;case"minute":t=this._d.valueOf(),t-=up(t,lp);break;case"second":t=this._d.valueOf(),t-=up(t,op)}return this._d.setTime(t),lm.updateOffset(this,!0),this},Sp.subtract=ep,Sp.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Sp.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Sp.toDate=function(){return new Date(this.valueOf())},Sp.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Bm(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Om(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Bm(r,"Z")):Bm(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Sp.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n="moment",s="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=s+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Sp[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Sp.toJSON=function(){return this.isValid()?this.toISOString():null},Sp.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Sp.unix=function(){return Math.floor(this.valueOf()/1e3)},Sp.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Sp.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Sp.eraName=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""},Sp.eraNarrow=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""},Sp.eraAbbr=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""},Sp.eraYear=function(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-lm(s[e].since).year())*r+s[e].offset;return this.year()},Sp.year=Sh,Sp.isLeapYear=function(){return jh(this.year())},Sp.weekYear=function(e){return vp.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},Sp.isoWeekYear=function(e){return vp.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Sp.quarter=Sp.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Sp.month=Fh,Sp.daysInMonth=function(){return Mh(this.year(),this.month())},Sp.week=Sp.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Sp.isoWeek=Sp.isoWeeks=function(e){var t=Uh(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Sp.weeksInYear=function(){var e=this.localeData()._week;return Wh(this.year(),e.dow,e.doy)},Sp.weeksInWeekYear=function(){var e=this.localeData()._week;return Wh(this.weekYear(),e.dow,e.doy)},Sp.isoWeeksInYear=function(){return Wh(this.year(),1,4)},Sp.isoWeeksInISOWeekYear=function(){return Wh(this.isoWeekYear(),1,4)},Sp.date=yp,Sp.day=Sp.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=Dh(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Sp.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Sp.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Sp.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Sp.hour=Sp.hours=sf,Sp.minute=Sp.minutes=bp,Sp.second=Sp.seconds=Np,Sp.millisecond=Sp.milliseconds=jp,Sp.utcOffset=function(e,t,r){var n,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Bf(ch,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=Wf(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==e&&(!t||this._changeInProgress?Xf(this,Gf(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,lm.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Wf(this)},Sp.utc=function(e){return this.utcOffset(0,e)},Sp.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wf(this),"m")),this},Sp.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bf(lh,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Sp.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Of(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Sp.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Sp.isLocal=function(){return!!this.isValid()&&!this._isUTC},Sp.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Sp.isUtc=Hf,Sp.isUTC=Hf,Sp.zoneAbbr=function(){return this._isUTC?"UTC":""},Sp.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Sp.dates=Em("dates accessor is deprecated. Use date instead.",yp),Sp.months=Em("months accessor is deprecated. Use month instead",Fh),Sp.years=Em("years accessor is deprecated. Use year instead",Sh),Sp.zone=Em("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Sp.isDSTShifted=Em("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!hm(this._isDSTShifted))return this._isDSTShifted;var e,t={};return km(t,this),(t=Tf(t))._a?(e=t._isUTC?xm(t._a):Of(t._a),this._isDSTShifted=this.isValid()&&function(e,t){var r,n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(r=0;r<n;r++)vh(e[r])!==vh(t[r])&&a++;return a+s}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Dp=Am.prototype;function Ep(e,t,r,n){var s=ff(),a=xm().set(n,t);return s[r](a,e)}function Mp(e,t,r){if(fm(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ep(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Ep(e,n,r,"month");return s}function Tp(e,t,r,n){"boolean"==typeof e?(fm(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,fm(t)&&(r=t,t=void 0),t=t||"");var s,a=ff(),i=e?a._week.dow:0,o=[];if(null!=r)return Ep(t,(r+i)%7,n,"day");for(s=0;s<7;s++)o[s]=Ep(t,(s+i)%7,n,"day");return o}Dp.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Om(n)?n.call(t,r):n},Dp.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Im).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},Dp.invalidDate=function(){return this._invalidDate},Dp.ordinal=function(e){return this._ordinal.replace("%d",e)},Dp.preparse=_p,Dp.postformat=_p,Dp.relativeTime=function(e,t,r,n){var s=this._relativeTime[r];return Om(s)?s(e,t,r,n):s.replace(/%d/i,e)},Dp.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return Om(r)?r(t):r.replace(/%s/i,t)},Dp.set=function(e){var t,r;for(r in e)um(e,r)&&(Om(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Dp.eras=function(e,t){var r,n,s,a=this._eras||ff("en")._eras;for(r=0,n=a.length;r<n;++r)switch("string"==typeof a[r].since&&(s=lm(a[r].since).startOf("day"),a[r].since=s.valueOf()),typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":s=lm(a[r].until).startOf("day").valueOf(),a[r].until=s.valueOf()}return a},Dp.erasParse=function(e,t,r){var n,s,a,i,o,l=this.eras();for(e=e.toUpperCase(),n=0,s=l.length;n<s;++n)if(a=l[n].name.toUpperCase(),i=l[n].abbr.toUpperCase(),o=l[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(i===e)return l[n];break;case"NNNN":if(a===e)return l[n];break;case"NNNNN":if(o===e)return l[n]}else if([a,i,o].indexOf(e)>=0)return l[n]},Dp.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?lm(e.since).year():lm(e.since).year()+(t-e.offset)*r},Dp.erasAbbrRegex=function(e){return um(this,"_erasAbbrRegex")||pp.call(this),e?this._erasAbbrRegex:this._erasRegex},Dp.erasNameRegex=function(e){return um(this,"_erasNameRegex")||pp.call(this),e?this._erasNameRegex:this._erasRegex},Dp.erasNarrowRegex=function(e){return um(this,"_erasNarrowRegex")||pp.call(this),e?this._erasNarrowRegex:this._erasRegex},Dp.months=function(e,t){return e?cm(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Oh).test(t)?"format":"standalone"][e.month()]:cm(this._months)?this._months:this._months.standalone},Dp.monthsShort=function(e,t){return e?cm(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Oh.test(t)?"format":"standalone"][e.month()]:cm(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Dp.monthsParse=function(e,t,r){var n,s,a;if(this._monthsParseExact)return Rh.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=xm([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},Dp.monthsRegex=function(e){return this._monthsParseExact?(um(this,"_monthsRegex")||Lh.call(this),e?this._monthsStrictRegex:this._monthsRegex):(um(this,"_monthsRegex")||(this._monthsRegex=Ah),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Dp.monthsShortRegex=function(e){return this._monthsParseExact?(um(this,"_monthsRegex")||Lh.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(um(this,"_monthsShortRegex")||(this._monthsShortRegex=Ph),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Dp.week=function(e){return Uh(e,this._week.dow,this._week.doy).week},Dp.firstDayOfYear=function(){return this._week.doy},Dp.firstDayOfWeek=function(){return this._week.dow},Dp.weekdays=function(e,t){var r=cm(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Hh(r,this._week.dow):e?r[e.day()]:r},Dp.weekdaysMin=function(e){return!0===e?Hh(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Dp.weekdaysShort=function(e){return!0===e?Hh(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Dp.weekdaysParse=function(e,t,r){var n,s,a;if(this._weekdaysParseExact)return Xh.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=xm([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},Dp.weekdaysRegex=function(e){return this._weekdaysParseExact?(um(this,"_weekdaysRegex")||Jh.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(um(this,"_weekdaysRegex")||(this._weekdaysRegex=Kh),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Dp.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(um(this,"_weekdaysRegex")||Jh.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(um(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qh),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Dp.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(um(this,"_weekdaysRegex")||Jh.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(um(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Zh),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Dp.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Dp.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},mf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===vh(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),lm.lang=Em("moment.lang is deprecated. Use moment.locale instead.",mf),lm.langData=Em("moment.langData is deprecated. Use moment.localeData instead.",ff);var Cp=Math.abs;function Op(e,t,r,n){var s=Gf(t,r);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function Pp(e){return e<0?Math.floor(e):Math.ceil(e)}function Ap(e){return 4800*e/146097}function Rp(e){return 146097*e/4800}function Ip(e){return function(){return this.as(e)}}var Fp=Ip("ms"),Lp=Ip("s"),Yp=Ip("m"),zp=Ip("h"),qp=Ip("d"),Bp=Ip("w"),Up=Ip("M"),Wp=Ip("Q"),Hp=Ip("y"),Vp=Fp;function $p(e){return function(){return this.isValid()?this._data[e]:NaN}}var Gp=$p("milliseconds"),Kp=$p("seconds"),Qp=$p("minutes"),Zp=$p("hours"),Xp=$p("days"),Jp=$p("months"),eg=$p("years"),tg=Math.round,rg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ng(e,t,r,n,s){return s.relativeTime(t||1,!!r,e,n)}var sg=Math.abs;function ag(e){return(e>0)-(e<0)||+e}function ig(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,s,a,i,o,l=sg(this._milliseconds)/1e3,c=sg(this._days),d=sg(this._months),u=this.asSeconds();return u?(e=gh(l/60),t=gh(e/60),l%=60,e%=60,r=gh(d/12),d%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",s=u<0?"-":"",a=ag(this._months)!==ag(u)?"-":"",i=ag(this._days)!==ag(u)?"-":"",o=ag(this._milliseconds)!==ag(u)?"-":"",s+"P"+(r?a+r+"Y":"")+(d?a+d+"M":"")+(c?i+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+n+"S":"")):"P0D"}var og=Ff.prototype;og.isValid=function(){return this._isValid},og.abs=function(){var e=this._data;return this._milliseconds=Cp(this._milliseconds),this._days=Cp(this._days),this._months=Cp(this._months),e.milliseconds=Cp(e.milliseconds),e.seconds=Cp(e.seconds),e.minutes=Cp(e.minutes),e.hours=Cp(e.hours),e.months=Cp(e.months),e.years=Cp(e.years),this},og.add=function(e,t){return Op(this,e,t,1)},og.subtract=function(e,t){return Op(this,e,t,-1)},og.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=Hm(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Ap(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Rp(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},og.asMilliseconds=Fp,og.asSeconds=Lp,og.asMinutes=Yp,og.asHours=zp,og.asDays=qp,og.asWeeks=Bp,og.asMonths=Up,og.asQuarters=Wp,og.asYears=Hp,og.valueOf=Vp,og._bubble=function(){var e,t,r,n,s,a=this._milliseconds,i=this._days,o=this._months,l=this._data;return a>=0&&i>=0&&o>=0||a<=0&&i<=0&&o<=0||(a+=864e5*Pp(Rp(o)+i),i=0,o=0),l.milliseconds=a%1e3,e=gh(a/1e3),l.seconds=e%60,t=gh(e/60),l.minutes=t%60,r=gh(t/60),l.hours=r%24,i+=gh(r/24),o+=s=gh(Ap(i)),i-=Pp(Rp(s)),n=gh(o/12),o%=12,l.days=i,l.months=o,l.years=n,this},og.clone=function(){return Gf(this)},og.get=function(e){return e=Hm(e),this.isValid()?this[e+"s"]():NaN},og.milliseconds=Gp,og.seconds=Kp,og.minutes=Qp,og.hours=Zp,og.days=Xp,og.weeks=function(){return gh(this.days()/7)},og.months=Jp,og.years=eg,og.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,s=!1,a=rg;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(s=e),"object"==typeof t&&(a=Object.assign({},rg,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),n=function(e,t,r,n){var s=Gf(e).abs(),a=tg(s.as("s")),i=tg(s.as("m")),o=tg(s.as("h")),l=tg(s.as("d")),c=tg(s.as("M")),d=tg(s.as("w")),u=tg(s.as("y")),m=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||i<=1&&["m"]||i<r.m&&["mm",i]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return null!=r.w&&(m=m||d<=1&&["w"]||d<r.w&&["ww",d]),(m=m||c<=1&&["M"]||c<r.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,m[3]=+e>0,m[4]=n,ng.apply(null,m)}(this,!s,a,r=this.localeData()),s&&(n=r.pastFuture(+this,n)),r.postformat(n)},og.toISOString=ig,og.toString=ig,og.toJSON=ig,og.locale=sp,og.localeData=ip,og.toIsoString=Em("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ig),og.lang=ap,zm("X",0,0,"unix"),zm("x",0,0,"valueOf"),hh("x",oh),hh("X",/[+-]?\d+(\.\d{1,3})?/),yh("X",function(e,t,r){r._d=new Date(1e3*parseFloat(e))}),yh("x",function(e,t,r){r._d=new Date(vh(e))}),
//! moment.js
lm.version="2.30.1",rm=Of,lm.fn=Sp,lm.min=function(){return Rf("isBefore",[].slice.call(arguments,0))},lm.max=function(){return Rf("isAfter",[].slice.call(arguments,0))},lm.now=function(){return Date.now?Date.now():+new Date},lm.utc=xm,lm.unix=function(e){return Of(1e3*e)},lm.months=function(e,t){return Mp(e,t,"months")},lm.isDate=pm,lm.locale=mf,lm.invalid=wm,lm.duration=Gf,lm.isMoment=_m,lm.weekdays=function(e,t,r){return Tp(e,t,r,"weekdays")},lm.parseZone=function(){return Of.apply(null,arguments).parseZone()},lm.localeData=ff,lm.isDuration=Lf,lm.monthsShort=function(e,t){return Mp(e,t,"monthsShort")},lm.weekdaysMin=function(e,t,r){return Tp(e,t,r,"weekdaysMin")},lm.defineLocale=hf,lm.updateLocale=function(e,t){if(null!=t){var r,n,s=af;null!=of[e]&&null!=of[e].parentLocale?of[e].set(Pm(of[e]._config,t)):(null!=(n=uf(e))&&(s=n._config),t=Pm(s,t),null==n&&(t.abbr=e),(r=new Am(t)).parentLocale=of[e],of[e]=r),mf(e)}else null!=of[e]&&(null!=of[e].parentLocale?(of[e]=of[e].parentLocale,e===mf()&&mf(e)):null!=of[e]&&delete of[e]);return of[e]},lm.locales=function(){return Mm(of)},lm.weekdaysShort=function(e,t,r){return Tp(e,t,r,"weekdaysShort")},lm.normalizeUnits=Hm,lm.relativeTimeRounding=function(e){return void 0===e?tg:"function"==typeof e&&(tg=e,!0)},lm.relativeTimeThreshold=function(e,t){return void 0!==rg[e]&&(void 0===t?rg[e]:(rg[e]=t,"s"===e&&(rg.ss=t-1),!0))},lm.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},lm.prototype=Sp,lm.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const lg=[{id:"event-001",title:"Introduction to Quantitative Finance",date:"2025-02-15",time:"14:00",endTime:"17:00",location:"Frankfurt School, Room 201",description:"Learn the fundamentals of quantitative finance, risk modeling, and algorithmic trading strategies",type:"workshop",organizer:"FS Quant & Data Science",registrationLink:"https://fs-students.de/events/quant-finance",capacity:30,tags:["quantitative-finance","python","beginner-friendly"]},{id:"event-002",title:"Data Science Career Night with McKinsey",date:"2025-02-20",time:"18:00",endTime:"20:30",location:"Frankfurt School, Audimax",description:"Join us for an evening with McKinsey data scientists discussing career opportunities and real-world projects",type:"speaker",organizer:"FS Quant & Data Science",capacity:100,tags:["career","networking","mckinsey"]},{id:"event-003",title:"Hack the DAX - Trading Competition",date:"2025-03-01",time:"09:00",endTime:"18:00",location:"Frankfurt School, Trading Lab",description:"Annual trading competition - build and test your algorithmic trading strategies on real market data",type:"competition",organizer:"FS Quant & Data Science",registrationLink:"https://fs-students.de/events/hack-the-dax",capacity:50,tags:["competition","trading","prizes"]},{id:"event-004",title:"Machine Learning Study Group",date:"2025-02-25",time:"16:00",endTime:"18:00",location:"Frankfurt School, Library Study Room 3",description:"Weekly study group for machine learning enthusiasts. This week: Neural Networks and Deep Learning",type:"meetup",organizer:"FS Quant & Data Science",capacity:20,tags:["study-group","machine-learning","deep-learning"]},{id:"event-005",title:"Kickoff Meeting - FS Quant & Data Science Initiative",date:"2025-09-13",time:"20:15",endTime:"21:15",location:"Frankfurt School Campus",description:"Join us for the kickoff meeting of the initiative. Meet the team, learn about divisions, and how to get involved.",type:"meetup",organizer:"FS Quant & Data Science"}],cg=[{id:"past-001",title:"Data Science Career Panel",date:"2024-01-10",time:"18:00",endTime:"20:00",location:"Frankfurt School, Audimax",description:"Industry professionals discuss career paths in data science",type:"speaker",organizer:"FS Quant & Data Science",tags:["career","networking"]},{id:"past-002",title:"Quantitative Trading Strategies Workshop",date:"2024-01-25",time:"15:00",endTime:"18:00",location:"Frankfurt School, Trading Lab",description:"Learn about algorithmic trading and backtesting strategies",type:"workshop",organizer:"FS Quant & Data Science",tags:["trading","finance","python"]}],dg=T,ug=M,mg=de.forwardRef(({className:e,...t},r)=>l.jsx(k,{ref:r,className:Na("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mg.displayName=k.displayName;const hg=de.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(ug,{children:[l.jsx(mg,{}),l.jsxs(S,{ref:n,className:Na("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Zr,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hg.displayName=S.displayName;const fg=({className:e,...t})=>l.jsx("div",{className:Na("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fg.displayName="DialogHeader";const pg=de.forwardRef(({className:e,...t},r)=>l.jsx(D,{ref:r,className:Na("text-lg font-semibold leading-none tracking-tight",e),...t}));pg.displayName=D.displayName,de.forwardRef(({className:e,...t},r)=>l.jsx(E,{ref:r,className:Na("text-sm text-muted-foreground",e),...t})).displayName=E.displayName;const gg=function(e){function t(t,r){var n,s,a=e(t).local(),i=e(r).local();if(!e.tz)return a.toDate().getTimezoneOffset()-i.toDate().getTimezoneOffset();var o=null!==(n=null==a||null===(s=a._z)||void 0===s?void 0:s.name)&&void 0!==n?n:e.tz.guess();return e.tz.zone(o).utcOffset(+a)-e.tz.zone(o).utcOffset(+i)}function r(t,r,n){var s=om(n);return[s?e(t).startOf(s):e(t),s?e(r).startOf(s):e(r),s]}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=om(arguments.length>1?arguments[1]:void 0);return r?e(t).startOf(r).toDate():e(t).toDate()}function s(e,t,n){var s=Ni(r(e,t,n),3),a=s[0],i=s[1],o=s[2];return a.isSame(i,o)}function a(e,t,n){var s=Ni(r(e,t,n),3),a=s[0],i=s[1],o=s[2];return a.isSameOrBefore(i,o)}function i(t,r,n){var s=om(n);return e(t).add(r,s).toDate()}function o(t,r){var n=om(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),s=e(t);return e(r).diff(s,n)}function l(t){return e(t).startOf("month").startOf("week").toDate()}function c(t){return e(t).endOf("month").endOf("week").toDate()}function d(t,r){var n=e(t),s=e(r);return e.duration(s.diff(n)).days()}return new Td({formats:im,firstOfWeek:function(t){var r=t?e.localeData(t):e.localeData();return r?r.firstDayOfWeek():0},firstVisibleDay:l,lastVisibleDay:c,visibleDays:function(e){for(var t=l(e),r=c(e),n=[];a(t,r);)n.push(t),t=i(t,1,"d");return n},format:function(t,r,n){return(s=e(t),a=n,a?s.locale(a):s).format(r);var s,a},lt:function(e,t,n){var s=Ni(r(e,t,n),3),a=s[0],i=s[1],o=s[2];return a.isBefore(i,o)},lte:a,gt:function(e,t,n){var s=Ni(r(e,t,n),3),a=s[0],i=s[1],o=s[2];return a.isAfter(i,o)},gte:function(e,t,n){var s=Ni(r(e,t,n),3),a=s[0],i=s[1],o=s[2];return a.isSameOrBefore(i,o)},eq:s,neq:function(e,t,r){return!s(e,t,r)},merge:function(t,r){if(!t&&!r)return null;var n=e(r).format("HH:mm:ss"),s=e(t).startOf("day").format("MM/DD/YYYY");return e("".concat(s," ").concat(n),"MM/DD/YYYY HH:mm:ss").toDate()},inRange:function(t,r,n){var s=om(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"day"),a=e(t),i=e(r),o=e(n);return a.isBetween(i,o,s,"[]")},startOf:n,endOf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=om(arguments.length>1?arguments[1]:void 0);return r?e(t).endOf(r).toDate():e(t).toDate()},range:function(t,r){for(var n=om(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),s=e(t).toDate(),o=[];a(s,r);)o.push(s),s=i(s,1,n);return o},add:i,diff:o,ceil:function(e,t){var r=om(t),a=n(e,r);return s(a,e)?a:i(a,1,r)},min:function(t,r){var n=e(t),s=e(r);return e.min(n,s).toDate()},max:function(t,r){var n=e(t),s=e(r);return e.max(n,s).toDate()},minutes:function(t){return e(t).minutes()},getSlotDate:function(t,r,n){return e(t).startOf("day").minute(r+n).toDate()},getTimezoneOffset:function(t){return e(t).toDate().getTimezoneOffset()},getDstOffset:t,getTotalMin:function(e,t){return o(e,t,"minutes")},getMinutesFromMidnight:function(r){var n=e(r).startOf("day");return e(r).diff(n,"minutes")+function(r){return t(e(r).startOf("day"),r)}(r)},continuesPrior:function(t,r){var n=e(t),s=e(r);return n.isBefore(s,"day")},continuesAfter:function(t,r,n){var s=e(r),a=e(n);return s.isSameOrAfter(a,"minutes")},sortEvents:function(e){var t=e.evtA,r=t.start,s=t.end,a=t.allDay,i=e.evtB,o=i.start,l=i.end,c=i.allDay,u=+n(r,"day")-+n(o,"day"),m=d(r,s),h=d(o,l);return u||h-m||!!c-!!a||+r-+o||+s-+l},inEventRange:function(t){var r=t.event,n=r.start,s=r.end,a=t.range,i=a.start,o=a.end,l=e(n).startOf("day"),c=e(s),d=e(i),u=e(o),m=l.isSameOrBefore(u,"day"),h=l.isSame(c,"minutes")?c.isSameOrAfter(d,"minutes"):c.isAfter(d,"minutes");return m&&h},isSameDate:function(t,r){var n=e(t),s=e(r);return n.isSame(s,"day")},daySpan:d,browserTZOffset:function(){var t=new Date,r=/-/.test(t.toString())?"-":"",n=t.getTimezoneOffset(),s=Number("".concat(r).concat(Math.abs(n)));return e().utcOffset()>s?1:0}})}
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(lm),vg=()=>{const[e,t]=de.useState(null),[r,n]=de.useState("month"),s=function(e){return e.map(e=>{const t=new Date(e.date),r=new Date(e.date);if(e.time){const[r,n]=e.time.split(":");t.setHours(parseInt(r),parseInt(n))}if(e.endTime){const[t,n]=e.endTime.split(":");r.setHours(parseInt(t),parseInt(n))}else e.time&&r.setTime(t.getTime()+72e5);return{id:e.id,title:e.title,start:t,end:r,location:e.location,description:e.description,type:e.type,organizer:e.organizer,allDay:!e.time}})}([...lg,...cg]),a=de.useCallback(e=>{t(e)},[]),i=e=>{const t=function(e){const t=new Date(e.date),r=new Date(e.date);if(e.time){const[r,n]=e.time.split(":");t.setHours(parseInt(r),parseInt(n))}if(e.endTime){const[t,n]=e.endTime.split(":");r.setHours(parseInt(t),parseInt(n))}else e.time&&r.setTime(t.getTime()+72e5);const n=e=>e.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"");return`BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//FS Quant & Data Science//Events//EN\nBEGIN:VEVENT\nUID:${e.id}@fs-quantds.com\nDTSTAMP:${n(new Date)}\nDTSTART:${n(t)}\nDTEND:${n(r)}\nSUMMARY:${e.title}\nDESCRIPTION:${e.description}\nLOCATION:${e.location}\n${e.organizer?`ORGANIZER:CN=${e.organizer}`:""}\nEND:VEVENT\nEND:VCALENDAR`}(e),r=new Blob([t],{type:"text/calendar;charset=utf-8"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.setAttribute("download",`${e.title.replace(/\s+/g,"-")}.ics`),document.body.appendChild(s),s.click(),document.body.removeChild(s)};return l.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden shadow-md",children:[l.jsx(sm,{localizer:gg,events:s,startAccessor:"start",endAccessor:"end",style:{height:600},views:["month","week","day","agenda"],defaultView:id.MONTH,onSelectEvent:a,eventPropGetter:e=>{let t={backgroundColor:"#f8f9fa",borderRadius:"4px",opacity:.9,color:"#3c4043",border:"0",display:"block",fontWeight:"500"};switch(e.type){case"workshop":t.backgroundColor="#0B3D91",t.color="#ffffff";break;case"speaker":t.backgroundColor="#00A6ED",t.color="#ffffff";break;case"competition":t.backgroundColor="#FFC107",t.color="#0B3D91";break;case"meetup":t.backgroundColor="#28A745",t.color="#ffffff";break;default:t.backgroundColor="#6c757d",t.color="#ffffff"}return{style:t}},components:{toolbar:e=>l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center p-4 mb-4 bg-neutral-50",children:[l.jsx("div",{className:"mb-4 md:mb-0",children:l.jsx("h2",{className:"text-xl font-semibold text-neutral-800",children:e.label})}),l.jsxs("div",{className:"flex space-x-2 mb-4 md:mb-0",children:[l.jsxs(si,{variant:"outline",className:"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{e.onNavigate("PREV")},children:[l.jsx("i",{className:"fas fa-chevron-left mr-1"})," Prev"]}),l.jsx(si,{variant:"outline",className:"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{e.onNavigate("TODAY")},children:"Today"}),l.jsxs(si,{variant:"outline",className:"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{e.onNavigate("NEXT")},children:["Next ",l.jsx("i",{className:"fas fa-chevron-right ml-1"})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(si,{variant:"outline",className:"month"===r?"bg-[#0B3D91] text-white border-[#0B3D91]":"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{n("month"),e.onView("month")},children:"Month"}),l.jsx(si,{variant:"outline",className:"week"===r?"bg-[#0B3D91] text-white border-[#0B3D91]":"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{n("week"),e.onView("week")},children:"Week"}),l.jsx(si,{variant:"outline",className:"day"===r?"bg-[#0B3D91] text-white border-[#0B3D91]":"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{n("day"),e.onView("day")},children:"Day"}),l.jsx(si,{variant:"outline",className:"agenda"===r?"bg-[#0B3D91] text-white border-[#0B3D91]":"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91] bg-white",onClick:()=>{n("agenda"),e.onView("agenda")},children:"Agenda"})]})]})},className:"text-neutral-700"}),e&&l.jsx(dg,{open:!!e,onOpenChange:e=>!e&&t(null),children:l.jsxs(hg,{className:"bg-white text-neutral-700 border-neutral-200",children:[l.jsx(fg,{children:l.jsx(pg,{className:"text-lg font-semibold text-neutral-900",children:e.title})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${(o=e.type,{workshop:"bg-[#0B3D91] text-white",speaker:"bg-blue-500 text-white",competition:"bg-[#FFC107] text-[#0B3D91]",meetup:"bg-green-500 text-white",conference:"bg-indigo-600 text-white"}[o]||"bg-gray-500 text-white").split(" ")[0]}`}),l.jsx("span",{className:"capitalize",children:e.type})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("i",{className:"fas fa-calendar-alt text-neutral-400 mt-1 mr-2 w-5"}),l.jsxs("div",{children:[l.jsx("div",{children:lm(e.start).format("dddd, MMMM D, YYYY")}),!e.allDay&&l.jsxs("div",{className:"text-neutral-400",children:[lm(e.start).format("h:mm A")," - ",lm(e.end).format("h:mm A")]})]})]}),e.location&&l.jsxs("div",{className:"flex items-start",children:[l.jsx("i",{className:"fas fa-map-marker-alt text-neutral-400 mt-1 mr-2 w-5"}),l.jsx("div",{children:e.location})]}),e.description&&l.jsxs("div",{className:"flex items-start",children:[l.jsx("i",{className:"fas fa-align-left text-neutral-400 mt-1 mr-2 w-5"}),l.jsx("div",{children:e.description})]}),e.organizer&&l.jsxs("div",{className:"flex items-start",children:[l.jsx("i",{className:"fas fa-user text-neutral-400 mt-1 mr-2 w-5"}),l.jsx("div",{children:e.organizer})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 pt-2",children:[l.jsxs(si,{variant:"outline",className:"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91]",onClick:()=>i(e),children:[l.jsx("i",{className:"fas fa-calendar-plus mr-2"})," Add to Calendar (iCal)"]}),l.jsxs(si,{variant:"outline",className:"text-neutral-600 hover:text-[#0B3D91] border-neutral-300 hover:border-[#0B3D91]",onClick:()=>window.open(function(e){const t=new Date(e.date),r=new Date(e.date);if(e.time){const[r,n]=e.time.split(":");t.setHours(parseInt(r),parseInt(n))}if(e.endTime){const[t,n]=e.endTime.split(":");r.setHours(parseInt(t),parseInt(n))}else e.time&&r.setTime(t.getTime()+72e5);const n=e=>e.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"");return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:e.title,details:e.description,location:e.location,dates:`${n(t)}/${n(r)}`}).toString()}`}(e),"_blank"),children:[l.jsx("i",{className:"fab fa-google mr-2"})," Add to Google Calendar"]})]})]})]})})]});var o},xg=()=>{const{t:e}=Ha(),t=function(){const e=new Date;return e.setHours(0,0,0,0),lg.filter(t=>new Date(t.date)>=e).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())}();return l.jsx("section",{id:"events",className:"py-16 bg-white min-h-screen",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-inter font-bold text-gray-800 mb-4",children:e("eventsTitle")}),l.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:e("eventsSubtitle")})]}),l.jsxs("div",{className:"mb-12 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[l.jsx("h3",{className:"text-xl font-inter font-semibold mb-4 text-gray-800",children:e("events.calendar")}),l.jsx(vg,{}),l.jsx("div",{className:"mt-3 text-right text-sm",children:l.jsx("span",{className:"text-gray-500 italic",children:e("events.newEventsComingSoon")})})]}),t.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:t.map(e=>l.jsx(ai,{event:e},e.id))}):l.jsxs("div",{className:"text-center py-12 mb-16 bg-blue-50 rounded-lg",children:[l.jsx("i",{className:"fas fa-calendar-check text-4xl text-blue-400 mb-4"}),l.jsx("p",{className:"text-gray-600",children:e("noUpcomingEvents")})]}),l.jsxs("div",{className:"mt-16",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h3",{className:"font-inter text-2xl font-semibold mb-4 text-gray-800",children:e("events.pastCollaborations")}),l.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto",children:e("events.pastCollaborationsDescription")})]}),l.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg p-8 border border-gray-200",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[{name:"DWS Group",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/DWS_Group_202x_logo.svg/250px-DWS_Group_202x_logo.svg.png"},{name:"Tableau",logo:"https://logos-world.net/wp-content/uploads/2021/10/Tableau-Logo.png"},{name:"Deloitte",logo:"https://upload.wikimedia.org/wikipedia/commons/e/ed/Logo_of_Deloitte.svg"},{name:"Google",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/250px-Google_2015_logo.svg.png"},{name:"McKinsey",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNN12aWh7ruc5rs0kAhGfaUkOyW0tuypaPLg&s"},{name:"Statworx",logo:"https://statistik-und-beratung.de/wp-content/uploads/2021/04/logo-statworx-data-science-dark.png"},{name:"IKEA",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Ikea_logo.svg/250px-Ikea_logo.svg.png"},{name:"BCG",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Boston_Consulting_Group_2020_logo.svg/250px-Boston_Consulting_Group_2020_logo.svg.png"},{name:"EY",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/EY_logo_2019.svg/200px-EY_logo_2019.svg.png"},{name:"KPMG",logo:"https://upload.wikimedia.org/wikipedia/commons/d/db/KPMG_blue_logo.svg"},{name:"Commerzbank",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Commerzbank_%282009%29.svg/250px-Commerzbank_%282009%29.svg.png"}].map((e,t)=>l.jsx("div",{className:"flex items-center justify-center p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsx("img",{src:e.logo,alt:e.name,className:"max-h-12 max-w-full object-contain filter grayscale hover:grayscale-0 transition-all",onError:t=>{const r=t.target;r.style.display="none";const n=r.parentElement;n&&(n.innerHTML=`<div class="text-gray-600 font-semibold">${e.name}</div>`)}})},t))})})]})]})})};function yg(...e){return ge(ve(e))}function bg({className:e,...t}){return l.jsx(C,{"data-slot":"tabs",className:yg("flex flex-col gap-2",e),...t})}function wg({className:e,...t}){return l.jsx(O,{"data-slot":"tabs-list",className:yg("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function jg({className:e,...t}){return l.jsx(P,{"data-slot":"tabs-trigger",className:yg("data-[state=active]:bg-[var(--card)] dark:data-[state=active]:text-[var(--foreground)] focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground dark:text-muted-foreground inline-flex h-full flex-1 items-center justify-center gap-1.5 rounded-xl px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Ng({className:e,...t}){return l.jsx(A,{"data-slot":"tabs-content",className:yg("flex-1 outline-none",e),...t})}const kg=ja("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Sg({className:e,variant:t,asChild:r=!1,...n}){const s=r?N:"span";return l.jsx(s,{"data-slot":"badge",className:yg(kg({variant:t}),e),...n})}function _g(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const n=r.reduce((t,{useScope:r,scopeName:n})=>({...t,...r(e)[`__scope${n}`]}),{});return de.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}var Dg="Progress",[Eg,Mg]=function(e,t=[]){let r=[];const n=()=>{const t=r.map(e=>de.createContext(e));return function(r){const n=(null==r?void 0:r[e])||t;return de.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){const s=de.createContext(n),a=r.length;function i(t){const{scope:r,children:n,...i}=t,o=(null==r?void 0:r[e][a])||s,c=de.useMemo(()=>i,Object.values(i));return l.jsx(o.Provider,{value:c,children:n})}return r=[...r,n],i.displayName=t+"Provider",[i,function(r,i){const o=(null==i?void 0:i[e][a])||s,l=de.useContext(o);if(l)return l;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},_g(n,...t)]}(Dg),[Tg,Cg]=Eg(Dg),Og=de.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=Rg,...i}=e;(s||0===s)&&Lg(s);const o=Lg(s)?s:100;null!==n&&Yg(n,o);const c=Yg(n,o)?n:null,d=Fg(c)?a(c,o):void 0;return l.jsx(Tg,{scope:r,value:c,max:o,children:l.jsx(h.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Fg(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Ig(c,o),"data-value":c??void 0,"data-max":o,...i,ref:t})})});Og.displayName=Dg;var Pg="ProgressIndicator",Ag=de.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Cg(Pg,r);return l.jsx(h.div,{"data-state":Ig(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});function Rg(e,t){return`${Math.round(e/t*100)}%`}function Ig(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Fg(e){return"number"==typeof e}function Lg(e){return Fg(e)&&!isNaN(e)&&e>0}function Yg(e,t){return Fg(e)&&!isNaN(e)&&e<=t&&e>=0}Ag.displayName=Pg;var zg=Og,qg=Ag;function Bg({className:e,value:t,...r}){return l.jsx(zg,{"data-slot":"progress",className:yg("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:l.jsx(qg,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function Ug({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:yg("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Wg({className:e,...t}){return l.jsx("div",{"data-slot":"card-header",className:yg("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Hg({className:e,...t}){return l.jsx("h4",{"data-slot":"card-title",className:yg("leading-none",e),...t})}function Vg({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:yg("px-6 [&:last-child]:pb-6",e),...t})}const $g=ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Gg({className:e,variant:t,size:r,asChild:n=!1,...s}){const a=n?N:"button";return l.jsx(a,{"data-slot":"button",className:yg($g({variant:t,size:r,className:e})),...s})}function Kg({...e}){return l.jsx(R,{"data-slot":"select",...e})}function Qg({...e}){return l.jsx(I,{"data-slot":"select-value",...e})}function Zg({className:e,size:t="default",children:r,...n}){return l.jsxs(F,{"data-slot":"select-trigger","data-size":t,className:yg("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,l.jsx(L,{asChild:!0,children:l.jsx(br,{className:"size-4 opacity-50"})})]})}function Xg({className:e,children:t,position:r="popper",...n}){return l.jsx(Y,{children:l.jsxs(z,{"data-slot":"select-content",className:yg("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(ev,{}),l.jsx(q,{className:yg("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),l.jsx(tv,{})]})})}function Jg({className:e,children:t,...r}){return l.jsxs(B,{"data-slot":"select-item",className:yg("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(U,{children:l.jsx(yr,{className:"size-4"})})}),l.jsx(W,{children:t})]})}function ev({className:e,...t}){return l.jsx(H,{"data-slot":"select-scroll-up-button",className:yg("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(wr,{className:"size-4"})})}function tv({className:e,...t}){return l.jsx(V,{"data-slot":"select-scroll-down-button",className:yg("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(br,{className:"size-4"})})}function rv(e){const[t,r]=de.useState(!1),{src:n,alt:s,style:a,className:i,...o}=e;return t?l.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${i??""}`,style:a,children:l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:l.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image",...o,"data-original-url":n})})}):l.jsx("img",{src:n,alt:s,className:i,style:a,...o,onError:()=>{r(!0)}})}const nv=new class{constructor(){this.lastSyncTime=null,this.syncInProgress=!1,this.SYNC_INTERVAL_MINUTES=5}shouldSync(){return!this.lastSyncTime||((new Date).getTime()-this.lastSyncTime.getTime())/6e4>=this.SYNC_INTERVAL_MINUTES}async getCachedOptions(e){let t=qa.from("options_market_data").select("*").order("expiry",{ascending:!0}).order("strike",{ascending:!0});e&&(t=t.eq("ticker",e));const{data:r,error:n}=await t;return n?[]:r||[]}async getCachedStockPrices(){const{data:e,error:t}=await qa.from("stock_prices").select("*");return t?[]:e||[]}async syncOptionsData(){var e;try{const t=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/sync_yahoo_options",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(null==(e=(await qa.auth.getSession()).data.session)?void 0:e.access_token)||""}`}});if(!t.ok)throw new Error(`Sync failed: ${t.statusText}`);const r=await t.json();return this.lastSyncTime=new Date,{success:r.success,message:r.message||`Processed ${r.totalProcessed} options`}}catch(t){return{success:!1,message:"Sync failed"}}}async getOptionsForTicker(e){return this.shouldSync()&&!this.syncInProgress&&this.syncOptionsData().catch(console.error),this.getCachedOptions(e)}async getAllOptionsWithPrices(){return{companies:[]}}async syncStockPrices(){const{data:e,error:t}=await qa.from("stock_prices").select("*").order("last_updated",{ascending:!1})}async initialize(){await this.ensureTablesExist(),setInterval(()=>{this.lastSyncTime=null},60*this.SYNC_INTERVAL_MINUTES*1e3)}async ensureTablesExist(){try{const{error:e}=await qa.from("options_market_data").select("option_symbol").limit(1),{error:t}=await qa.from("stock_prices").select("ticker").limit(1)}catch(e){}}delay(e){return new Promise(t=>setTimeout(t,e))}},sv=[{symbol:"SAP",name:"SAP SE",adr:"SAP"},{symbol:"SIE",name:"Siemens AG",adr:"SIEGY"},{symbol:"ALV",name:"Allianz SE",adr:"AZSEY"},{symbol:"BAS",name:"BASF SE",adr:"BASFY"},{symbol:"BAYN",name:"Bayer AG",adr:"BAYRY"},{symbol:"BMW",name:"BMW AG",adr:"BMWYY"},{symbol:"VOW3",name:"Volkswagen AG",adr:"VWAGY"},{symbol:"DTE",name:"Deutsche Telekom AG",adr:"DTEGY"},{symbol:"MBG",name:"Mercedes-Benz Group AG",adr:"MBGAF"},{symbol:"MUV2",name:"Munich RE",adr:"MURGY"}],av=new class{constructor(){this.STARTING_BALANCE=1e5,this.MAX_TRADES_PER_DAY=100,this.SLIPPAGE_PERCENT=.5}async getUserPortfolio(){const{data:{user:e}}=await qa.auth.getUser();if(!e)return null;const{data:t}=await qa.from("seasons").select("id").eq("status","active").single();if(!t)return null;let{data:r,error:n}=await qa.from("adx_portfolios").select("*").eq("user_id",e.id).eq("season_id",t.id).maybeSingle();if(!r){const{data:n,error:s}=await qa.from("adx_portfolios").insert({user_id:e.id,season_id:t.id,starting_cash:this.STARTING_BALANCE,current_value:this.STARTING_BALANCE,total_pnl:0,total_trades:0,winning_trades:0}).select().single();if(s)return null;r=n}return r}async getUserPositions(e){const{data:t,error:r}=await qa.from("adx_positions").select("*").eq("portfolio_id",e);return r?[]:await Promise.all(t.map(async e=>{try{let t=e.avg_price;const{data:r}=await qa.from("options_model_marks").select("model_price").eq("option_symbol",e.option_symbol).maybeSingle();if((null==r?void 0:r.model_price)&&Number(r.model_price)>0)t=Number(r.model_price);else{const{data:r}=await qa.from("options_market_data").select("mid").eq("option_symbol",e.option_symbol).maybeSingle();t=(null==r?void 0:r.mid)||e.avg_price}const n=(t-e.avg_price)*e.qty*100,s=(t-e.avg_price)/e.avg_price*100,a=new Date(e.expiry),i=new Date,o=Math.floor((a.getTime()-i.getTime())/864e5);return{...e,current_price:t,pnl:n,pnl_percent:s,days_to_expiry:o}}catch(t){return e}}))}async getTradingMetrics(){const{data:e}=await qa.functions.invoke("adx_metrics",{method:"POST",body:{}});if((null==e?void 0:e.ok)&&e.data)return e.data;const t=await this.getUserPortfolio();if(!t)return null;const r=(new Date).toISOString().slice(0,10),{count:n}=await qa.from("adx_orders").select("id",{count:"exact",head:!0}).eq("portfolio_id",t.id).gte("ts",`${r}T00:00:00Z`).lte("ts",`${r}T23:59:59Z`),s=(await this.getUserPositions(t.id)).reduce((e,t)=>e+t.avg_price*t.qty*100,0),{data:a}=await qa.from("adx_pnl_daily").select("ret").eq("portfolio_id",t.id).eq("as_of",r).maybeSingle(),i=t.cash??t.starting_cash,o=t.equity??t.current_value??t.starting_cash,l=i,c=Math.max(0,l-s);return{accountBalance:i,dayTradingPower:l,tradesUsedToday:n||0,maxTradesPerDay:100,portfolioValue:o,todaysPnL:(null==a?void 0:a.ret)||0,totalPnL:o-t.starting_cash,marginUsed:s,marginAvailable:c,maxDrawdownPct:Number(t.max_drawdown_pct||0),sharpe:Number(t.sharpe||0)}}async getPnLHistory(e,t=30){const r=new Date,n=new Date;n.setDate(n.getDate()-t);const{data:s,error:a}=await qa.from("adx_equity_daily").select("as_of_date, equity").eq("portfolio_id",e).gte("as_of_date",n.toISOString().split("T")[0]).lte("as_of_date",r.toISOString().split("T")[0]).order("as_of_date",{ascending:!0});if(!a&&s&&s.length>0){let e=null;return s.map(t=>{const r=Number(t.equity)||0,n=null!==e?r-e:0;return e=r,{date:t.as_of_date,pnl:n,cumulative:r}})}const{data:i}=await qa.from("adx_pnl_daily").select("as_of, ret, equity").eq("portfolio_id",e).gte("as_of",n.toISOString().split("T")[0]).lte("as_of",r.toISOString().split("T")[0]).order("as_of",{ascending:!0});return(i||[]).map(e=>({date:e.as_of,pnl:e.ret||0,cumulative:e.equity||0}))}async getTradeHistory(e,t=30){const r=new Date,n=new Date;n.setDate(n.getDate()-t);let s=[],a=null;try{const t=await qa.from("adx_orders").select("id, filled_at, ts").eq("portfolio_id",e).eq("status","FILLED").gte("filled_at",n.toISOString()).lte("filled_at",r.toISOString());s=t.data||[],a=t.error}catch(Ly){a=Ly}let i=[];i=(await qa.from("adx_orders").select("id, filled_at, ts").eq("portfolio_id",e).eq("status","FILLED").gte("ts",n.toISOString()).lte("ts",r.toISOString())).data||[];const o=new Map;[...s,...i].forEach(e=>{o.has(e.id)||o.set(e.id,e)});const l=Array.from(o.values()).reduce((e,t)=>{const r=t.filled_at||t.ts;if(!r)return e;const n=new Date(r).toISOString().split("T")[0];return e[n]=(e[n]||0)+1,e},{}),c=[],d=new Date(n);for(;d<=r;){const e=d.toISOString().split("T")[0];c.push({date:e,trades:l[e]||0}),d.setDate(d.getDate()+1)}return c}async getCompaniesWithOptions(){try{const{data:e}=await qa.from("seasons").select("id, tickers").eq("status","active").single();if(!e||!e.tickers)return[];const{data:t}=await qa.from("stock_prices").select("*").in("ticker",e.tickers),{data:r}=await qa.from("options_market_data").select("*").in("ticker",e.tickers).order("expiry",{ascending:!0}).order("strike",{ascending:!0}),n=(null==r?void 0:r.reduce((e,t)=>(e[t.ticker]||(e[t.ticker]=[]),e[t.ticker].push(t),e),{}))||{};return(t||[]).map(e=>{var t;const r=(n[e.ticker]||[]).slice(0,10).map(e=>({id:e.option_symbol,type:e.type,strike:e.strike,maturity:e.expiry,bidPrice:e.bid,askPrice:e.ask,volume:e.volume||0,openInterest:e.open_interest||0,exerciseStyle:"string"==typeof e.exercise_style&&"european"===e.exercise_style.toLowerCase()?"European":"American"})),s=sv.find(t=>t.adr===e.ticker);return{id:e.ticker,symbol:e.ticker,name:(null==s?void 0:s.name)||e.ticker,currentPrice:e.price,change:e.change,changePercent:e.change_percent,logoUrl:`https://logo.clearbit.com/${null==(t=null==s?void 0:s.name)?void 0:t.toLowerCase().replace(/\s+/g,"")}.com`,options:r}})}catch(e){return[]}}async placeOrder(e){var t,r,n;try{const s=await this.getUserPortfolio();if(!s)return{success:!1,error:"No portfolio found"};const a="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),{data:i,error:o}=await qa.functions.invoke("adx_place_order",{method:"POST",body:{portfolioId:s.id,optionSymbol:e.optionSymbol,side:e.action.toUpperCase(),qty:e.quantity,turnstileToken:a?"dev-bypass-token":void 0}});if(o||!(null==i?void 0:i.ok))return{success:!1,error:(null==i?void 0:i.error)||(null==o?void 0:o.message)||"Order failed"};const l=null==i?void 0:i.data;return{success:!0,order:null==l?void 0:l.order,auctionSlot:null==(t=null==l?void 0:l.order)?void 0:t.auctionSlot,previewPrice:null==(r=null==l?void 0:l.order)?void 0:r.previewPrice,estimatedFees:null==(n=null==l?void 0:l.order)?void 0:n.estimatedFees}}catch(s){return{success:!1,error:"Failed to place order"}}}async getStagedOrders(e){try{const{data:t,error:r}=await qa.functions.invoke("adx_list_staged_orders",{method:"POST",body:{portfolio_id:e}});return r||!(null==t?void 0:t.ok)?[]:(null==t?void 0:t.data)||[]}catch(Ly){return[]}}async cancelOrder(e){try{const t="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),{data:r,error:n}=await qa.functions.invoke("adx_cancel_order",{method:"POST",body:{orderId:e,turnstileToken:t?"dev-bypass-token":void 0}});return n||!(null==r?void 0:r.ok)?{success:!1,error:(null==r?void 0:r.error)||(null==n?void 0:n.message)||"Cancel failed"}:{success:!0}}catch(Ly){return{success:!1,error:"Cancel failed"}}}async exerciseOption(e){try{const t=await this.getUserPortfolio();if(!t)return{success:!1,error:"No portfolio found"};const r="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),{data:n,error:s}=await qa.functions.invoke("adx_exercise",{method:"POST",body:{portfolioId:t.id,optionSymbol:e.optionSymbol,qty:e.qty,turnstileToken:r?"dev-bypass-token":void 0}});return s||!(null==n?void 0:n.ok)?{success:!1,error:(null==n?void 0:n.error)||(null==s?void 0:s.message)||"Exercise failed"}:{success:!0,data:null==n?void 0:n.data}}catch(t){return{success:!1,error:"Failed to exercise option"}}}async getPortfolioComposition(e){const t=await this.getUserPositions(e),r=t.filter(e=>"call"===e.type).reduce((e,t)=>e+t.avg_price*t.qty*100,0),n=t.filter(e=>"put"===e.type).reduce((e,t)=>e+t.avg_price*t.qty*100,0),s=r+n;return 0===s?{calls:0,puts:0}:{calls:r/s*100,puts:n/s*100}}},iv={SAP:"https://logo.clearbit.com/sap.com",ALV:"https://logo.clearbit.com/allianz.com",ALIZF:"https://logo.clearbit.com/allianz.com",SIE:"https://logo.clearbit.com/siemens.com",SIEGY:"https://logo.clearbit.com/siemens.com",AIR:"https://logo.clearbit.com/airbus.com",EADSY:"https://logo.clearbit.com/airbus.com",DTE:"https://logo.clearbit.com/telekom.com",DTEGY:"https://logo.clearbit.com/telekom.com",SY1:"https://logo.clearbit.com/symrise.com",SYIEF:"https://logo.clearbit.com/symrise.com",PAH3:"https://logo.clearbit.com/porsche.com",P911:"https://logo.clearbit.com/porsche.com",POAHY:"https://logo.clearbit.com/porsche.com",QGEN:"https://logo.clearbit.com/qiagen.com",BNR:"https://logo.clearbit.com/brenntag.com",BNTGY:"https://logo.clearbit.com/brenntag.com",ZAL:"https://logo.clearbit.com/zalando.com",ZLNDY:"https://logo.clearbit.com/zalando.com",BAS:"https://logo.clearbit.com/basf.com",BASFY:"https://logo.clearbit.com/basf.com",BAYN:"https://logo.clearbit.com/bayer.com",BAYRY:"https://logo.clearbit.com/bayer.com",BMW:"https://logo.clearbit.com/bmwgroup.com",BMWYY:"https://logo.clearbit.com/bmwgroup.com",VOW3:"https://logo.clearbit.com/volkswagen.com",VWAGY:"https://logo.clearbit.com/volkswagen.com",VOW:"https://logo.clearbit.com/volkswagen.com",MBG:"https://logo.clearbit.com/mercedes-benz.com",MBGAF:"https://logo.clearbit.com/mercedes-benz.com",MUV2:"https://logo.clearbit.com/munichre.com",MURGY:"https://logo.clearbit.com/munichre.com",ADS:"https://logo.clearbit.com/adidas.com",ADDYY:"https://logo.clearbit.com/adidas.com",HEN3:"https://logo.clearbit.com/henkel.com",HENKY:"https://logo.clearbit.com/henkel.com",IFX:"https://logo.clearbit.com/infineon.com",IFNNY:"https://logo.clearbit.com/infineon.com",MRK:"https://logo.clearbit.com/merckgroup.com",MKKGY:"https://logo.clearbit.com/merckgroup.com",RWE:"https://logo.clearbit.com/rwe.com",RWEOY:"https://logo.clearbit.com/rwe.com",ENR:"https://logo.clearbit.com/siemens-energy.com",SMNEY:"https://logo.clearbit.com/siemens-energy.com",CON:"https://logo.clearbit.com/continental.com",CTTAY:"https://logo.clearbit.com/continental.com",HEI:"https://logo.clearbit.com/heidelbergcement.com",HDELY:"https://logo.clearbit.com/heidelbergcement.com",DB1:"https://logo.clearbit.com/deutsche-boerse.com",DBOEY:"https://logo.clearbit.com/deutsche-boerse.com",DBK:"https://logo.clearbit.com/db.com",DB:"https://logo.clearbit.com/db.com",VAT:"https://logo.clearbit.com/vat.ch",VNA:"https://logo.clearbit.com/vonovia.com",VONOY:"https://logo.clearbit.com/vonovia.com",EOAN:"https://logo.clearbit.com/eon.com",EONGY:"https://logo.clearbit.com/eon.com",FRE:"https://logo.clearbit.com/fresenius.com",FSNUY:"https://logo.clearbit.com/fresenius.com",FME:"https://logo.clearbit.com/fresenius-medical-care.com",FMS:"https://logo.clearbit.com/fresenius-medical-care.com",HNR1:"https://logo.clearbit.com/hannover-re.com",HVRRY:"https://logo.clearbit.com/hannover-re.com",MTX:"https://logo.clearbit.com/mtu.de",MTUAY:"https://logo.clearbit.com/mtu.de",PUM:"https://logo.clearbit.com/puma.com",PUMSY:"https://logo.clearbit.com/puma.com",SAR:"https://logo.clearbit.com/sartorius.com",SARTF:"https://logo.clearbit.com/sartorius.com",DEFAULT:"/placeholder-logo.png"};function ov(e){return iv[e.toUpperCase()]||"/placeholder-logo.png"}const lv=[{ticker:"SAP",adr:"SAP",name:"SAP SE",sector:"Technology",logo:iv.SAP},{ticker:"SIE",adr:"SIEGY",name:"Siemens AG",sector:"Industrials",logo:iv.SIE},{ticker:"ALV",adr:"AZSEY",name:"Allianz SE",sector:"Financials",logo:iv.ALV},{ticker:"BAS",adr:"BASFY",name:"BASF SE",sector:"Materials",logo:iv.BAS},{ticker:"BAYN",adr:"BAYRY",name:"Bayer AG",sector:"Healthcare",logo:iv.BAYN},{ticker:"BMW",adr:"BMWYY",name:"BMW AG",sector:"Consumer Discretionary",logo:iv.BMW},{ticker:"VOW3",adr:"VWAGY",name:"Volkswagen AG",sector:"Consumer Discretionary",logo:iv.VOW3},{ticker:"DTE",adr:"DTEGY",name:"Deutsche Telekom AG",sector:"Communication Services",logo:iv.DTE},{ticker:"MBG",adr:"MBGAF",name:"Mercedes-Benz Group AG",sector:"Consumer Discretionary",logo:iv.MBG},{ticker:"MUV2",adr:"MURGY",name:"Munich RE",sector:"Financials",logo:iv.MUV2}];function cv({company:e,optionType:t}){const[r,n]=de.useState(""),[s,a]=de.useState(""),[i,o]=de.useState(""),[c,d]=de.useState(!1),[u,m]=de.useState(null),{user:h}=Ga(),f=e.options.filter(e=>e.type===t),p=()=>{const e=f.filter(e=>!(s&&e.strike.toString()!==s||i&&e.maturity!==i));return[...new Set(e.map(e=>e.exerciseStyle))]},g=()=>{const e=f.filter(e=>!(r&&e.exerciseStyle!==r||i&&e.maturity!==i));return[...new Set(e.map(e=>e.strike.toString()))].sort((e,t)=>parseFloat(e)-parseFloat(t))},v=()=>{const e=f.filter(e=>!(r&&e.exerciseStyle!==r||s&&e.strike.toString()!==s));return[...new Set(e.map(e=>e.maturity))].sort()};de.useEffect(()=>{const e=p(),t=g(),l=v();r&&!e.includes(r)&&n(""),s&&!t.includes(s)&&a(""),i&&!l.includes(i)&&o("")},[r,s,i]);const x=f.find(e=>e.exerciseStyle===r&&e.strike.toString()===s&&e.maturity===i);return 0===f.length?null:l.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Sg,{variant:"call"===t?"default":"secondary",className:"text-xs",children:t.toUpperCase()}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.length," option",1!==f.length?"s":""," available"]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Exercise Style"}),l.jsxs(Kg,{value:r,onValueChange:n,children:[l.jsx(Zg,{className:"h-8 text-xs",children:l.jsx(Qg,{placeholder:"Select style"})}),l.jsx(Xg,{children:p().map(e=>l.jsx(Jg,{value:e,children:e},e))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Strike Price"}),l.jsxs(Kg,{value:s,onValueChange:a,children:[l.jsx(Zg,{className:"h-8 text-xs",children:l.jsx(Qg,{placeholder:"Select strike"})}),l.jsx(Xg,{children:g().map(e=>l.jsxs(Jg,{value:e,children:["$",e]},e))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Expiration"}),l.jsxs(Kg,{value:i,onValueChange:o,children:[l.jsx(Zg,{className:"h-8 text-xs",children:l.jsx(Qg,{placeholder:"Select date"})}),l.jsx(Xg,{children:v().map(e=>l.jsx(Jg,{value:e,children:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},e))})]})]})]}),x?l.jsxs("div",{className:"border rounded-lg p-3 bg-muted/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sg,{variant:"outline",className:"text-xs",children:x.exerciseStyle}),l.jsxs("span",{className:"text-sm font-mono",children:["$",x.strike]})]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(x.maturity).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Bid"}),l.jsxs("div",{className:"font-semibold text-green-600",children:["$",x.bidPrice.toFixed(2)]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Ask"}),l.jsxs("div",{className:"font-semibold text-red-600",children:["$",x.askPrice.toFixed(2)]})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground mb-3 flex justify-between",children:[l.jsxs("span",{children:["Vol: ",x.volume.toLocaleString()]}),l.jsxs("span",{children:["OI: ",x.openInterest.toLocaleString()]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Gg,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-xs h-8",onClick:async()=>{if(x&&h&&!c){d(!0),m(null);try{const t=await av.placeOrder({optionSymbol:x.id,ticker:e.symbol,type:x.type,strike:x.strike,expiry:x.maturity,quantity:1,action:"buy",orderType:"market",limitPrice:void 0});if(t.success){if(t.auctionSlot){const e=t.previewPrice?` (preview ${t.previewPrice.toFixed(2)}`:"",r="number"==typeof t.estimatedFees?`${e?"  ":" ("}fees ${t.estimatedFees.toFixed(2)})`:e?")":"";m(`Order staged for ${t.auctionSlot.toUpperCase()}${e}${r}`)}else m("Order filled");window.dispatchEvent(new CustomEvent("portfolio-updated"))}else m(t.error||"Failed to place order")}catch(t){m("Error placing order")}finally{d(!1),setTimeout(()=>m(null),4e3)}}},disabled:!h||c,children:c?"Placing...":`Buy $${x.askPrice.toFixed(2)}`}),l.jsx(Gg,{size:"sm",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50 text-xs h-8",onClick:async()=>{if(x&&h&&!c){d(!0),m(null);try{const t=await av.placeOrder({optionSymbol:x.id,ticker:e.symbol,type:x.type,strike:x.strike,expiry:x.maturity,quantity:1,action:"sell",orderType:"market",limitPrice:void 0});if(t.success){if(t.auctionSlot){const e=t.previewPrice?` (preview ${t.previewPrice.toFixed(2)}`:"",r="number"==typeof t.estimatedFees?`${e?"  ":" ("}fees ${t.estimatedFees.toFixed(2)})`:e?")":"";m(`Order staged for ${t.auctionSlot.toUpperCase()}${e}${r}`)}else m("Order filled");window.dispatchEvent(new CustomEvent("portfolio-updated"))}else m(t.error||"Failed to place order")}catch(t){m("Error placing order")}finally{d(!1),setTimeout(()=>m(null),4e3)}}},disabled:!h||c,children:c?"Placing...":`Sell $${x.bidPrice.toFixed(2)}`})]}),u&&l.jsx("div",{className:"text-xs mt-2 text-muted-foreground",children:u})]}):l.jsx("div",{className:"border rounded-lg p-3 bg-muted/10 text-center",children:l.jsx("div",{className:"text-muted-foreground text-xs",children:r||s||i?"Select all filters to view option details":"Select option parameters above to view details"})})]})}function dv({company:e}){return l.jsxs(Ug,{className:"overflow-hidden hover:shadow-lg transition-shadow w-full",children:[l.jsx(Wg,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:l.jsx(rv,{src:e.logoUrl,alt:`${e.name} logo`,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(Hg,{className:"font-mono text-xl mb-1",children:e.symbol}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.name})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-semibold mb-1",children:["$",e.currentPrice.toFixed(2)]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm "+(e.change>=0?"text-green-600":"text-red-600"),children:[e.change>=0?l.jsx(Hr,{className:"w-4 h-4"}):l.jsx(Wr,{className:"w-4 h-4"}),e.change>=0?"+":"",e.change.toFixed(2)," (",e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%)"]})]})]})}),l.jsx(Vg,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsx(cv,{company:e,optionType:"call"}),l.jsx(cv,{company:e,optionType:"put"})]})})]})}function uv(){const[e,t]=de.useState([]),[r,n]=de.useState(!0),[s,a]=de.useState(!1),{user:i}=Ga();de.useEffect(()=>{nv.initialize().catch(console.error),o()},[]);const o=async()=>{try{n(!0);const{data:e}=await qa.from("seasons").select("id").eq("status","active").single();if(!e)return void t([]);const{data:r,error:s}=await qa.from("adx_tickers").select("*").eq("season_id",e.id).eq("is_active",!0).order("band",{ascending:!0}).order("symbol",{ascending:!0});if(s)throw s;if(r&&r.length>0){const{data:e}=await qa.from("stock_prices").select("*").in("ticker",r.map(e=>e.symbol)),{data:n}=await qa.from("options_market_data").select("*").in("ticker",r.map(e=>e.symbol)).gte("expiry",(new Date).toISOString()).order("ticker").order("expiry").order("strike"),s=r.map(t=>{const r=null==e?void 0:e.find(e=>e.ticker===t.symbol),s=(null==n?void 0:n.filter(e=>e.ticker===t.symbol))||[],a=ov(t.symbol);return{id:t.id,symbol:t.symbol,name:t.name,currentPrice:(null==r?void 0:r.price)||100,change:(null==r?void 0:r.change)||0,changePercent:(null==r?void 0:r.change_percent)||0,logoUrl:a,options:s.map(e=>({id:e.option_symbol,type:e.type,strike:e.strike,maturity:e.expiry,bidPrice:e.bid,askPrice:e.ask,volume:e.volume||0,openInterest:e.open_interest||0,exerciseStyle:"US"===t.exchange?"American":"European"}))}});t(s)}else t([])}catch(e){t([])}finally{n(!1)}};return r?l.jsxs("div",{className:"flex items-center justify-center p-12",children:[l.jsx(Tr,{className:"w-8 h-8 animate-spin text-muted-foreground"}),l.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading options data..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Options data is automatically updated every 5 minutes"}),l.jsx(Gg,{size:"sm",variant:"outline",onClick:async()=>{a(!0);try{await nv.syncOptionsData(),await o()}catch(e){}finally{a(!1)}},disabled:s||!i,children:s?l.jsxs(l.Fragment,{children:[l.jsx(Tr,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):"Refresh Data"})]}),e.length>0?e.map(e=>l.jsx(dv,{company:e},e.id)):l.jsx("div",{className:"text-center p-12 text-muted-foreground",children:"No options data available. Please check back later."})]})}function mv({className:e,type:t,...r}){return l.jsx("input",{type:t,"data-slot":"input",className:yg("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}const hv=ja("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fv=de.forwardRef(({className:e,...t},r)=>l.jsx($,{ref:r,className:Na(hv(),e),...t}));fv.displayName=$.displayName;const pv=new class{constructor(){this.companiesCache=null,this.cacheTimestamp=0,this.CACHE_DURATION=3e5}async getCompanies(e=!1){if(!e&&this.companiesCache&&Date.now()-this.cacheTimestamp<this.CACHE_DURATION)return this.companiesCache;try{const{data:e}=await qa.from("seasons").select("id").eq("status","active").single();if(!e)return lv.map(e=>({id:e.ticker,ticker:e.ticker,name:e.name,sector:e.sector,logo:e.logo,adr:e.adr}));const{data:t}=await qa.from("adx_tickers").select("*").eq("season_id",e.id).eq("is_active",!0);if(t&&t.length>0){const{data:e}=await qa.from("stock_prices").select("*").in("ticker",t.map(e=>e.symbol));this.companiesCache=t.map(t=>{const r=null==e?void 0:e.find(e=>e.ticker===t.symbol),n=lv.find(e=>e.ticker===t.symbol);return{id:t.id,ticker:t.symbol,name:t.name||(null==n?void 0:n.name)||t.symbol,sector:(null==n?void 0:n.sector)||"Unknown",logo:ov(t.symbol),adr:(null==n?void 0:n.adr)||t.symbol,price:null==r?void 0:r.price,change:null==r?void 0:r.change,changePercent:null==r?void 0:r.change_percent}})}else this.companiesCache=lv.map(e=>({id:e.ticker,ticker:e.ticker,name:e.name,sector:e.sector,logo:e.logo,adr:e.adr}));return this.cacheTimestamp=Date.now(),this.companiesCache}catch(t){return lv.map(e=>({id:e.ticker,ticker:e.ticker,name:e.name,sector:e.sector,logo:e.logo,adr:e.adr}))}}async getRevenuePredictions(){try{const{data:{user:e}}=await qa.auth.getUser();if(!e)return[];const t=await this.getCompanies(),{data:r}=await qa.from("seasons").select("id, name").eq("status","active").single();if(!r)return[];const{data:n}=await qa.from("adx_revenue_predictions").select("*").eq("season_id",r.id).eq("user_id",e.id),{data:s}=await qa.from("adx_revenue_actuals").select("symbol, actual_value").eq("season_id",r.id),a=new Map;return(s||[]).forEach(e=>a.set(String(e.symbol).toUpperCase(),e.actual_value)),t.map(e=>{var t;const s=null==n?void 0:n.find(t=>t.symbol===e.ticker),i=(new Date).toISOString().slice(0,10),o=(null==(t=null==s?void 0:s.updated_at)?void 0:t.slice(0,10))===i&&s.updates_today||0;return{ticker:e.ticker,companyName:e.name,logo:e.logo,quarter:r.name||"Current Season",prediction:null==s?void 0:s.value,actualRevenue:a.get(e.ticker),updatesLeft:Math.max(0,5-o)}})}catch(e){return[]}}async submitPrediction(e,t,r){var n;try{const{data:{user:s}}=await qa.auth.getUser();if(!s)return{success:!1,error:"Authentication required"};const{data:a}=await qa.from("seasons").select("id").eq("status","active").single();if(!a)return{success:!1,error:"No active season"};const i=!0,o="undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),l=(null==r?void 0:r.turnstileToken)||(o?"dev-bypass-token":void 0);if(i&&!l)return{success:!1,error:"Verification required"};const c=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/adx_save_prediction",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(n=(await qa.auth.getSession()).data.session)?void 0:n.access_token}`},body:JSON.stringify({seasonId:a.id,symbol:e,value:t,turnstileToken:l||(i?void 0:"dev-bypass-token")})}),d=await c.json();return d.ok?{success:!0}:{success:!1,error:d.error||"Failed to save prediction"}}catch(s){return{success:!1,error:"An unexpected error occurred"}}}async getOptionsForTrading(){try{const e=await this.getCompanies(),{data:t}=await qa.from("options_market_data").select("*").in("ticker",e.map(e=>e.ticker)).gte("expiry",(new Date).toISOString()).order("ticker").order("expiry").order("strike");return t&&0!==t.length?t.map(t=>{const r=e.find(e=>e.ticker===t.ticker);return{id:t.option_symbol,ticker:t.ticker,companyName:(null==r?void 0:r.name)||t.ticker,logo:(null==r?void 0:r.logo)||ov(t.ticker),type:t.type,strike:t.strike,expiry:t.expiry,bid:t.bid,ask:t.ask,mid:t.mid,volume:t.volume||0,openInterest:t.open_interest||0}}):[]}catch(e){return[]}}async getCompanyByTicker(e){return(await this.getCompanies()).find(t=>t.ticker===e)||null}clearCache(){this.companiesCache=null,this.cacheTimestamp=0}};var gv={},vv=pe&&pe.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),xv=pe&&pe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yv=pe&&pe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&vv(t,e,r);return xv(t,e),t};Object.defineProperty(gv,"__esModule",{value:!0}),gv.useTurnstile=void 0;const bv=yv(de),wv="undefined"!=typeof globalThis?globalThis:window;let jv,Nv,kv=void 0!==wv.turnstile?"ready":"unloaded";const Sv=new Promise((e,t)=>{Nv={resolve:e,reject:t},"ready"===kv&&e(void 0)});{const e="cf__reactTurnstileOnLoad",t="https://challenges.cloudflare.com/turnstile/v0/api.js";jv=()=>{if("unloaded"===kv){kv="loading",wv[e]=()=>{Nv.resolve(),kv="ready",delete wv[e]};const r=`${t}?onload=${e}&render=explicit`,n=document.createElement("script");n.src=r,n.async=!0,n.addEventListener("error",()=>{Nv.reject("Failed to load Turnstile."),delete wv[e]}),document.head.appendChild(n)}return Sv}}var _v=gv.default=function({id:e,className:t,style:r,sitekey:n,action:s,cData:a,theme:i,language:o,tabIndex:l,responseField:c,responseFieldName:d,size:u,fixedSize:m,retry:h,retryInterval:f,refreshExpired:p,appearance:g,execution:v,userRef:x,onVerify:y,onSuccess:b,onLoad:w,onError:j,onExpire:N,onTimeout:k,onAfterInteractive:S,onBeforeInteractive:_,onUnsupported:D}){const E=(0,bv.useRef)(null),M=(0,bv.useState)({onVerify:y,onSuccess:b,onLoad:w,onError:j,onExpire:N,onTimeout:k,onAfterInteractive:S,onBeforeInteractive:_,onUnsupported:D})[0],T=null!=x?x:E,C=m?{width:"compact"===u?"130px":"flexible"===u?"100%":"300px",height:"compact"===u?"120px":"65px",...r}:r;return(0,bv.useEffect)(()=>{if(!T.current)return;let e=!1,t="";return(async()=>{var r,m;if("ready"!==kv)try{await jv()}catch(Ly){return void(null===(r=M.onError)||void 0===r||r.call(M,Ly))}if(e||!T.current)return;let x;const y={sitekey:n,action:s,cData:a,theme:i,language:o,tabindex:l,"response-field":c,"response-field-name":d,size:u,retry:h,"retry-interval":f,"refresh-expired":p,appearance:g,execution:v,callback:(e,t)=>{var r,n;null===(r=M.onVerify)||void 0===r||r.call(M,e,x),null===(n=M.onSuccess)||void 0===n||n.call(M,e,t,x)},"error-callback":e=>{var t;return null===(t=M.onError)||void 0===t?void 0:t.call(M,e,x)},"expired-callback":e=>{var t;return null===(t=M.onExpire)||void 0===t?void 0:t.call(M,e,x)},"timeout-callback":()=>{var e;return null===(e=M.onTimeout)||void 0===e?void 0:e.call(M,x)},"after-interactive-callback":()=>{var e;return null===(e=M.onAfterInteractive)||void 0===e?void 0:e.call(M,x)},"before-interactive-callback":()=>{var e;return null===(e=M.onBeforeInteractive)||void 0===e?void 0:e.call(M,x)},"unsupported-callback":()=>{var e;return null===(e=M.onUnsupported)||void 0===e?void 0:e.call(M,x)}};t=window.turnstile.render(T.current,y),x=function(e){return{execute:t=>window.turnstile.execute(e,t),reset:()=>window.turnstile.reset(e),getResponse:()=>window.turnstile.getResponse(e),isExpired:()=>window.turnstile.isExpired(e)}}(t),null===(m=M.onLoad)||void 0===m||m.call(M,t,x)})(),()=>{e=!0,t&&window.turnstile.remove(t)}},[n,s,a,i,o,l,c,d,u,h,f,p,g,v]),(0,bv.useEffect)(()=>{M.onVerify=y,M.onSuccess=b,M.onLoad=w,M.onError=j,M.onExpire=N,M.onTimeout=k,M.onAfterInteractive=S,M.onBeforeInteractive=_,M.onUnsupported=D},[y,b,w,j,N,k,S,_,D]),bv.default.createElement("div",{ref:T,id:e,className:t,style:C})};function Dv({company:e,existingPrediction:t,onSubmit:r}){var n,s;const[a,i]=de.useState(!t),[o,c]=de.useState((null==(n=null==t?void 0:t.predictedRevenue)?void 0:n.toString())||"");return l.jsxs(Ug,{className:"overflow-hidden",children:[l.jsx(Wg,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:l.jsx(rv,{src:e.logoUrl,alt:`${e.name} logo`,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(Hg,{className:"font-mono text-lg mb-1",children:e.symbol}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.name})]}),t&&l.jsx(Sg,{variant:"submitted"===t.status?"default":"secondary",className:"text-xs",children:"submitted"===t.status?"Submitted":"Verified"})]})}),l.jsx(Vg,{className:"space-y-4",children:a?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx(fv,{htmlFor:`prediction-${e.id}`,className:"text-sm",children:"Your Prediction (Billions $)"}),l.jsx(mv,{id:`prediction-${e.id}`,type:"number",step:"0.01",placeholder:"e.g., 125.50",value:o,onChange:e=>c(e.target.value),className:"mt-1"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Gg,{size:"sm",onClick:()=>{o&&parseFloat(o)>0&&(r(e.id,parseFloat(o)),i(!1))},className:"flex-1",children:[l.jsx(Fr,{className:"w-3 h-3 mr-1"}),"Submit"]}),t&&l.jsx(Gg,{size:"sm",variant:"outline",onClick:()=>{var e;c((null==(e=null==t?void 0:t.predictedRevenue)?void 0:e.toString())||""),i(!1)},children:l.jsx(Zr,{className:"w-3 h-3"})})]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"p-3 rounded-lg bg-muted/20 border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Your Prediction"}),l.jsxs("div",{className:"font-semibold text-lg",children:["$",null==t?void 0:t.predictedRevenue,"B"]})]}),l.jsxs(Gg,{size:"sm",variant:"outline",onClick:()=>i(!0),children:[l.jsx(zr,{className:"w-3 h-3 mr-1"}),"Edit"]})]}),(null==t?void 0:t.actualRevenue)&&l.jsx("div",{className:"mt-2 pt-2 border-t",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Actual: "}),l.jsxs("span",{className:"font-semibold",children:["$",t.actualRevenue,"B"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"MSE: "}),l.jsx("span",{className:"font-semibold",children:null==(s=t.mse)?void 0:s.toFixed(2)})]})]})})]}),t&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Submitted on ",new Date(t.submittedAt).toLocaleDateString()]})]})})]})}function Ev({userStats:e}){return l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsxs(Hg,{className:"flex items-center gap-2",children:[l.jsx(Br,{className:"w-5 h-5"}),"Your Performance"]})}),l.jsxs(Vg,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/20",children:[l.jsx("div",{className:"text-2xl font-bold mb-1",children:e.totalPredictions}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Predictions Made"})]}),l.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/20",children:[l.jsx("div",{className:"text-2xl font-bold mb-1",children:e.avgMSE>0?e.avgMSE.toFixed(2):""}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg MSE"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),l.jsx(Sg,{variant:"default",className:"text-xs",children:e.currentRank>0?`#${e.currentRank}`:""})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Best Rank"}),l.jsx(Sg,{variant:"outline",className:"text-xs",children:e.bestRank>0?`#${e.bestRank}`:""})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Verified"}),l.jsxs("span",{className:"text-sm font-semibold",children:[e.verifiedPredictions,"/",e.totalPredictions]})]})]})]})]})}function Mv(){const{user:e}=Ga(),[t,r]=de.useState([]),[n,s]=de.useState([]),[a,i]=de.useState([]),[o,c]=de.useState([]),[d,u]=de.useState(""),[m,h]=de.useState(null),[f,p]=de.useState(null),[g,v]=de.useState(null),[x,y]=de.useState({totalPredictions:0,verifiedPredictions:0,avgMSE:0,currentRank:0,bestRank:0}),[b,w]=de.useState(!0),[j,N]=de.useState(null);de.useEffect(()=>{(async()=>{if(e){w(!0);try{const[e,t]=await Promise.all([pv.getCompanies(),pv.getRevenuePredictions()]);r(e),s(t);const{data:n}=await qa.from("seasons").select("id, name, starts_at, ends_at, status").eq("status","active").single();if(n){u(n.name||"Current Season"),h(n.starts_at||null),p(n.ends_at||null),v(n.status||null);const e=(new Date).toISOString(),r=t.filter(e=>null!=e.prediction).map(t=>({id:`${t.ticker}-${e}`,companyId:t.ticker,quarter:n.name||"Current Season",submittedAt:e,predictedRevenue:t.prediction,actualRevenue:t.actualRevenue,mse:t.mse,status:null!=t.actualRevenue?"verified":"submitted"}));i(r);const s=r.length,a=r.filter(e=>"verified"===e.status),o=a.length>0?a.reduce((e,t)=>e+(t.mse||0),0)/a.length:0,l=[{quarter:n.name||"Current Season",mse:o||0,rank:0}];c(l),y({totalPredictions:s,verifiedPredictions:a.length,avgMSE:o,currentRank:0,bestRank:0})}}catch(Ly){}finally{w(!1)}}})()},[e]);const k=async(e,r)=>{if(!j)return void alert("Please complete verification");const n=t.find(t=>t.id===e||t.ticker===e);if(!n)return;const a=await pv.submitPrediction(n.ticker,r,{turnstileToken:j});if(a.success){const e=await pv.getRevenuePredictions();s(e)}else alert(a.error||"Failed to save prediction")},S=n;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Revenue Predictions"}),l.jsx("p",{className:"text-muted-foreground text-lg",children:"Submit your quarterly revenue predictions and compete for accuracy"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsx(Hg,{children:"Season"})}),l.jsx(Vg,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-base font-semibold",children:d||"Current Season"}),g&&l.jsx(Sg,{variant:"active"===g?"default":"secondary",className:"text-xs capitalize",children:g})]}),m||f?l.jsxs("div",{className:"text-xs text-muted-foreground",children:[m&&l.jsxs("span",{children:["Starts: ",new Date(m).toLocaleDateString()]}),m&&f&&l.jsx("span",{children:"  "}),f&&l.jsxs("span",{children:["Ends: ",new Date(f).toLocaleDateString()]})]}):null,m&&f?(()=>{const e=new Date,t=new Date(m),r=new Date(f),n=Math.max(0,r.getTime()-t.getTime()),s=Math.min(Math.max(0,e.getTime()-t.getTime()),n),a=Math.max(0,r.getTime()-e.getTime()),i=n>0?s/n*100:0,o=Math.ceil(a/864e5);return l.jsxs("div",{className:"space-y-2",children:[l.jsx(Bg,{value:i,className:"h-2"}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsxs("span",{children:[Math.round(i),"% complete"]}),l.jsxs("span",{children:[o," days left"]})]})]})})():l.jsx("div",{className:"text-xs text-muted-foreground",children:"Season dates not available"})]})})]}),l.jsx(Ev,{userStats:x})]}),l.jsxs(bg,{defaultValue:"submit",className:"w-full",children:[l.jsxs(wg,{className:"grid w-full grid-cols-3 max-w-md",children:[l.jsx(jg,{value:"submit",children:"Submit"}),l.jsx(jg,{value:"history",children:"History"}),l.jsx(jg,{value:"analytics",children:"Analytics"})]}),l.jsx(Ng,{value:"submit",className:"mt-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Predictions"}),l.jsxs(Sg,{variant:"outline",className:"text-xs",children:[S.filter(e=>void 0!==e.prediction).length,"/",t.length," submitted"]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(_v,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",onVerify:e=>N(e),onExpire:()=>N(null)})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>{const t=S.find(t=>t.ticker===e.ticker),r=t&&void 0!==t.prediction,n={id:e.id,symbol:e.ticker,name:e.name,logoUrl:e.logo},s=r?{id:`${e.id}`,companyId:e.id,quarter:t.quarter,submittedAt:(new Date).toISOString(),predictedRevenue:t.prediction,status:null!=t.actualRevenue?"verified":"submitted",actualRevenue:t.actualRevenue,mse:t.mse}:void 0;return l.jsx(Dv,{company:n,existingPrediction:s,onSubmit:k},e.id)})})]})}),l.jsx(Ng,{value:"history",className:"mt-6",children:l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsx(Hg,{children:"Prediction History"})}),l.jsx(Vg,{children:l.jsx("div",{className:"space-y-4",children:0===a.length?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No prediction history yet."}):a.map(e=>{var r;const n=t.find(t=>t.ticker===e.companyId);return n?l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded overflow-hidden bg-muted",children:l.jsx(rv,{src:n.logo,alt:n.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold",children:[n.ticker," - ",e.quarter]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Predicted: $",e.predictedRevenue,"B",e.actualRevenue&&l.jsxs("span",{children:[" | ","Actual: $",e.actualRevenue,"B"," | ","MSE: ",null==(r=e.mse)?void 0:r.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx(Sg,{variant:"verified"===e.status?"default":"outline",className:"text-xs",children:e.status}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(e.submittedAt).toLocaleDateString()})]})]},e.id):null})})})]})}),l.jsx(Ng,{value:"analytics",className:"mt-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsx(Hg,{children:"MSE Trend"})}),l.jsx(Vg,{children:o.length>0?l.jsx(tt,{width:"100%",height:200,children:l.jsxs(rt,{data:o,children:[l.jsx(nt,{strokeDasharray:"3 3"}),l.jsx(st,{dataKey:"quarter",tick:{fontSize:12}}),l.jsx(at,{tick:{fontSize:12}}),l.jsx(it,{formatter:e=>[e,"MSE"]}),l.jsx(ot,{type:"monotone",dataKey:"mse",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444"}})]})}):l.jsx("div",{className:"flex items-center justify-center h-[200px] text-sm text-muted-foreground",children:"No historical data available"})})]}),l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsx(Hg,{children:"Ranking Progress"})}),l.jsx(Vg,{children:o.length>0&&o.some(e=>e.rank>0)?l.jsx(tt,{width:"100%",height:200,children:l.jsxs(lt,{data:o,children:[l.jsx(nt,{strokeDasharray:"3 3"}),l.jsx(st,{dataKey:"quarter",tick:{fontSize:12}}),l.jsx(at,{tick:{fontSize:12},reversed:!0}),l.jsx(it,{formatter:e=>[`#${e}`,"Rank"]}),l.jsx(ct,{dataKey:"rank",fill:"#3b82f6"})]})}):l.jsx("div",{className:"flex items-center justify-center h-[200px] text-sm text-muted-foreground",children:"Rankings will appear after predictions are verified"})})]})]})})]})]})}gv.useTurnstile=function(){const[e,t]=(0,bv.useState)(kv);return(0,bv.useEffect)(()=>{"ready"!==kv&&Sv.then(()=>t(kv))},[]),wv.turnstile};var[Tv,Cv]=d("Tooltip",[G]),Ov=G(),Pv="TooltipProvider",Av=700,Rv="tooltip.open",[Iv,Fv]=Tv(Pv),Lv=e=>{const{__scopeTooltip:t,delayDuration:r=Av,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,o]=de.useState(!0),c=de.useRef(!1),d=de.useRef(0);return de.useEffect(()=>{const e=d.current;return()=>window.clearTimeout(e)},[]),l.jsx(Iv,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:de.useCallback(()=>{window.clearTimeout(d.current),o(!1)},[]),onClose:de.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:de.useCallback(e=>{c.current=e},[]),disableHoverableContent:s,children:a})};Lv.displayName=Pv;var Yv="Tooltip",[zv,qv]=Tv(Yv),Bv=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:o}=e,c=Fv(Yv,e.__scopeTooltip),d=Ov(t),[u,m]=de.useState(null),h=te(),f=de.useRef(0),g=i??c.disableHoverableContent,v=o??c.delayDuration,x=de.useRef(!1),[y=!1,b]=p({prop:n,defaultProp:s,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(Rv))):c.onClose(),null==a||a(e)}}),w=de.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),j=de.useCallback(()=>{window.clearTimeout(f.current),x.current=!1,b(!0)},[b]),N=de.useCallback(()=>{window.clearTimeout(f.current),b(!1)},[b]),k=de.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{x.current=!0,b(!0)},v)},[v,b]);return de.useEffect(()=>()=>window.clearTimeout(f.current),[]),l.jsx(re,{...d,children:l.jsx(zv,{scope:t,contentId:h,open:y,stateAttribute:w,trigger:u,onTriggerChange:m,onTriggerEnter:de.useCallback(()=>{c.isOpenDelayed?k():j()},[c.isOpenDelayed,k,j]),onTriggerLeave:de.useCallback(()=>{g?N():window.clearTimeout(f.current)},[N,g]),onOpen:j,onClose:N,disableHoverableContent:g,children:r})})};Bv.displayName=Yv;var Uv="TooltipTrigger",Wv=de.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=qv(Uv,r),a=Fv(Uv,r),i=Ov(r),o=de.useRef(null),c=u(t,o,s.onTriggerChange),d=de.useRef(!1),m=de.useRef(!1),f=de.useCallback(()=>d.current=!1,[]);return de.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(K,{asChild:!0,...i,children:l.jsx(h.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:x(e.onPointerMove,e=>{"touch"!==e.pointerType&&(m.current||a.isPointerInTransitRef.current||(s.onTriggerEnter(),m.current=!0))}),onPointerLeave:x(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:x(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:x(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:x(e.onBlur,s.onClose),onClick:x(e.onClick,s.onClose)})})});Wv.displayName=Uv;var[Hv,Vv]=Tv("TooltipPortal",{forceMount:void 0}),$v="TooltipContent",Gv=de.forwardRef((e,t)=>{const r=Vv($v,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=qv($v,e.__scopeTooltip);return l.jsx(g,{present:n||i.open,children:i.disableHoverableContent?l.jsx(Xv,{side:s,...a,ref:t}):l.jsx(Kv,{side:s,...a,ref:t})})}),Kv=de.forwardRef((e,t)=>{const r=qv($v,e.__scopeTooltip),n=Fv($v,e.__scopeTooltip),s=de.useRef(null),a=u(t,s),[i,o]=de.useState(null),{trigger:c,onClose:d}=r,m=s.current,{onPointerInTransitChange:h}=n,f=de.useCallback(()=>{o(null),h(!1)},[h]),p=de.useCallback((e,t)=>{const r=e.currentTarget,n={x:e.clientX,y:e.clientY},s=function(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,function(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,r.getBoundingClientRect())),a=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;r.length>=2;){const e=r[r.length-1],n=r[r.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...s,...function(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}(t.getBoundingClientRect())]);o(a),h(!0)},[h]);return de.useEffect(()=>()=>f(),[f]),de.useEffect(()=>{if(c&&m){const e=e=>p(e,m),t=e=>p(e,c);return c.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[c,m,p,f]),de.useEffect(()=>{if(i){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},n=(null==c?void 0:c.contains(t))||(null==m?void 0:m.contains(t)),s=!function(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const e=t[a].x,o=t[a].y,l=t[i].x,c=t[i].y;o>n!=c>n&&r<(l-e)*(n-o)/(c-o)+e&&(s=!s)}return s}(r,i);n?f():s&&(f(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,m,i,d,f]),l.jsx(Xv,{...e,ref:a})}),[Qv,Zv]=Tv(Yv,{isInside:!1}),Xv=de.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...o}=e,c=qv($v,r),d=Ov(r),{onClose:u}=c;return de.useEffect(()=>(document.addEventListener(Rv,u),()=>document.removeEventListener(Rv,u)),[u]),de.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(c.trigger))&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,u]),l.jsx(Q,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:l.jsxs(Z,{"data-state":c.stateAttribute,...d,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(X,{children:n}),l.jsx(Qv,{scope:r,isInside:!0,children:l.jsx(J,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Gv.displayName=$v;var Jv="TooltipArrow";de.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ov(r);return Zv(Jv,r).isInside?null:l.jsx(ee,{...s,...n,ref:t})}).displayName=Jv;var ex=Gv;const tx=Lv,rx=Bv,nx=Wv,sx=de.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(ex,{ref:n,sideOffset:t,className:Na("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));sx.displayName=ex.displayName;const ax=[],ix=[],ox=[];function lx({positions:e,onSellAll:t,onExercise:r}){return l.jsx("div",{className:"space-y-3",children:e.map(e=>l.jsx(Ug,{className:"overflow-hidden",children:l.jsxs(Vg,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Sg,{variant:"call"===e.type?"default":"secondary",className:"text-xs",children:e.type.toUpperCase()}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold",children:[e.symbol," $",e.strike]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Exp: ",new Date(e.expiry).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx(Sg,{variant:"bought"===e.action?"outline":"default",className:"text-xs mb-1",children:e.action}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",e.quantity]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Avg Price"}),l.jsxs("div",{className:"font-semibold",children:["$",e.avgPrice.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Current"}),l.jsxs("div",{className:"font-semibold",children:["$",e.currentPrice.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"P&L"}),l.jsxs("div",{className:"font-semibold "+(e.pnl>=0?"text-green-600":"text-red-600"),children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"P&L %"}),l.jsxs("div",{className:"font-semibold "+(e.pnlPercent>=0?"text-green-600":"text-red-600"),children:[e.pnlPercent>=0?"+":"",e.pnlPercent.toFixed(2),"%"]})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsx(Sr,{className:"w-3 h-3"}),e.daysToExpiry," days to expiry"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Gg,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>t(e),children:"Sell to Close"}),l.jsx(Gg,{size:"sm",className:"h-7 text-xs",onClick:()=>r(e),children:"Exercise & Settle"})]})]})]})},e.id))})}function cx({tradesUsed:e,maxTrades:t}){const r=e/t*100,n=t-e;return l.jsxs(Ug,{children:[l.jsx(Wg,{className:"pb-3",children:l.jsxs(Hg,{className:"text-lg flex items-center gap-2",children:[l.jsx(Br,{className:"w-5 h-5"}),"Daily Trade Limit"]})}),l.jsxs(Vg,{children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-3xl font-bold mb-1",children:n}),l.jsx("div",{className:"text-muted-foreground text-sm",children:"trades remaining"})]}),l.jsx(Bg,{value:r,className:"h-3 mb-3"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:["Used: ",e]}),l.jsxs("span",{className:"text-muted-foreground",children:["Limit: ",t]})]}),r>80&&l.jsx("div",{className:"mt-3 p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:l.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 text-xs",children:[l.jsx(Vr,{className:"w-3 h-3"}),"Approaching daily limit"]})})]})]})}function dx(e){const t=function(){var e,t;const r=new Date,n=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Berlin",hour12:!1,hour:"2-digit",minute:"2-digit"}).formatToParts(r),s=parseInt((null==(e=n.find(e=>"hour"===e.type))?void 0:e.value)||"0",10),a=parseInt((null==(t=n.find(e=>"minute"===e.type))?void 0:t.value)||"0",10),i=new Date(r);return i.setHours(s,a,0,0),i}(),r="open"===e?"08:55":"17:25",[n,s]=r.split(":").map(e=>parseInt(e,10)),a=new Date(t);a.setHours(n,s,0,0);const i=a.getTime()-t.getTime();return Math.max(0,Math.round(i/6e4))}function ux({metrics:e}){const[t,r]=de.useState("7d"),[n,s]=de.useState(null),[a,i]=de.useState([]),[o,c]=de.useState([]),[d,u]=de.useState([]),[m,h]=de.useState({calls:0,puts:0}),[f,p]=de.useState([]),[g,v]=de.useState(!1),[x,y]=de.useState(!0),{user:b}=Ga();de.useEffect(()=>{(async()=>{if(b)try{const e=await av.getUserPortfolio();if(e){s(e);const r=await av.getUserPositions(e.id);i(r);const n="1d"===t?1:"7d"===t?7:"30d"===t?30:90,a=await av.getPnLHistory(e.id,n);c(a);const o=await av.getTradeHistory(e.id,n);u(o);const l=await av.getPortfolioComposition(e.id);h(l);const d=await av.getStagedOrders(e.id);p(d)}}catch(e){}finally{y(!1)}else y(!1)})()},[b,t]);const w=a.map(e=>({id:e.option_symbol||e.id,symbol:e.ticker,type:e.type,strike:e.strike,expiry:e.expiry,quantity:e.qty,avgPrice:e.avg_price,currentPrice:e.current_price||e.avg_price,pnl:e.pnl||0,pnlPercent:e.pnl_percent||0,daysToExpiry:e.days_to_expiry||0,action:e.action||"bought",openDate:e.open_date||(new Date).toISOString()})),j=w.length>0?w:ax,N=o.length>0?o:ix,k=d.length>0?d:ox,S=m.calls>0||m.puts>0,_=[{name:"Calls",value:m.calls,color:"#22c55e"},{name:"Puts",value:m.puts,color:"#ef4444"}],D=j.reduce((e,t)=>e+t.currentPrice*t.quantity*100,0),E=j.reduce((e,t)=>e+t.pnl,0),M=D>0?E/(D-E)*100:0,T=async()=>{try{v(!0);const e=await av.getUserPortfolio();if(e){const t=await av.getStagedOrders(e.id);p(t)}}finally{v(!1)}};return de.useEffect(()=>{const e=()=>T();window.addEventListener("portfolio-updated",e);const t=setInterval(e,3e4);return()=>{window.removeEventListener("portfolio-updated",e),clearInterval(t)}},[]),l.jsx(tx,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:l.jsx(Er,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Total P&L"}),l.jsxs("div",{className:"font-semibold "+(E>=0?"text-green-600":"text-red-600"),children:[E>=0?"+":"","$",E.toFixed(2)]}),l.jsxs("div",{className:"text-xs "+(M>=0?"text-green-600":"text-red-600"),children:[M>=0?"+":"",M.toFixed(2),"%"]})]})]})})}),l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:l.jsx(Hr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Positions"}),l.jsxs("div",{className:"font-semibold",children:[j.length," Active"]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["$",D.toLocaleString()," value"]})]})]})})}),l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:l.jsx(vr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Days to Expiry"}),l.jsxs("div",{className:"font-semibold",children:[j.length>0?Math.round(j.reduce((e,t)=>e+t.daysToExpiry,0)/j.length):0," days"]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.filter(e=>e.daysToExpiry<=30).length," expiring soon"]})]})]})})}),e?l.jsx(cx,{tradesUsed:e.tradesUsedToday,maxTrades:e.maxTradesPerDay}):null,e?l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-rose-100 dark:bg-rose-900/20 rounded-lg flex items-center justify-center",children:l.jsx(Wr,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Max Drawdown"}),l.jsxs("div",{className:"font-semibold",children:[100*(e.maxDrawdownPct??0)<0?0:(100*(e.maxDrawdownPct??0)).toFixed(1),"%"]})]})]})})}):null,e?l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900/20 rounded-lg flex items-center justify-center",children:l.jsx(Hr,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Sharpe Ratio"}),l.jsx("div",{className:"font-semibold",children:(e.sharpe??0).toFixed(2)})]})]})})}):null]}),l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsx(Hg,{className:"text-lg",children:"Pending Orders"})}),l.jsx(Vg,{children:0===f.length?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No staged orders."}):l.jsx("div",{className:"space-y-3",children:f.map(e=>{const t="open"===String(e.auction_slot).toLowerCase()?"open":"close",r="number"==typeof e.time_to_cutoff_sec?Math.floor(e.time_to_cutoff_sec/60):dx(t),n="boolean"==typeof e.cancelable?e.cancelable:r>0;return l.jsxs("div",{className:"flex items-center justify-between border rounded p-3",children:[l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-mono",children:[e.symbol," ",e.option_symbol]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[String(e.side).toUpperCase()," x",e.qty,"  Slot: ",String(e.auction_slot).toUpperCase(),"  Preview: ",e.preview_price?`${Number(e.preview_price).toFixed(2)}`:"","number"==typeof e.estimated_fees?l.jsxs(l.Fragment,{children:[l.jsxs("span",{children:[" ",""," "]}),"number"==typeof e.fees_bps&&"number"==typeof e.fee_per_contract_eur&&"number"==typeof e.notional_eur?l.jsxs(rx,{children:[l.jsx(nx,{asChild:!0,children:l.jsxs("span",{className:"underline decoration-dotted cursor-help",children:["Fees: ",Number(e.estimated_fees).toFixed(2)]})}),l.jsx(sx,{children:l.jsxs("div",{className:"text-xs space-y-1",children:[l.jsx("div",{className:"font-semibold",children:"Estimated fees breakdown"}),l.jsxs("div",{children:["Per-contract: ",Number(e.fee_per_contract_eur).toFixed(2),"  ",Number(e.qty)," = ",(Number(e.fee_per_contract_eur)*Number(e.qty)).toFixed(2)]}),l.jsxs("div",{children:["Ad valorem: ",Number(e.fees_bps)," bps  ",Number(e.notional_eur).toFixed(2)," = ",(Number(e.fees_bps)/1e4*Number(e.notional_eur)).toFixed(2)]}),l.jsx("div",{className:"text-muted-foreground",children:"Actual fees charged at execution"})]})})]}):l.jsxs("span",{children:["Fees: ",Number(e.estimated_fees).toFixed(2)]})]}):null]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Sr,{className:"w-3 h-3"}),n?`${r} min to cutoff`:"Cutoff passed"]}),l.jsx(Gg,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>(async e=>{(await av.cancelOrder(e)).success&&await T()})(e.id),disabled:g||!n,children:"Cancel"})]})]},e.id)})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(Ug,{className:"lg:col-span-2",children:[l.jsx(Wg,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Hg,{className:"text-lg",children:"Portfolio Performance"}),l.jsxs(Kg,{value:t,onValueChange:r,children:[l.jsx(Zg,{className:"w-24 h-8",children:l.jsx(Qg,{})}),l.jsxs(Xg,{children:[l.jsx(Jg,{value:"1d",children:"1D"}),l.jsx(Jg,{value:"7d",children:"7D"}),l.jsx(Jg,{value:"30d",children:"30D"}),l.jsx(Jg,{value:"90d",children:"90D"})]})]})]})}),l.jsx(Vg,{children:l.jsx(tt,{width:"100%",height:250,children:l.jsxs(dt,{data:N,children:[l.jsx(nt,{strokeDasharray:"3 3"}),l.jsx(st,{dataKey:"date",tick:{fontSize:12},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),l.jsx(at,{tick:{fontSize:12}}),l.jsx(it,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:(e,t)=>[`$${e}`,"cumulative"===t?"Total P&L":"Daily P&L"]}),l.jsx(ut,{type:"monotone",dataKey:"cumulative",stroke:"#22c55e",fill:"#22c55e",fillOpacity:.2,strokeWidth:2})]})})})]}),l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsx(Hg,{className:"text-lg",children:"Portfolio Composition"})}),l.jsx(Vg,{children:S?l.jsx(tt,{width:"100%",height:200,children:l.jsxs(mt,{children:[l.jsx(ht,{data:_,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:_.map((e,t)=>l.jsx(ft,{fill:e.color},`cell-${t}`))}),l.jsx(it,{formatter:e=>`${e}%`}),l.jsx(pt,{})]})}):l.jsx("div",{className:"h-[200px] flex items-center justify-center text-sm text-muted-foreground",children:"No options positions yet"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsx(Hg,{className:"text-lg",children:"Active Positions"})}),l.jsx(Vg,{children:l.jsx(lx,{positions:j,onSellAll:async e=>{try{await av.placeOrder({optionSymbol:e.id,ticker:e.symbol,type:e.type,strike:e.strike,expiry:e.expiry,quantity:e.quantity,action:"sell",orderType:"market"});const t=await av.getUserPortfolio();if(t){const e=await av.getUserPositions(t.id);i(e)}}catch(Ly){}},onExercise:async e=>{try{await av.exerciseOption({optionSymbol:e.id,qty:e.quantity});const t=await av.getUserPortfolio();if(t){const e=await av.getUserPositions(t.id);i(e)}}catch(Ly){}}})})]}),l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsx(Hg,{className:"text-lg",children:"Daily Trade Activity"})}),l.jsx(Vg,{children:l.jsx(tt,{width:"100%",height:300,children:l.jsxs(lt,{data:k,children:[l.jsx(nt,{strokeDasharray:"3 3"}),l.jsx(st,{dataKey:"date",tick:{fontSize:12},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),l.jsx(at,{tick:{fontSize:12}}),l.jsx(it,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:e=>[`${e}`,"Trades"]}),l.jsx(ct,{dataKey:"trades",fill:"#3b82f6"})]})})})]})]})]})})}const mx="https://fsqds.yadavkartik-arbeit.workers.dev",hx={htiPlaceOrder:`${mx}/api/hti/place-order`,htiSaveScore:`${mx}/api/hti/save-score`,htiLeaderboard:`${mx}/api/leaderboards/hti`,adxPlaceOrder:`${mx}/api/adx/place-order`,adxSavePrediction:`${mx}/api/adx/save-prediction`,adxLeaderboard:`${mx}/api/leaderboards/adx`,marketOptions:e=>`${mx}/api/market/${e}/options`,health:`${mx}/health`};function fx(e){switch(e){case"diamond":return l.jsx(Dr,{className:"w-4 h-4 text-blue-400"});case"platinum":return l.jsx(qr,{className:"w-4 h-4 text-gray-300"});case"gold":return l.jsx($r,{className:"w-4 h-4 text-yellow-500"});case"silver":return l.jsx(Ar,{className:"w-4 h-4 text-gray-400"});case"bronze":return l.jsx(fr,{className:"w-4 h-4 text-orange-600"});default:return l.jsx(fr,{className:"w-4 h-4 text-gray-500"})}}function px(){const{user:e}=Ga(),[t,r]=de.useState("all"),[n,s]=de.useState("overall"),[a,i]=de.useState([]),[o,c]=de.useState(!0),[d,u]=de.useState(null),[m,h]=de.useState(null),[f,p]=de.useState({users:0,avgReturn:0,topReturn:0,totalVolume:0});return de.useEffect(()=>{(async()=>{var t,r,s;c(!0);try{if("predictions"===n){const{data:t}=await qa.from("seasons").select("id").eq("status","active").single();if(!t)return i([]),void p({users:0,avgReturn:0,topReturn:0,totalVolume:0});const{data:r,error:n}=await qa.from("adx_prediction_scores_season").select("user_id, mse_score, rmse_score, predictions_made, accuracy_percentile, user_profiles(email)").eq("season_id",t.id).order("rmse_score",{ascending:!0,nullsFirst:!1});if(n)return void i([]);const s=(r||[]).map((t,r)=>{var n;const s=t.accuracy_percentile||0;let a="bronze";return s>=95?a="diamond":s>=85?a="platinum":s>=70?a="gold":s>=50&&(a="silver"),{id:t.user_id,email:(null==(n=t.user_profiles)?void 0:n.email)||"Anonymous",rank:r+1,pnlPercent:0,totalPnL:0,portfolioValue:0,tradesCount:0,winRate:0,tier:a,badges:[],isCurrentUser:t.user_id===(null==e?void 0:e.id),rmse:t.rmse_score??void 0,mse:t.mse_score??void 0,predictionsCount:t.predictions_made??0,percentile:s}});i(s);const a=s.length,o=s.reduce((e,t)=>e+(t.rmse||0),0)/(a||1),l=Math.min(...s.map(e=>e.rmse||Number.POSITIVE_INFINITY));return void p({users:a,avgReturn:Math.round(1e3*o)/1e3,topReturn:Math.round(1e3*l)/1e3,totalVolume:s.reduce((e,t)=>e+(t.predictionsCount||0),0)})}let o=[];try{const e=await async function(e,t={}){const r=new Headers(t.headers),n=localStorage.getItem("supabase.auth.token");return n&&r.set("Authorization",`Bearer ${n}`),fetch(e,{...t,headers:r})}(hx.adxLeaderboard),n=await e.json().catch(()=>({ok:!1}));n&&n.ok&&(o=(null==(t=n.data)?void 0:t.rows)||[],u((null==(r=n.data)?void 0:r.generated_at)||null),h("worker"))}catch(a){}if(0===o.length)try{const{data:e}=await qa.functions.invoke("adx_leaderboard",{method:"POST",body:{}});(null==e?void 0:e.ok)&&(o=(null==(s=e.data)?void 0:s.rows)||[],u((new Date).toISOString()),h("edge"))}catch(Ly){return void i([])}const l=o.map((t,r)=>{const n=Number(t.equity||1e5),s="number"==typeof t.pnl_pct?t.pnl_pct:(n-1e5)/1e5*100,a=n-("number"==typeof t.starting_cash?Number(t.starting_cash):1e5),i=t.total_trades||0,o=t.winning_trades||0,l=i>0?o/i*100:0,c=100*(t.max_drawdown_pct??0),d=t.sharpe??0;let u="bronze";s>30?u="diamond":s>20?u="platinum":s>10?u="gold":s>5&&(u="silver");const m=[];return 1===t.rank&&m.push(""),l>80&&m.push(""),s>25&&m.push(""),i>100&&m.push(""),{id:t.user_id,email:t.email||"Anonymous",rank:t.rank,pnlPercent:Math.round(10*s)/10,totalPnL:Math.round(100*a)/100,portfolioValue:Math.round(100*n)/100,tradesCount:i,winRate:Math.round(10*l)/10,tier:u,badges:m,isCurrentUser:t.user_id===(null==e?void 0:e.id),rmse:void 0,mse:void 0,predictionsCount:void 0,percentile:void 0,sharpe:d,maxDrawdownPct:c}});i(l);const c=l.length,d=c?l.reduce((e,t)=>e+t.pnlPercent,0)/c:0,m=c?Math.max(...l.map(e=>e.pnlPercent)):0,f=l.reduce((e,t)=>e+t.portfolioValue,0);p({users:c,avgReturn:Math.round(10*d)/10,topReturn:Math.round(10*m)/10,totalVolume:Math.round(f)})}catch(o){i([])}finally{c(!1)}})()},[e,t,n]),o?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(Ug,{children:l.jsxs(Vg,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Traders"}),l.jsx("div",{className:"text-2xl font-bold",children:f.users})]})}),l.jsx(Ug,{children:l.jsxs(Vg,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Return"}),l.jsxs("div",{className:"text-2xl font-bold",children:[f.avgReturn,"%"]})]})}),l.jsx(Ug,{children:l.jsxs(Vg,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Top Return"}),l.jsxs("div",{className:"text-2xl font-bold",children:[f.topReturn,"%"]})]})}),l.jsx(Ug,{children:l.jsxs(Vg,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Volume"}),l.jsxs("div",{className:"text-2xl font-bold",children:["$",(f.totalVolume/1e6).toFixed(1),"M"]})]})})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Kg,{value:t,onValueChange:r,children:[l.jsx(Zg,{className:"w-40",children:l.jsx(Qg,{placeholder:"Select timeframe"})}),l.jsxs(Xg,{children:[l.jsx(Jg,{value:"all",children:"All Time"}),l.jsx(Jg,{value:"monthly",children:"This Month"}),l.jsx(Jg,{value:"weekly",children:"This Week"}),l.jsx(Jg,{value:"daily",children:"Today"})]})]}),l.jsxs(Kg,{value:n,onValueChange:s,children:[l.jsx(Zg,{className:"w-40",children:l.jsx(Qg,{placeholder:"Select category"})}),l.jsxs(Xg,{children:[l.jsx(Jg,{value:"overall",children:"Overall"}),l.jsx(Jg,{value:"options",children:"Options"}),l.jsx(Jg,{value:"predictions",children:"Predictions"})]})]})]}),l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsxs(Hg,{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx($r,{className:"w-5 h-5"}),"Trading Champions"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[d&&l.jsxs(Sg,{variant:"outline",children:["Updated ",new Date(d).toLocaleString()]}),m&&l.jsx(Sg,{variant:"secondary",children:"worker"===m?"via Cache":"via Edge"})]})]})}),l.jsx(Vg,{className:"p-0",children:l.jsx("div",{className:"divide-y divide-border",children:a.length>0?a.map(e=>{var t;return l.jsx("div",{className:"p-4 transition-all hover:bg-muted/50 "+(e.isCurrentUser?"bg-primary/5":""),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-muted font-bold",children:e.rank<=3?1===e.rank?"":2===e.rank?"":"":`#${e.rank}`}),l.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center",children:l.jsx(Gr,{className:"w-6 h-6 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:e.email}),e.isCurrentUser&&l.jsx(Sg,{variant:"secondary",className:"text-xs",children:"You"}),l.jsx("div",{className:"flex items-center gap-1",children:fx(e.tier)})]}),l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-4 mt-1",children:[l.jsxs("span",{children:[e.tradesCount," trades"]}),l.jsxs("span",{children:[e.winRate,"% win rate"]}),l.jsx("div",{className:"flex gap-1",children:e.badges.map((e,t)=>l.jsx("span",{children:e},t))})]})]})]}),l.jsx("div",{className:"text-right",children:"predictions"===n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-sm",children:["RMSE: ",l.jsx("span",{className:"font-bold",children:(e.rmse??0).toFixed(3)})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Predictions: ",e.predictionsCount||0]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Percentile: ",(null==(t=e.percentile)?void 0:t.toFixed(1))||0,"%"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.pnlPercent>=0?l.jsx(Hr,{className:"w-4 h-4 text-green-500"}):l.jsx(Wr,{className:"w-4 h-4 text-red-500"}),l.jsxs("span",{className:"font-bold text-lg "+(e.pnlPercent>=0?"text-green-500":"text-red-500"),children:[e.pnlPercent>=0?"+":"",e.pnlPercent,"%"]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",e.totalPnL>=0?"+":"",e.totalPnL.toLocaleString()]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Portfolio: $",e.portfolioValue.toLocaleString()]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Sharpe ","sharpe"in e&&"number"==typeof e.sharpe?e.sharpe.toFixed(2):"","  Max DD ","maxDrawdownPct"in e&&"number"==typeof e.maxDrawdownPct?e.maxDrawdownPct.toFixed(1):"","%"]})]})})]})},e.id)}):l.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No traders found. Be the first to start trading!"})})})]})]})}function gx(e,t="Europe/Berlin"){var r,n,s,a,i;const o=new Date,l=new Intl.DateTimeFormat("en-GB",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour12:!1,hour:"2-digit",minute:"2-digit"}).formatToParts(o),c=(null==(r=l.find(e=>"year"===e.type))?void 0:r.value)||"1970",d=(null==(n=l.find(e=>"month"===e.type))?void 0:n.value)||"01",u=(null==(s=l.find(e=>"day"===e.type))?void 0:s.value)||"01",[m,h]=e.split(":"),f=new Date(`${c}-${d}-${u}T${m.padStart(2,"0")}:${h.padStart(2,"0")}:00`),p=new Date(`${c}-${d}-${u}T${((null==(a=l.find(e=>"hour"===e.type))?void 0:a.value)||"00").padStart(2,"0")}:${((null==(i=l.find(e=>"minute"===e.type))?void 0:i.value)||"00").padStart(2,"0")}:00`),g=f.getTime()-p.getTime();return Math.max(0,Math.floor(g/6e4))}function vx(){var e,t;const r="08:55",n="17:25",s=gx(r),a=gx(n),i=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Berlin",hour12:!1,hour:"2-digit",minute:"2-digit"}).formatToParts(new Date),o=60*parseInt((null==(e=i.find(e=>"hour"===e.type))?void 0:e.value)||"0",10)+parseInt((null==(t=i.find(e=>"minute"===e.type))?void 0:t.value)||"0",10),[l,c]=r.split(":").map(e=>parseInt(e,10)),[d,u]=n.split(":").map(e=>parseInt(e,10)),m=60*l+c;return o<=m?{slot:"open",minutesToCutoff:s,openCutoff:r,closeCutoff:n,assignedFor:"today"}:o>m&&o<=60*d+u?{slot:"close",minutesToCutoff:a,openCutoff:r,closeCutoff:n,assignedFor:"today"}:{slot:"open",minutesToCutoff:s,openCutoff:r,closeCutoff:n,assignedFor:"tomorrow"}}function xx(){const[e,t]=de.useState(()=>vx());de.useEffect(()=>{const e=setInterval(()=>t(vx()),3e4);return()=>clearInterval(e)},[]);const{slot:r,minutesToCutoff:n,openCutoff:s,closeCutoff:a,assignedFor:i}=e,o="open"===r?s:a;return l.jsx("div",{className:"mb-4",children:l.jsx(Ug,{className:"border bg-muted/30 p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Sg,{variant:"open"===r?"default":"secondary",className:"text-xs",children:["Next auction: ",r.toUpperCase()," (",i,")"]}),l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[l.jsx(Sr,{className:"w-4 h-4"}),n," min to cutoff  Berlin cutoff ",o]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Orders placed now will be staged for the ",r," auction."]})]})})})}function yx({children:e,publicContent:t,requireAdmin:r=!1}){const{user:n,isAdmin:s}=Ga();return n?r&&!s?null:l.jsx(l.Fragment,{children:e}):l.jsx(l.Fragment,{children:t})||null}function bx({metrics:e}){var t;const r=e.tradesUsedToday/e.maxTradesPerDay*100,n=e.marginUsed/(e.marginUsed+e.marginAvailable)*100;return l.jsx("div",{className:"bg-card border rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:l.jsx(Qr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Account Balance"}),l.jsxs("div",{className:"font-semibold",children:["$",e.accountBalance.toLocaleString()]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:l.jsx(Hr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Portfolio Value"}),l.jsxs("div",{className:"font-semibold",children:["$",e.portfolioValue.toLocaleString()]}),l.jsxs("div",{className:"text-xs "+(e.todaysPnL>=0?"text-green-600":"text-red-600"),children:[e.todaysPnL>=0?"+":"","$",e.todaysPnL.toFixed(2)," today"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:l.jsx(hr,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Daily Trades"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-semibold",children:[e.tradesUsedToday,"/",e.maxTradesPerDay]}),l.jsxs(Sg,{variant:r>80?"destructive":r>60?"secondary":"default",className:"text-xs",children:[Math.round(r),"%"]})]}),l.jsx(Bg,{value:r,className:"h-1.5 mt-1"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:l.jsx(Yr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Buying Power"}),l.jsxs("div",{className:"font-semibold text-sm",children:["$",e.dayTradingPower.toLocaleString()]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.toFixed(1),"% margin used"]}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Sharpe ",(null==(t=e.sharpe)?void 0:t.toFixed(2))??"0.00","  Max DD ",(e.maxDrawdownPct??0).toFixed(1),"%"]})]})]})]})})}function wx(){const{user:e}=Ga(),[t,r]=de.useState(e?"trading":"leaderboard"),[n,s]=de.useState(null),[a,i]=de.useState(!0);return de.useEffect(()=>{e||"leaderboard"===t||r("leaderboard")},[e]),de.useEffect(()=>{const t=async()=>{if(e)try{await av.getUserPortfolio();const e=await av.getTradingMetrics();s(e)}catch(t){}finally{i(!1)}else i(!1)};t();const r=setInterval(t,3e4),n=()=>t();return"undefined"!=typeof window&&window.addEventListener("portfolio-updated",n),()=>{clearInterval(r),"undefined"!=typeof window&&window.removeEventListener("portfolio-updated",n)}},[e]),l.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[l.jsx(yx,{children:n?l.jsx(bx,{metrics:n}):null}),l.jsx(xx,{}),l.jsxs(bg,{value:t,onValueChange:r,className:"w-full",children:[l.jsxs(wg,{className:`grid w-full ${e?"grid-cols-4":"grid-cols-1"} max-w-2xl`,children:[e&&l.jsxs(l.Fragment,{children:[l.jsxs(jg,{value:"trading",className:"flex items-center gap-2",children:[l.jsx(hr,{className:"w-4 h-4"}),"Trading"]}),l.jsxs(jg,{value:"predictions",className:"flex items-center gap-2",children:[l.jsx(xr,{className:"w-4 h-4"}),"Predictions"]}),l.jsxs(jg,{value:"portfolio",className:"flex items-center gap-2",children:[l.jsx(Hr,{className:"w-4 h-4"}),"Portfolio"]})]}),l.jsxs(jg,{value:"leaderboard",className:"flex items-center gap-2",children:[l.jsx($r,{className:"w-4 h-4"}),"Leaderboard"]})]}),e&&l.jsxs(l.Fragment,{children:[l.jsx(Ng,{value:"trading",className:"mt-6",children:l.jsx(uv,{})}),l.jsx(Ng,{value:"predictions",className:"mt-6",children:l.jsx(Mv,{})}),l.jsx(Ng,{value:"portfolio",className:"mt-6",children:l.jsx(ux,{metrics:n??void 0})})]}),l.jsx(Ng,{value:"leaderboard",className:"mt-6",children:l.jsx(px,{})})]})]})}function jx({className:e,...t}){return l.jsx($,{"data-slot":"label",className:yg("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Nx({className:e,...t}){return l.jsx("textarea",{"data-slot":"textarea",className:yg("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var kx="Radio",[Sx,_x]=d(kx),[Dx,Ex]=Sx(kx),Mx=de.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:i,value:o="on",onCheck:c,form:d,...m}=e,[f,p]=de.useState(null),g=u(t,e=>p(e)),v=de.useRef(!1),y=!f||d||!!f.closest("form");return l.jsxs(Dx,{scope:r,checked:s,disabled:i,children:[l.jsx(h.button,{type:"button",role:"radio","aria-checked":s,"data-state":Px(s),"data-disabled":i?"":void 0,disabled:i,value:o,...m,ref:g,onClick:x(e.onClick,e=>{s||null==c||c(),y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),y&&l.jsx(Ox,{control:f,bubbles:!v.current,name:n,value:o,checked:s,required:a,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});Mx.displayName=kx;var Tx="RadioIndicator",Cx=de.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=Ex(Tx,r);return l.jsx(g,{present:n||a.checked,children:l.jsx(h.span,{"data-state":Px(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});Cx.displayName=Tx;var Ox=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=de.useRef(null),i=ne(r),o=se(t);return de.useEffect(()=>{const e=a.current,t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==r&&s){const t=new Event("click",{bubbles:n});s.call(e,r),e.dispatchEvent(t)}},[i,r,n]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Px(e){return e?"checked":"unchecked"}var Ax=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rx="RadioGroup",[Ix,Fx]=d(Rx,[ae,_x]),Lx=ae(),Yx=_x(),[zx,qx]=Ix(Rx),Bx=de.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:i=!1,disabled:o=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...f}=e,g=Lx(r),v=ie(d),[x,y]=p({prop:a,defaultProp:s,onChange:m});return l.jsx(zx,{scope:r,name:n,required:i,disabled:o,value:x,onValueChange:y,children:l.jsx(oe,{asChild:!0,...g,orientation:c,dir:v,loop:u,children:l.jsx(h.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":o?"":void 0,dir:v,...f,ref:t})})})});Bx.displayName=Rx;var Ux="RadioGroupItem",Wx=de.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=qx(Ux,r),i=a.disabled||n,o=Lx(r),c=Yx(r),d=de.useRef(null),m=u(t,d),h=a.value===s.value,f=de.useRef(!1);return de.useEffect(()=>{const e=e=>{Ax.includes(e.key)&&(f.current=!0)},t=()=>f.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),l.jsx(le,{asChild:!0,...o,focusable:!i,active:h,children:l.jsx(Mx,{disabled:i,required:a.required,checked:h,...c,...s,name:a.name,ref:m,onCheck:()=>a.onValueChange(s.value),onKeyDown:x(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:x(s.onFocus,()=>{var e;f.current&&(null==(e=d.current)||e.click())})})})});Wx.displayName=Ux;var Hx=de.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Yx(r);return l.jsx(Cx,{...s,...n,ref:t})});Hx.displayName="RadioGroupIndicator";var Vx=Bx,$x=Wx,Gx=Hx;function Kx({className:e,...t}){return l.jsx(Vx,{"data-slot":"radio-group",className:yg("grid gap-3",e),...t})}function Qx({className:e,...t}){return l.jsx($x,{"data-slot":"radio-group-item",className:yg("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Gx,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:l.jsx(kr,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Zx="https://mskpxebbscvisxcceiwx.supabase.co",Xx=new class{async getAuthToken(){const{data:{session:e}}=await qa.auth.getSession();return(null==e?void 0:e.access_token)||null}async getHTILeaderboard(){const{data:e,error:t}=await qa.from("hti_leaderboard").select("*").limit(100);if(!t&&e)return{ok:!0,rows:e.map(e=>({rank:e.rank,user_id:e.user_id,display_name:e.username||e.email||"Anonymous",total_score:e.total_points||0,questions_answered:e.questions_answered||0,correct_answers:e.correct_answers||0})),lastUpdated:(new Date).toISOString()};const{data:r}=await qa.from("hti_submissions").select("\n        user_id,\n        points,\n        is_correct,\n        user_profiles!inner(username, email)\n      ");if(!r)return{ok:!1,error:"Failed to fetch leaderboard data"};const n=r.reduce((e,t)=>{var r,n;return e[t.user_id]||(e[t.user_id]={user_id:t.user_id,display_name:(null==(r=t.user_profiles)?void 0:r.username)||(null==(n=t.user_profiles)?void 0:n.email)||"Anonymous",total_score:0,questions_answered:0,correct_answers:0}),e[t.user_id].total_score+=t.points||0,e[t.user_id].questions_answered+=1,t.is_correct&&(e[t.user_id].correct_answers+=1),e},{});return{ok:!0,rows:Object.values(n).sort((e,t)=>t.total_score-e.total_score).map((e,t)=>({...e,rank:t+1})).slice(0,100),lastUpdated:(new Date).toISOString()}}async getADXLeaderboard(){const{data:e,error:t}=await qa.from("adx_leaderboard").select("*").limit(100);if(!t&&e)return{ok:!0,rows:e.map(e=>({rank:e.rank,user_id:e.user_id,display_name:e.username||e.email||"Anonymous",total_pnl:(e.current_value||e.starting_cash||1e5)-(e.starting_cash||1e5),total_value:e.current_value||e.starting_cash||1e5,win_rate:e.winning_trades&&e.total_trades?e.winning_trades/e.total_trades*100:0,num_trades:e.total_trades||0})),lastUpdated:(new Date).toISOString()};const{data:r}=await qa.from("seasons").select("id").eq("status","active").single();if(!r)return{ok:!1,error:"No active season found"};const{data:n}=await qa.from("adx_portfolios").select("\n        *,\n        user_profiles!inner(username, email)\n      ").eq("season_id",r.id);return n?{ok:!0,rows:n.map(e=>{var t,r;return{rank:0,user_id:e.user_id,display_name:(null==(t=e.user_profiles)?void 0:t.username)||(null==(r=e.user_profiles)?void 0:r.email)||"Anonymous",total_pnl:(e.current_value||e.starting_cash)-e.starting_cash,total_value:e.current_value||e.starting_cash,win_rate:0,num_trades:0}}).sort((e,t)=>t.total_pnl-e.total_pnl).map((e,t)=>({...e,rank:t+1})).slice(0,100),lastUpdated:(new Date).toISOString()}:{ok:!1,error:"Failed to fetch portfolios"}}async getHTIQuestions(){const e=(new Date).toISOString(),{data:{user:t}}=await qa.auth.getUser(),{data:r,error:n}=await qa.from("hti_questions").select("id, season_id, n, kind, choices, correct, release_at, is_active, points").eq("is_active",!0).lte("release_at",e).order("n",{ascending:!0});if(n)return{ok:!1,error:n.message};let s=[];if(t){const{data:e}=await qa.from("hti_submissions").select("question_id").eq("user_id",t.id);e&&(s=e.map(e=>e.question_id))}return{ok:!0,questions:(null==r?void 0:r.map(e=>{let t="",r=[],n=e.choices;if("string"==typeof e.choices)try{n=JSON.parse(e.choices)}catch(Ly){}n&&"object"==typeof n&&(n.question?(t=n.question,r=n.options||[]):n.text?(t=n.text,r=n.options||[]):Array.isArray(n)&&(r=n,t=`Question ${e.n}`));let a=e.correct;if("string"==typeof e.correct)try{a=JSON.parse(e.correct)}catch(Ly){}return{...e,answered:s.includes(e.id),locked:!1,points:e.points??10,question_text:t,choices:r,correct_answer:a}}))||[]}}async submitHTIAnswer(e,t){const r=await this.getAuthToken();if(!r)return{ok:!1,error:"Authentication required"};let n;n="number"==typeof t&&Number.isInteger(t)&&t>=0&&t<20?{value:{index:t}}:"number"==typeof t||"string"==typeof t?{value:t}:"object"==typeof t&&null!==t?t:{value:t};const s="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"dev-bypass-token":void 0,a=await fetch(`${Zx}/functions/v1/hti_submit_answer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({questionId:e,answer:n,turnstileToken:s})}),i=await a.json();return i.ok&&i.data?{ok:!0,data:{isCorrect:i.data.is_correct,points:i.data.points}}:i}async getADXPortfolio(){const{data:{user:e}}=await qa.auth.getUser();if(!e)return{ok:!1,error:"Authentication required"};const{data:t}=await qa.from("seasons").select("id").eq("status","active").single(),{data:r,error:n}=await qa.from("adx_portfolios").select("*").eq("user_id",e.id).eq("season_id",null==t?void 0:t.id).maybeSingle();let s=[];if(r){const{data:e}=await qa.from("adx_positions").select("*").eq("portfolio_id",r.id);s=e||[]}const{data:a}=await qa.from("adx_revenue_predictions").select("*").eq("user_id",e.id);return{ok:!n||"PGRST116"===n.code,data:{portfolio:r||{cash:1e5,total_value:1e5},positions:s||[],predictions:a||[]},error:n&&"PGRST116"!==n.code?n.message:void 0}}async placeADXOrder(e){const t=await this.getAuthToken();return t?(await fetch(`${Zx}/functions/v1/adx_place_order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)})).json():{ok:!1,error:"Authentication required"}}async saveADXPrediction(e){const t=await this.getAuthToken();if(!t)return{ok:!1,error:"Authentication required"};const{data:r}=await qa.from("seasons").select("id").eq("status","active").single();if(!r)return{ok:!1,error:"No active season"};const n={seasonId:r.id,symbol:e.ticker,value:e.prediction,turnstileToken:void 0};return(await fetch(`${Zx}/functions/v1/adx_save_prediction`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)})).json()}async isAdmin(){const{data:{user:e}}=await qa.auth.getUser();if(!e)return!1;const{data:t}=await qa.from("user_profiles").select("is_admin").eq("user_id",e.id).single();return(null==t?void 0:t.is_admin)||!1}async getAdminQuestions(){if(!(await this.isAdmin()))return{ok:!1,error:"Admin access required"};const{data:e,error:t}=await qa.from("hti_questions").select("*").order("n",{ascending:!0});return{ok:!t,data:e||[],error:null==t?void 0:t.message}}async saveAdminQuestion(e){if(!(await this.isAdmin()))return{ok:!1,error:"Admin access required"};if(e.id){const{error:t}=await qa.from("hti_questions").update(e).eq("id",e.id);return{ok:!t,error:null==t?void 0:t.message}}{const{error:t}=await qa.from("hti_questions").insert(e);return{ok:!t,error:null==t?void 0:t.message}}}async deleteAdminQuestion(e){if(!(await this.isAdmin()))return{ok:!1,error:"Admin access required"};const{error:t}=await qa.from("hti_questions").delete().eq("id",e);return{ok:!t,error:null==t?void 0:t.message}}};var Jx={};!function e(t,r,n,s){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i="function"==typeof Path2D&&"function"==typeof DOMMatrix;function o(){}function l(e){var n=r.exports.Promise,s=void 0!==n?n:t.Promise;return"function"==typeof s?new s(e):(e(o,o),null)}var c,d,u,m,h,f,p=function(e,t){return{transform:function(r){if(e)return r;if(t.has(r))return t.get(r);var n=new OffscreenCanvas(r.width,r.height);return n.getContext("2d").drawImage(r,0,0),t.set(r,n),n},clear:function(){t.clear()}}}(function(){if(!t.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),r=e.getContext("2d");r.fillRect(0,0,1,1);var n=e.transferToImageBitmap();try{r.createPattern(n,"no-repeat")}catch(Ly){return!1}return!0}(),new Map),g=(u=Math.floor(1e3/60),m={},h=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(c=function(e){var t=Math.random();return m[t]=requestAnimationFrame(function r(n){h===n||h+u-1<n?(h=n,delete m[t],e()):m[t]=requestAnimationFrame(r)}),t},d=function(e){m[e]&&cancelAnimationFrame(m[e])}):(c=function(e){return setTimeout(e,u)},d=function(e){return clearTimeout(e)}),{frame:c,cancel:d}),v=function(){var t,r,s={};return function(){if(t)return t;if(!n&&a){var i=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([i])))}catch(Ly){return void 0!==typeof console&&console.warn,null}!function(e){function t(t,r){e.postMessage({options:t||{},callback:r})}e.init=function(t){var r=t.transferControlToOffscreen();e.postMessage({canvas:r},[r])},e.fire=function(n,a,i){if(r)return t(n,null),r;var o=Math.random().toString(36).slice(2);return r=l(function(a){function l(t){t.data.callback===o&&(delete s[o],e.removeEventListener("message",l),r=null,p.clear(),i(),a())}e.addEventListener("message",l),t(n,o),s[o]=l.bind(null,{data:{callback:o}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),s)s[t](),delete s[t]}}(t)}return t}}(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(e,t,r){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:x[t],r)}function b(e){return e<0?0:Math.floor(e)}function w(e,t){return Math.floor(Math.random()*(t-e))+e}function j(e){return parseInt(e,16)}function N(e){return e.map(k)}function k(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:j(t.substring(0,2)),g:j(t.substring(2,4)),b:j(t.substring(4,6))}}function S(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function _(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function D(e){var t=e.angle*(Math.PI/180),r=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*r-Math.random()*r),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function E(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var r=t.tick++/t.totalTicks,n=t.x+t.random*t.tiltCos,s=t.y+t.random*t.tiltSin,a=t.wobbleX+t.random*t.tiltCos,o=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-r)+")",e.beginPath(),i&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,r,n,s,a,i){var o=new Path2D(e),l=new Path2D;l.addPath(o,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(i)*s,Math.sin(i)*s,-Math.sin(i)*a,Math.cos(i)*a,r,n])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(a-n),.1*Math.abs(o-s),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(a-n),d=.1*Math.abs(o-s),u=t.shape.bitmap.width*t.scalar,m=t.shape.bitmap.height*t.scalar,h=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*d,Math.cos(l)*d,t.x,t.y]);h.multiplySelf(new DOMMatrix(t.shape.matrix));var f=e.createPattern(p.transform(t.shape.bitmap),"no-repeat");f.setTransform(h),e.globalAlpha=1-r,e.fillStyle=f,e.fillRect(t.x-u/2,t.y-m/2,u,m),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(a-n)*t.ovalScalar,Math.abs(o-s)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,r,n,s,a,i,o,l){e.save(),e.translate(t,r),e.rotate(a),e.scale(n,s),e.arc(0,0,1,i,o,l),e.restore()}(e,t.x,t.y,Math.abs(a-n)*t.ovalScalar,Math.abs(o-s)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var g=Math.PI/2*3,v=4*t.scalar,x=8*t.scalar,y=t.x,b=t.y,w=5,j=Math.PI/w;w--;)y=t.x+Math.cos(g)*x,b=t.y+Math.sin(g)*x,e.lineTo(y,b),g+=j,y=t.x+Math.cos(g)*v,b=t.y+Math.sin(g)*v,e.lineTo(y,b),g+=j;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(s)),e.lineTo(Math.floor(a),Math.floor(o)),e.lineTo(Math.floor(n),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function M(e,r){var i,o=!e,c=!!y(r||{},"resize"),d=!1,u=y(r,"disableForReducedMotion",Boolean),m=a&&y(r||{},"useWorker")?v():null,h=o?S:_,f=!(!e||!m||!e.__confetti_initialized),x="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function j(t,r,a){for(var o=y(t,"particleCount",b),c=y(t,"angle",Number),d=y(t,"spread",Number),u=y(t,"startVelocity",Number),m=y(t,"decay",Number),f=y(t,"gravity",Number),v=y(t,"drift",Number),x=y(t,"colors",N),j=y(t,"ticks",Number),k=y(t,"shapes"),S=y(t,"scalar"),_=!!y(t,"flat"),M=function(e){var t=y(e,"origin",Object);return t.x=y(t,"x",Number),t.y=y(t,"y",Number),t}(t),T=o,C=[],O=e.width*M.x,P=e.height*M.y;T--;)C.push(D({x:O,y:P,angle:c,spread:d,startVelocity:u,color:x[T%x.length],shape:k[w(0,k.length)],ticks:j,decay:m,gravity:f,drift:v,scalar:S,flat:_}));return i?i.addFettis(C):(i=function(e,t,r,a,i){var o,c,d=t.slice(),u=e.getContext("2d"),m=l(function(t){function l(){o=c=null,u.clearRect(0,0,a.width,a.height),p.clear(),i(),t()}o=g.frame(function t(){!n||a.width===s.width&&a.height===s.height||(a.width=e.width=s.width,a.height=e.height=s.height),a.width||a.height||(r(e),a.width=e.width,a.height=e.height),u.clearRect(0,0,a.width,a.height),(d=d.filter(function(e){return E(u,e)})).length?o=g.frame(t):l()}),c=l});return{addFettis:function(e){return d=d.concat(e),m},canvas:e,promise:m,reset:function(){o&&g.cancel(o),c&&c()}}}(e,C,h,r,a),i.promise)}function k(r){var n=u||y(r,"disableForReducedMotion",Boolean),s=y(r,"zIndex",Number);if(n&&x)return l(function(e){e()});o&&i?e=i.canvas:o&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(s),document.body.appendChild(e)),c&&!f&&h(e);var a={width:e.width,height:e.height};function p(){if(m){var t={getBoundingClientRect:function(){if(!o)return e.getBoundingClientRect()}};return h(t),void m.postMessage({resize:{width:t.width,height:t.height}})}a.width=a.height=null}function g(){i=null,c&&(d=!1,t.removeEventListener("resize",p)),o&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,f=!1)}return m&&!f&&m.init(e),f=!0,m&&(e.__confetti_initialized=!0),c&&!d&&(d=!0,t.addEventListener("resize",p,!1)),m?m.fire(r,a,g):j(r,a,g)}return k.reset=function(){m&&m.reset(),i&&i.reset()},k}function T(){return f||(f=M(null,{useWorker:!0,resize:!0})),f}r.exports=function(){return T().apply(this,arguments)},r.exports.reset=function(){T().reset()},r.exports.create=M,r.exports.shapeFromPath=function(e){if(!i)throw new Error("path confetti are not supported in this browser");var t,r;"string"==typeof e?t=e:(t=e.path,r=e.matrix);var n=new Path2D(t),s=document.createElement("canvas").getContext("2d");if(!r){for(var a,o,l=1e3,c=l,d=l,u=0,m=0,h=0;h<l;h+=2)for(var f=0;f<l;f+=2)s.isPointInPath(n,h,f,"nonzero")&&(c=Math.min(c,h),d=Math.min(d,f),u=Math.max(u,h),m=Math.max(m,f));a=u-c,o=m-d;var p=Math.min(10/a,10/o);r=[p,0,0,p,-Math.round(a/2+c)*p,-Math.round(o/2+d)*p]}return{type:"path",path:t,matrix:r}},r.exports.shapeFromText=function(e){var t,r=1,n="#000000",s='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,r="scalar"in e?e.scalar:r,s="fontFamily"in e?e.fontFamily:s,n="color"in e?e.color:n);var a=10*r,i=a+"px "+s,o=new OffscreenCanvas(a,a),l=o.getContext("2d");l.font=i;var c=l.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),u=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),m=c.actualBoundingBoxLeft+2,h=c.actualBoundingBoxAscent+2;d+=4,u+=4,(l=(o=new OffscreenCanvas(d,u)).getContext("2d")).font=i,l.fillStyle=n,l.fillText(t,m,h);var f=1/r;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[f,0,0,f,-d*f/2,-u*f/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),Jx,!1);const ey=Jx.exports;function ty(e){switch(e){case"technical":return l.jsx(_r,{className:"w-4 h-4"});case"behavioral":return l.jsx(Kr,{className:"w-4 h-4"});case"system-design":return l.jsx($r,{className:"w-4 h-4"});case"case-study":return l.jsx(gr,{className:"w-4 h-4"});default:return l.jsx(pr,{className:"w-4 h-4"})}}function ry(e){switch(e){case"easy":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"hard":return"text-red-600 bg-red-100 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}}function ny({question:e,onSubmitAnswer:t}){const[r,n]=de.useState(""),[s,a]=de.useState(""),[i,o]=de.useState(""),[c,d]=de.useState(e.answered||!1);return l.jsxs(Ug,{className:"overflow-hidden",children:[l.jsxs(Wg,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[ty(e.category),l.jsx(Sg,{variant:"outline",className:"text-xs capitalize",children:e.category.replace("-"," ")}),l.jsx(Sg,{className:`text-xs capitalize ${ry(e.difficulty)}`,children:e.difficulty}),l.jsx(Sg,{variant:"secondary",className:"text-xs",children:e.responseType.replace("-"," ")})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[l.jsx($r,{className:"w-3 h-3"}),e.points," pts"]})]}),l.jsx(Hg,{className:"text-lg",children:e.title})]}),l.jsxs(Vg,{className:"space-y-4",children:[l.jsx("div",{className:"p-4 bg-muted/20 rounded-lg",children:l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.question})}),c||e.answered?l.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm mb-2",children:[l.jsx(Nr,{className:"w-4 h-4"}),"Answer submitted successfully!"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Your answer is being reviewed and will be scored shortly."})]}):l.jsxs("div",{className:"space-y-3",children:[(()=>{var t;switch(e.responseType){case"text":return l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{children:[l.jsx(jx,{htmlFor:`answer-${e.id}`,className:"text-sm",children:"Your Answer"}),l.jsx(Nx,{id:`answer-${e.id}`,placeholder:"Type your answer here...",value:r,onChange:e=>n(e.target.value),className:"mt-1 min-h-32"})]})});case"number":return l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{children:[l.jsx(jx,{htmlFor:`answer-${e.id}`,className:"text-sm",children:"Your Answer (Number)"}),l.jsx(mv,{id:`answer-${e.id}`,type:"number",placeholder:"Enter a number...",value:s,onChange:e=>a(e.target.value),className:"mt-1"})]})});case"multiple-choice":return l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{children:[l.jsx(jx,{className:"text-sm",children:"Select your answer:"}),l.jsx(Kx,{value:i,onValueChange:o,className:"mt-2",children:null==(t=e.multipleChoiceOptions)?void 0:t.map((e,t)=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qx,{value:e,id:`option-${t}`,className:"border-2 border-muted-foreground/30 data-[state=checked]:border-primary data-[state=checked]:bg-primary"}),l.jsx(jx,{htmlFor:`option-${t}`,className:"text-sm cursor-pointer",children:e})]},t))})]})});default:return null}})(),l.jsx(Gg,{onClick:()=>{let n="";switch(e.responseType){case"text":n=r.trim();break;case"number":n=parseFloat(s);break;case"multiple-choice":n=i}let a=!1;"text"===e.responseType&&"string"==typeof n&&n.length>0?a=!0:"number"!==e.responseType||"number"!=typeof n||isNaN(n)?"multiple-choice"===e.responseType&&""!==n&&(a=!0):a=!0,a&&(t(e.id,n),d(!0))},disabled:!(()=>{switch(e.responseType){case"text":return r.trim().length>0;case"number":return s.trim().length>0&&!isNaN(parseFloat(s));case"multiple-choice":return i.length>0;default:return!1}})(),className:"w-full",children:"Submit Answer"})]})]})]})}function sy({userId:e}){const[t,r]=de.useState({totalQuestions:0,totalPoints:0,rank:0}),[n,s]=de.useState(!0);return de.useEffect(()=>{(async()=>{if(e)try{const{data:t,error:n}=await qa.from("user_profiles").select("hti_score").eq("user_id",e).single();if(n)return void s(!1);const{count:a,error:i}=await qa.from("hti_submissions").select("*",{count:"exact",head:!0}).eq("user_id",e),{data:o,error:l}=await qa.from("user_profiles").select("user_id, hti_score").order("hti_score",{ascending:!1}).not("hti_score","is",null);let c=0;if(!l&&o){const t=o.findIndex(t=>t.user_id===e);c=t>=0?t+1:0}r({totalQuestions:a||0,totalPoints:(null==t?void 0:t.hti_score)||0,rank:c})}catch(t){}finally{s(!1)}else s(!1)})()},[e]),n?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 mb-6",children:[l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsx("div",{className:"h-16 animate-pulse bg-gray-200 dark:bg-gray-700 rounded"})})}),l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsx("div",{className:"h-16 animate-pulse bg-gray-200 dark:bg-gray-700 rounded"})})})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 mb-6",children:[l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:l.jsx($r,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Points"}),l.jsx("div",{className:"font-semibold",children:t.totalPoints}),l.jsx("div",{className:"text-xs text-muted-foreground",children:t.rank>0?`Rank #${t.rank}`:"Unranked"})]})]})})}),l.jsx(Ug,{children:l.jsx(Vg,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:l.jsx(Rr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Questions"}),l.jsx("div",{className:"font-semibold",children:t.totalQuestions}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"answered"})]})]})})})]})}function ay(){const{user:e}=Ga(),[t,r]=de.useState(e?"practice":"leaderboard"),[n,s]=de.useState("all"),[a,i]=de.useState("all");de.useState(new Map);const[o,c]=de.useState([]),[d,u]=de.useState([]),[m,h]=de.useState([]),[f,p]=de.useState(!0);de.useEffect(()=>{(async()=>{p(!0);try{const t=await Xx.getHTIQuestions();if(t.ok&&t.questions){const e=t.questions.map((e,t)=>{const r=e.question_text||"No question text available",n=e.choices||[];let s,a="text";return"mcq"===e.kind?a="multiple-choice":"number"===e.kind?a="number":"string"===e.kind&&(a="text"),"mcq"===e.kind&&n&&n.length>0&&(s=n.map(e=>"object"==typeof e&&e.label?e.label:String(e))),{id:e.id,category:"technical",difficulty:e.points>=20?"hard":e.points>=15?"medium":"easy",title:`Question ${e.n}`,question:r,responseType:a,correctAnswer:e.correct_answer,multipleChoiceOptions:s,points:e.points||10,answered:e.answered||!1}});c(e)}const{data:r,error:n}=await qa.from("user_profiles").select("user_id, email, hti_score").order("hti_score",{ascending:!1}).not("hti_score","is",null).limit(20);if(!n&&r){const e=await Promise.all(r.map(async(e,t)=>{const{count:r}=await qa.from("hti_submissions").select("*",{count:"exact",head:!0}).eq("user_id",e.user_id);return{id:e.user_id,username:e.email||"Anonymous",points:e.hti_score||0,questionsAnswered:r||0,rank:t+1,badge:0===t?"":1===t?"":2===t?"":""}}));u(e)}if(e){const{data:t}=await qa.from("hti_submissions").select("*").eq("user_id",e.id);if(t){h(t);const e=new Set(t.map(e=>e.question_id));c(t=>t.map(t=>({...t,answered:e.has(t.id)})))}}}catch(t){Fa.error("Failed to load questions and leaderboard")}finally{p(!1)}})()},[e]);const g=async(t,r)=>{var n;if(e)try{const s=o.find(e=>e.id===t);if(!s)return;let a;a="multiple-choice"===s.responseType?null==(n=s.multipleChoiceOptions)?void 0:n.findIndex(e=>e===r):"number"===s.responseType?Number(r):String(r);const i=await Xx.submitHTIAnswer(t,a);if(i.ok&&i.data){const r=i.data.isCorrect||i.data.is_correct,n=i.data.points||0;r?(Fa.success(`Correct! You earned ${n} points`),ey({particleCount:100,spread:70,origin:{y:.6}})):Fa.error("Incorrect answer. Try again next time!"),c(e=>e.map(e=>e.id===t?{...e,answered:!0}:e)),h(s=>[...s,{question_id:t,user_id:e.id,is_correct:r,points:n,submitted_at:(new Date).toISOString()}]),setTimeout(async()=>{const{data:e}=await qa.from("user_profiles").select("user_id, email, hti_score").order("hti_score",{ascending:!1}).not("hti_score","is",null).limit(20);if(e){const t=await Promise.all(e.map(async(e,t)=>{const{count:r}=await qa.from("hti_submissions").select("*",{count:"exact",head:!0}).eq("user_id",e.user_id);return{id:e.user_id,username:e.email||"Anonymous",points:e.hti_score||0,questionsAnswered:r||0,rank:t+1,badge:0===t?"":1===t?"":2===t?"":""}}));u(t)}},500)}else Fa.error(i.error||"Failed to submit answer")}catch(s){Fa.error("Failed to submit answer. Please try again.")}else Fa.error("Please sign in to submit answers")};me.useEffect(()=>{e||"practice"!==t||r("leaderboard")},[e]);const v=o.filter(e=>{const t="all"===n||e.category===n,r="all"===a||e.responseType===a;return t&&r});return l.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[l.jsx(yx,{children:l.jsx(sy,{userId:null==e?void 0:e.id})}),l.jsxs(bg,{value:t,onValueChange:r,className:"w-full",children:[l.jsxs(wg,{className:`grid w-full ${e?"grid-cols-2":"grid-cols-1"} max-w-md`,children:[e&&l.jsxs(jg,{value:"practice",className:"flex items-center gap-2",children:[l.jsx(pr,{className:"w-4 h-4"}),"Practice"]}),l.jsxs(jg,{value:"leaderboard",className:"flex items-center gap-2",children:[l.jsx($r,{className:"w-4 h-4"}),"Leaderboard"]})]}),e&&l.jsx(Ng,{value:"practice",className:"mt-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Practice Questions"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Kg,{value:n,onValueChange:s,children:[l.jsx(Zg,{className:"w-48",children:l.jsx(Qg,{placeholder:"Select category"})}),l.jsxs(Xg,{children:[l.jsx(Jg,{value:"all",children:"All Categories"}),l.jsx(Jg,{value:"technical",children:"Technical"}),l.jsx(Jg,{value:"behavioral",children:"Behavioral"}),l.jsx(Jg,{value:"system-design",children:"System Design"}),l.jsx(Jg,{value:"case-study",children:"Case Study"})]})]}),l.jsxs(Kg,{value:a,onValueChange:i,children:[l.jsx(Zg,{className:"w-48",children:l.jsx(Qg,{placeholder:"Response type"})}),l.jsxs(Xg,{children:[l.jsx(Jg,{value:"all",children:"All Types"}),l.jsx(Jg,{value:"text",children:"Free Text"}),l.jsx(Jg,{value:"number",children:"Number"}),l.jsx(Jg,{value:"multiple-choice",children:"Multiple Choice"})]})]})]})]}),f?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):v.length>0?l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:v.map(e=>l.jsx(ny,{question:e,onSubmitAnswer:g},e.id))}):l.jsx(Ug,{children:l.jsxs(Vg,{className:"p-8 text-center",children:[l.jsx(gr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No questions available at the moment. Check back later!"})]})})]})}),l.jsx(Ng,{value:"leaderboard",className:"mt-6",children:l.jsxs(Ug,{children:[l.jsx(Wg,{children:l.jsxs(Hg,{className:"flex items-center gap-2",children:[l.jsx($r,{className:"w-5 h-5"}),"Interview Champions"]})}),l.jsx(Vg,{children:f?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):l.jsx("div",{className:"space-y-3",children:d.length>0?d.map(t=>l.jsx("div",{className:"p-4 rounded-lg border transition-all hover:shadow-md "+(t.id===(null==e?void 0:e.id)?"bg-primary/5 border-primary/20 ring-2 ring-primary/10":"bg-card"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-muted font-semibold",children:["#",t.rank]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:t.username}),t.id===(null==e?void 0:e.id)&&l.jsx(Sg,{variant:"secondary",className:"text-xs",children:"You"}),l.jsx("span",{className:"text-lg",children:t.badge})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.questionsAnswered," questions answered"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold",children:[t.points," points"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total score"})]})]})},t.id)):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No participants yet. Be the first to answer questions!"})})})]})})]})]})}function iy(){const[e,t]=de.useState("trading");return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("div",{className:"border-b bg-card",children:l.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"FS QDS Battleground"}),l.jsx("p",{className:"text-muted-foreground text-lg",children:"Master trading and interview skills"})]})}),l.jsx(bg,{value:e,onValueChange:t,className:"w-full",children:l.jsxs(wg,{className:"grid w-full grid-cols-2 max-w-md h-12",children:[l.jsxs(jg,{value:"trading",className:"flex items-center gap-2 text-base",children:[l.jsx(Hr,{className:"w-5 h-5"}),"Axe the DAX"]}),l.jsxs(jg,{value:"interview",className:"flex items-center gap-2 text-base",children:[l.jsx(Rr,{className:"w-5 h-5"}),"Hack the Interview"]})]})})]})}),l.jsxs(bg,{value:e,onValueChange:t,className:"w-full",children:[l.jsx(Ng,{value:"trading",className:"mt-0",children:l.jsx(wx,{})}),l.jsx(Ng,{value:"interview",className:"mt-0",children:l.jsx(ay,{})})]})]})}Jx.exports.create;const oy=()=>(de.useEffect(()=>(document.body.classList.add("battleground-page"),()=>{document.body.classList.remove("battleground-page")}),[]),l.jsx("div",{className:"battleground-container battleground-figma-scope",children:l.jsx(iy,{})})),ly=()=>{const{t:e}=Ha();return l.jsx("section",{id:"contact",className:"py-16 bg-white min-h-screen",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-inter font-bold text-neutral-900 mb-4",children:e("navigation.contact")}),l.jsx("p",{className:"max-w-3xl mx-auto text-neutral-700",children:e("contact.subtitle")})]}),l.jsx("div",{className:"grid grid-cols-1 gap-8 mb-12",children:l.jsxs("div",{children:[l.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-md border border-neutral-200 mb-8",children:[l.jsx("h3",{className:"font-inter text-2xl font-semibold mb-6",children:e("contact.joinTitle")}),l.jsx("p",{className:"text-neutral-700 mb-6",children:e("contact.joinDescription")}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-[#1256C4] text-white",children:l.jsx("i",{className:"fas fa-check"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h4",{className:"text-base font-medium",children:"Open to All Programs"}),l.jsx("p",{className:"text-neutral-700",children:"Bachelor's, Master's, and Ph.D. students from any discipline can join."})]})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-[#1256C4] text-white",children:l.jsx("i",{className:"fas fa-check"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h4",{className:"text-base font-medium",children:"No Prior Experience Required"}),l.jsx("p",{className:"text-neutral-700",children:"We offer learning paths for beginners and advanced practitioners alike."})]})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-[#1256C4] text-white",children:l.jsx("i",{className:"fas fa-check"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h4",{className:"text-base font-medium",children:"Regular Commitment"}),l.jsx("p",{className:"text-neutral-700",children:"Members are expected to participate in at least one project or division and attend regular meetings."})]})]})]}),l.jsxs("div",{className:"bg-neutral-100 p-4 rounded-md",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Next Recruitment Cycle"}),l.jsx("p",{className:"text-neutral-700 mb-2",children:"Applications for 2025/26 will open on 2nd September and close on 18th September."})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-md border border-neutral-200",children:[l.jsx("h3",{className:"font-inter text-xl font-semibold mb-4",children:"Contact Information"}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center bg-[#1256C4] rounded-full text-white",children:l.jsx("i",{className:"fas fa-envelope"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h4",{className:"text-base font-medium",children:"Email"}),l.jsx("p",{className:"text-neutral-700",children:l.jsx("a",{href:"mailto:fs.data.science00@gmail.com",className:"underline",children:"fs.data.science00@gmail.com"})})]})]})})]})]})}),l.jsxs("div",{className:"bg-[#1256C4] text-white rounded-lg p-8 shadow-md",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"font-inter text-2xl font-semibold mb-2",children:"Connect With Us"}),l.jsx("p",{children:"Follow our social media channels to stay updated with the latest events and activities."})]}),l.jsxs("div",{className:"flex justify-center space-x-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-white text-[#0B3D91] flex items-center justify-center text-2xl mb-2",children:l.jsx("i",{className:"fab fa-linkedin-in"})}),l.jsx("span",{className:"text-sm",children:"LinkedIn"})]}),l.jsxs("a",{href:"https://github.com/fsqds/",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-white text-[#0B3D91] flex items-center justify-center text-2xl mb-2",children:l.jsx("i",{className:"fab fa-github"})}),l.jsx("span",{className:"text-sm",children:"GitHub"})]}),l.jsxs("a",{href:"https://www.instagram.com/fs_quant/?hl=en",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-white text-[#0B3D91] flex items-center justify-center text-2xl mb-2",children:l.jsx("i",{className:"fab fa-instagram"})}),l.jsx("span",{className:"text-sm",children:"Instagram"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-white text-[#0B3D91] flex items-center justify-center text-2xl mb-2",children:l.jsx("i",{className:"fab fa-twitter"})}),l.jsx("span",{className:"text-sm",children:"Twitter"})]})]})]})]})})};function cy({user:e,onLogout:t}){var r;Ha();const[n,s]=de.useState("hti"),[a,i]=de.useState(!1),[o,c]=de.useState(null),[d,u]=de.useState([]),[m,h]=de.useState(null),[f,p]=de.useState({kind:"string",points:10,is_active:!0}),[g,v]=de.useState([]),[x,y]=de.useState(null),[b,w]=de.useState({band:"top",is_active:!0}),[j,N]=de.useState([]),[k,S]=de.useState({}),[_,D]=de.useState([]),[E,M]=de.useState(null),[T,C]=de.useState({status:"upcoming"}),[O,P]=de.useState([]);de.useEffect(()=>{e&&(async()=>{const{data:r}=await qa.from("user_profiles").select("is_admin").eq("user_id",e.id).single();(null==r?void 0:r.is_admin)||(Fa.error("Access denied: Admin privileges required"),t())})()},[e,t]),de.useEffect(()=>{(async()=>{const{data:e}=await qa.from("seasons").select("*").order("starts_at",{ascending:!1});if(e){D(e);const t=e.find(e=>"active"===e.status);t&&c(t)}})()},[]),de.useEffect(()=>{o&&(async()=>{i(!0);try{switch(n){case"hti":const{data:e}=await qa.from("hti_questions").select("*").eq("season_id",o.id).order("release_at",{ascending:!0});e&&u(e);break;case"adx":const{data:t}=await qa.from("adx_tickers").select("*").eq("season_id",o.id).order("band",{ascending:!0});t&&v(t);break;case"revenue":const{data:r}=await qa.from("adx_tickers").select("*").eq("season_id",o.id).eq("is_active",!0).order("symbol");N(r||[]);const{data:n}=await qa.from("adx_revenue_actuals").select("symbol, actual_value").eq("season_id",o.id),s={};(n||[]).forEach(e=>{s[e.symbol]=null!=e.actual_value?String(e.actual_value):""}),S(s)}}catch(e){Fa.error("Failed to load data")}finally{i(!1)}})()},[n,o]);const A=async()=>{var e;if(o)try{const{data:t}=await qa.auth.getSession(),r=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_hti_questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==t?void 0:t.session)?void 0:e.access_token}`},body:JSON.stringify({action:"list",data:{season_id:o.id}})}),n=await r.json();r.ok&&n.success&&u(n.questions||[])}catch(t){}},R=async()=>{var e;if(o)try{const{data:t}=await qa.auth.getSession(),r=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_adx_tickers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==t?void 0:t.session)?void 0:e.access_token}`},body:JSON.stringify({action:"list",data:{season_id:o.id}})}),n=await r.json();r.ok&&n.success&&v(n.tickers||[])}catch(t){}};return l.jsxs("div",{className:"min-h-screen bg-[#F8F9FA]",children:[l.jsx("div",{className:"bg-white shadow-sm border-b border-neutral-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Yr,{className:"w-8 h-8 text-[#0B3D91]"}),l.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Admin Panel"}),o&&l.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[o.name," - ",o.status]})]}),l.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[l.jsx(Or,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})}),l.jsx("div",{className:"bg-white border-b border-neutral-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("nav",{className:"flex space-x-8",children:[{id:"hti",label:"HTI Questions",icon:$r},{id:"adx",label:"ADX Tickers",icon:Hr},{id:"revenue",label:"Revenues",icon:Er},{id:"badges",label:"Award Badges",icon:fr},{id:"seasons",label:"Seasons",icon:vr}].map(e=>l.jsxs("button",{onClick:()=>s(e.id),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors "+(n===e.id?"border-[#0B3D91] text-[#0B3D91]":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[l.jsx(e.icon,{className:"w-4 h-4 mr-2"}),e.label]},e.id))})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#0B3D91]"})}):l.jsxs(gt,{mode:"wait",children:["hti"===n&&l.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:m?"Edit Question":"Add New Question"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Question Text"}),l.jsx("textarea",{value:f.question_text||"",onChange:e=>p({...f,question_text:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Question Type"}),l.jsxs("select",{value:f.kind||"string",onChange:e=>p({...f,kind:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",children:[l.jsx("option",{value:"string",children:"Text"}),l.jsx("option",{value:"number",children:"Number"}),l.jsx("option",{value:"mcq",children:"Multiple Choice"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["Correct Answer","mcq"===f.kind&&l.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(Enter the index: 0 for first option, 1 for second, etc.)"}),"number"===f.kind&&l.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(Enter the exact numeric answer)"}),"string"===f.kind&&l.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(Enter the exact text answer)"})]}),l.jsx("input",{type:"number"===f.kind?"number":"text",value:f.correct_answer||"",onChange:e=>p({...f,correct_answer:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"mcq"===f.kind?"e.g., 0 (for first option)":"number"===f.kind?"e.g., 42":"e.g., Python"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Points"}),l.jsx("input",{type:"number",value:f.points||10,onChange:e=>p({...f,points:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Release At"}),l.jsx("input",{type:"datetime-local",value:f.release_at||"",onChange:e=>p({...f,release_at:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Close At"}),l.jsx("input",{type:"datetime-local",value:f.close_at||"",onChange:e=>p({...f,close_at:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]}),"mcq"===f.kind&&l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:["Multiple Choice Options",l.jsx("span",{className:"text-xs text-neutral-500 ml-2",children:"(Separate each option with a comma)"})]}),l.jsx("textarea",{value:(null==(r=f.choices)?void 0:r.join(", "))||"",onChange:e=>p({...f,choices:e.target.value.split(",").map(e=>e.trim()).filter(e=>e.length>0)}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"First option, Second option, Third option, Fourth option",rows:3}),f.choices&&f.choices.length>0&&l.jsxs("div",{className:"mt-2 p-3 bg-neutral-50 rounded-md",children:[l.jsx("p",{className:"text-xs font-medium text-neutral-600 mb-1",children:"Preview:"}),f.choices.map((e,t)=>l.jsxs("div",{className:"text-sm text-neutral-700",children:[t,": ",e]},t))]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_active",checked:f.is_active||!1,onChange:e=>p({...f,is_active:e.target.checked}),className:"mr-2"}),l.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-neutral-700",children:"Active"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[m&&l.jsx("button",{onClick:()=>{h(null),p({kind:"string",points:10,is_active:!0})},className:"px-4 py-2 text-neutral-600 hover:bg-neutral-100 rounded-md transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:async()=>{var e;if(o){i(!0);try{let t={};f.question_text&&(t.question=f.question_text),"mcq"===f.kind&&f.choices&&(t.options=f.choices.map((e,t)=>({index:t,label:e})));let r={};"mcq"===f.kind?r.index=parseInt(f.correct_answer||"0"):"number"===f.kind?r.value=parseFloat(f.correct_answer||"0"):r.value=f.correct_answer||"";const n={season_id:o.id,n:f.n||d.length+1,kind:f.kind||"string",choices:t,correct:r,release_at:f.release_at||(new Date).toISOString(),is_active:!1!==f.is_active,points:Number.isFinite(f.points)?Number(f.points):10},{data:s}=await qa.auth.getSession(),a=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_hti_questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==s?void 0:s.session)?void 0:e.access_token}`},body:JSON.stringify({action:m?"update":"create",data:m?{...n,id:m.id}:n})}),i=await a.json();if(!a.ok||!i.success)throw new Error(i.error||"Failed to save question");Fa.success(m?"Question updated successfully":"Question created successfully"),h(null),p({kind:"string",points:10,is_active:!0}),await A()}catch(t){Fa.error(t.message||"Failed to save question")}finally{i(!1)}}},className:"px-4 py-2 bg-[#0B3D91] text-white rounded-md hover:bg-[#082D69] transition-colors",children:[l.jsx(Fr,{className:"w-4 h-4 inline mr-2"}),m?"Update":"Create"," Question"]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[l.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:l.jsx("h3",{className:"text-lg font-semibold",children:"Current Questions"})}),l.jsx("div",{className:"divide-y divide-neutral-200",children:d.map(e=>{let t="No question text",r="";try{const n="string"==typeof e.choices?JSON.parse(e.choices):e.choices;t=(null==n?void 0:n.question)||t;const s="string"==typeof e.correct?JSON.parse(e.correct):e.correct;r="mcq"===e.kind?`Option ${(null==s?void 0:s.index)+1}`:String((null==s?void 0:s.value)||"")}catch(Ly){}return l.jsx("div",{className:"p-4 hover:bg-neutral-50",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-neutral-900",children:t}),l.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-neutral-600",children:[l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded",children:e.kind}),l.jsxs("span",{children:[e.points||10," points"]}),l.jsxs("span",{children:["Answer: ",r]}),l.jsx("span",{className:e.is_active?"text-green-600":"text-red-600",children:e.is_active?"Active":"Inactive"})]}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-neutral-500",children:[l.jsxs("span",{children:["Release: ",xe(new Date(e.release_at),"MMM dd, yyyy HH:mm")]}),e.close_at&&l.jsxs("span",{children:["Close: ",xe(new Date(e.close_at),"MMM dd, yyyy HH:mm")]})]})]}),l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>{var t;h(e);try{const r="string"==typeof e.choices?JSON.parse(e.choices):e.choices,n="string"==typeof e.correct?JSON.parse(e.correct):e.correct;let s={...e,question_text:(null==r?void 0:r.question)||"",kind:e.kind,points:e.points||10,is_active:e.is_active,release_at:e.release_at?new Date(e.release_at).toISOString().slice(0,16):"",close_at:e.close_at?new Date(e.close_at).toISOString().slice(0,16):""};"mcq"===e.kind?(s.choices=(null==(t=null==r?void 0:r.options)?void 0:t.map(e=>e.label))||[],s.correct_answer=String((null==n?void 0:n.index)||0)):(e.kind,s.correct_answer=String((null==n?void 0:n.value)||"")),p(s)}catch(Ly){p({...e,question_text:"",correct_answer:"",choices:[]})}},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:l.jsx(zr,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>(async e=>{var t;if(confirm("Are you sure you want to delete this question?")){i(!0);try{const{data:r}=await qa.auth.getSession(),n=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_hti_questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(t=null==r?void 0:r.session)?void 0:t.access_token}`},body:JSON.stringify({action:"delete",data:{id:e}})}),s=await n.json();if(!n.ok||!s.success)throw new Error(s.error||"Failed to delete question");Fa.success("Question deleted"),u(d.filter(t=>t.id!==e))}catch(r){Fa.error(r.message||"Failed to delete question")}finally{i(!1)}}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:l.jsx(Ur,{className:"w-4 h-4"})})]})]})},e.id)})})]})]}),"adx"===n&&l.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Setup"}),l.jsx("button",{onClick:async()=>{if(!o)return;const e=[{symbol:"SAP",name:"SAP SE",band:"top",us_adr_symbol:"SAP",exchange:"US"},{symbol:"ALV",name:"Allianz SE",band:"top",us_adr_symbol:"ALIZF",exchange:"US"},{symbol:"SIE",name:"Siemens AG",band:"top",us_adr_symbol:"SIEGY",exchange:"US"},{symbol:"AIR",name:"Airbus SE",band:"top",us_adr_symbol:"EADSY",exchange:"US"},{symbol:"DTE",name:"Deutsche Telekom AG",band:"top",us_adr_symbol:"DTEGY",exchange:"US"},{symbol:"SY1",name:"Symrise AG",band:"bottom",us_adr_symbol:"SYIEF",exchange:"US"},{symbol:"PAH3",name:"Porsche AG",band:"bottom",us_adr_symbol:"POAHY",exchange:"US"},{symbol:"QGEN",name:"QIAGEN N.V.",band:"bottom",us_adr_symbol:"QGEN",exchange:"US"},{symbol:"BNR",name:"Brenntag SE",band:"bottom",us_adr_symbol:"BNTGY",exchange:"US"},{symbol:"ZAL",name:"Zalando SE",band:"bottom",us_adr_symbol:"ZLNDY",exchange:"US"}];for(const r of e)await qa.from("adx_tickers").insert({...r,season_id:o.id,is_active:!0});Fa.success("Default tickers added successfully");const{data:t}=await qa.from("adx_tickers").select("*").eq("season_id",o.id).order("band",{ascending:!0});t&&v(t)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Add Default Tickers (Top 5 + Bottom 5)"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:x?"Edit Ticker":"Add New Ticker"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Symbol"}),l.jsx("input",{type:"text",value:b.symbol||"",onChange:e=>w({...b,symbol:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., SAP"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Company Name"}),l.jsx("input",{type:"text",value:b.name||"",onChange:e=>w({...b,name:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., SAP SE"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Band"}),l.jsxs("select",{value:b.band||"top",onChange:e=>w({...b,band:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",children:[l.jsx("option",{value:"top",children:"Top 5"}),l.jsx("option",{value:"bottom",children:"Bottom 5"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"US ADR Symbol"}),l.jsx("input",{type:"text",value:b.us_adr_symbol||"",onChange:e=>w({...b,us_adr_symbol:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., SAP (for US listing)"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"ticker_active",checked:b.is_active||!1,onChange:e=>w({...b,is_active:e.target.checked}),className:"mr-2"}),l.jsx("label",{htmlFor:"ticker_active",className:"text-sm font-medium text-neutral-700",children:"Active"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[x&&l.jsx("button",{onClick:()=>{y(null),w({band:"top",is_active:!0})},className:"px-4 py-2 text-neutral-600 hover:bg-neutral-100 rounded-md transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:async()=>{var e;if(o){i(!0);try{const t={...b,season_id:o.id},{data:r}=await qa.auth.getSession(),n=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_adx_tickers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==r?void 0:r.session)?void 0:e.access_token}`},body:JSON.stringify({action:x?"update":"create",data:x?{...t,id:x.id}:t})}),s=await n.json();if(!n.ok||!s.success)throw new Error(s.error||"Failed to save ticker");Fa.success(x?"Ticker updated successfully":"Ticker created successfully"),y(null),w({band:"top",is_active:!0}),await R()}catch(t){Fa.error(t.message||"Failed to save ticker")}finally{i(!1)}}},className:"px-4 py-2 bg-[#0B3D91] text-white rounded-md hover:bg-[#082D69] transition-colors",children:[l.jsx(Fr,{className:"w-4 h-4 inline mr-2"}),x?"Update":"Create"," Ticker"]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Current Tickers"}),l.jsxs("div",{className:"flex space-x-4 mt-2 text-sm",children:[l.jsxs("span",{className:"text-neutral-600",children:["Top 5: ",g.filter(e=>"top"===e.band&&e.is_active).length,"/5"]}),l.jsxs("span",{className:"text-neutral-600",children:["Bottom 5: ",g.filter(e=>"bottom"===e.band&&e.is_active).length,"/5"]})]})]}),l.jsx("div",{className:"divide-y divide-neutral-200",children:g.map(e=>l.jsx("div",{className:"p-4 hover:bg-neutral-50",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-neutral-900",children:e.symbol}),l.jsx("span",{className:"ml-2 text-neutral-600",children:e.name}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[l.jsx("span",{className:"px-2 py-1 rounded text-xs "+("top"===e.band?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:"top"===e.band?"Top 5":"Bottom 5"}),e.us_adr_symbol&&l.jsxs("span",{className:"text-xs text-neutral-500",children:["US ADR: ",e.us_adr_symbol]}),l.jsx("span",{className:"text-xs "+(e.is_active?"text-green-600":"text-red-600"),children:e.is_active?"Active":"Inactive"})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{y(e),w(e)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:l.jsx(zr,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>(async e=>{var t;if(confirm("Are you sure you want to delete this ticker?")){i(!0);try{const{data:r}=await qa.auth.getSession(),n=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_adx_tickers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(t=null==r?void 0:r.session)?void 0:t.access_token}`},body:JSON.stringify({action:"delete",data:{id:e}})}),s=await n.json();if(!n.ok||!s.success)throw new Error(s.error||"Failed to delete ticker");Fa.success("Ticker deleted"),v(g.filter(t=>t.id!==e))}catch(r){Fa.error(r.message||"Failed to delete ticker")}finally{i(!1)}}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:l.jsx(Ur,{className:"w-4 h-4"})})]})]})},e.id))})]})]}),"revenue"===n&&l.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Season"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items:end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Select Season"}),l.jsxs("select",{value:(null==o?void 0:o.id)||"",onChange:e=>{const t=_.find(t=>t.id===e.target.value)||null;c(t)},className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",children:[0===_.length&&l.jsx("option",{value:"",children:"No seasons"}),_.map(e=>l.jsxs("option",{value:e.id,children:[e.name," - ",e.status]},e.id))]})]}),l.jsx("div",{className:"md:col-span-2 text-sm text-neutral-600",children:"Enter realized revenues (in billions) for each ticker in the selected season. Changes are unlocked and can be saved anytime."})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Record Actual Revenues"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(e=>l.jsxs("div",{className:"p-3 border rounded-md",children:[l.jsxs("div",{className:"text-sm font-medium mb-1",children:[e.symbol," ",l.jsx("span",{className:"text-neutral-500",children:e.name})]}),l.jsx("input",{type:"number",step:"0.01",placeholder:"Revenue (B)",value:k[e.symbol]||"",onChange:t=>S(r=>({...r,[e.symbol]:t.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]},e.id))}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsx("button",{onClick:async()=>{var e;if(!o)return void Fa.error("Select a season");const t=Object.entries(k).filter(([,e])=>""!==e&&!isNaN(Number(e))).map(([e,t])=>({symbol:e,actual_value:Number(t)}));if(0!==t.length)try{const{data:r}=await qa.auth.getSession(),n=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/record_revenue_actuals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==r?void 0:r.session)?void 0:e.access_token}`},body:JSON.stringify({seasonId:o.id,items:t})}),s=await n.json();n.ok&&s.ok?Fa.success("Actual revenues recorded. Season MSE calculation triggered."):Fa.error(s.error||"Failed to record actuals")}catch(Ly){Fa.error("Failed to record actuals")}else Fa.error("Enter at least one actual")},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Save Actuals for Season"})})]})]}),"badges"===n&&l.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Award Badge"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx("input",{type:"email",id:"badge-email",placeholder:"User email",className:"px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"}),l.jsxs("select",{id:"badge-type",className:"px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",children:[l.jsx("option",{value:"hti_winner",children:"HTI Winner"}),l.jsx("option",{value:"adx_winner",children:"ADX Winner"}),l.jsx("option",{value:"season_champion",children:"Season Champion"}),l.jsx("option",{value:"first_place",children:"1st Place"}),l.jsx("option",{value:"second_place",children:"2nd Place"}),l.jsx("option",{value:"third_place",children:"3rd Place"})]}),l.jsx("button",{onClick:()=>{const t=document.getElementById("badge-email").value,r=document.getElementById("badge-type").value;t&&(async(t,r)=>{try{const{data:n}=await qa.from("user_profiles").select("user_id").eq("email",t).single();if(!n)return void Fa.error("User not found");let{data:s,error:a}=await qa.from("badges").select("id, slug").eq("slug",r).maybeSingle();if(a)throw new Error(a.message);if(!s){const e=r.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),{data:t,error:n}=await qa.from("badges").insert({slug:r,label:e,icon:""}).select("id, slug").single();if(n)throw new Error(n.message);s=t}const{error:i}=await qa.from("user_badges").insert({user_id:n.user_id,badge_id:s.id,reason:o?`Manual award (${o.name})`:"Manual award",awarded_by:null==e?void 0:e.id});if(i){if(i)throw new Error(i.message)}else Fa.success(`Badge awarded to ${t}`)}catch(n){Fa.error((null==n?void 0:n.message)||"Failed to award badge")}})(t,r)},className:"px-4 py-2 bg-[#0B3D91] text-white rounded-md hover:bg-[#082D69] transition-colors",children:"Award Badge"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Prediction Badges (Season)"}),l.jsxs("div",{className:"text-sm text-neutral-600",children:["Season: ",(null==o?void 0:o.name)||""]})]}),l.jsxs("div",{className:"flex gap-3 mb-4",children:[l.jsx("button",{onClick:async()=>{var e;if(o)try{const{data:t}=await qa.auth.getSession(),r=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_awards_badges",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==t?void 0:t.session)?void 0:e.access_token}`},body:JSON.stringify({entity:"prediction",action:"preview",data:{season_id:o.id}})}),n=await r.json();r.ok&&n.success?P(n.scores||[]):Fa.error(n.error||"Failed to preview prediction badges")}catch(Ly){Fa.error("Failed to preview prediction badges")}else Fa.error("Select a season")},className:"px-4 py-2 bg-neutral-100 text-neutral-800 rounded-md hover:bg-neutral-200 transition-colors",children:"Preview Awards"}),l.jsx("button",{onClick:async()=>{var e;if(o)try{const{data:t}=await qa.auth.getSession(),r=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/admin_awards_badges",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=null==t?void 0:t.session)?void 0:e.access_token}`},body:JSON.stringify({entity:"prediction",action:"award",data:{season_id:o.id}})}),n=await r.json();r.ok&&n.success?Fa.success("Prediction badges awarded"):Fa.error(n.error||"Failed to award badges")}catch(Ly){Fa.error("Failed to award badges")}else Fa.error("Select a season")},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Award Prediction Badges"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left border-b",children:[l.jsx("th",{className:"px-3 py-2",children:"Email"}),l.jsx("th",{className:"px-3 py-2",children:"RMSE"}),l.jsx("th",{className:"px-3 py-2",children:"MSE"}),l.jsx("th",{className:"px-3 py-2",children:"Predictions"}),l.jsx("th",{className:"px-3 py-2",children:"Percentile"})]})}),l.jsxs("tbody",{children:[O.map((e,t)=>{var r,n,s,a,i,o,c;return l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"px-3 py-2",children:(null==(r=e.user_profiles)?void 0:r.email)||e.user_id}),l.jsx("td",{className:"px-3 py-2",children:(null==(s=null==(n=e.rmse_score)?void 0:n.toFixed)?void 0:s.call(n,3))??"-"}),l.jsx("td",{className:"px-3 py-2",children:(null==(i=null==(a=e.mse_score)?void 0:a.toFixed)?void 0:i.call(a,3))??"-"}),l.jsx("td",{className:"px-3 py-2",children:e.predictions_made??0}),l.jsx("td",{className:"px-3 py-2",children:null!=e.accuracy_percentile?`${null==(c=(o=e.accuracy_percentile).toFixed)?void 0:c.call(o,1)}%`:"-"})]},`${e.user_id}-${t}`)}),0===O.length&&l.jsx("tr",{children:l.jsx("td",{className:"px-3 py-4 text-neutral-500",colSpan:5,children:"No preview yet. Click Preview Awards to see eligible users."})})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:()=>{Fa.info("Awarding badges to HTI winners...")},className:"w-full px-4 py-3 text-left bg-blue-50 hover:bg-blue-100 rounded-md transition-colors",children:[l.jsx($r,{className:"w-5 h-5 inline mr-2 text-blue-600"}),"Award badges to HTI Top 3"]}),l.jsxs("button",{onClick:()=>{Fa.info("Awarding badges to ADX winners...")},className:"w-full px-4 py-3 text-left bg-green-50 hover:bg-green-100 rounded-md transition-colors",children:[l.jsx(Hr,{className:"w-5 h-5 inline mr-2 text-green-600"}),"Award badges to ADX Top 3"]})]})]})]}),"seasons"===n&&l.jsxs(vt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Season Management"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:async()=>{var e;if(o&&"active"===o.status){if(confirm("Are you sure you want to settle the current season? This will mark winners and reset for the next season."))try{const t=await fetch("https://mskpxebbscvisxcceiwx.supabase.co/functions/v1/season_rollover",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null==(e=(await qa.auth.getSession()).data.session)?void 0:e.access_token}`},body:JSON.stringify({seasonId:o.id})}),r=await t.json();if(r.ok){Fa.success("Season settled successfully!");const{data:e}=await qa.from("seasons").select("*").order("starts_at",{ascending:!1});if(e){D(e);const t=e.find(e=>"active"===e.status);t&&c(t)}}else Fa.error(r.error||"Failed to settle season")}catch(t){Fa.error("Failed to settle season")}}else Fa.error("No active season to settle")},className:"px-6 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",disabled:!o||"active"!==o.status,children:[l.jsx(Lr,{className:"w-5 h-5 inline mr-2"}),"Settle Current Season & Start New"]}),l.jsx("p",{className:"text-sm text-neutral-600",children:"This will mark winners, award badges, and prepare the next season."})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:E?"Edit Season":"Create New Season"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Season Name"}),l.jsx("input",{type:"text",value:T.name||"",onChange:e=>C({...T,name:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., Winter 2024"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Status"}),l.jsxs("select",{value:T.status||"upcoming",onChange:e=>C({...T,status:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",children:[l.jsx("option",{value:"upcoming",children:"Upcoming"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"settling",children:"Settling"}),l.jsx("option",{value:"closed",children:"Closed"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Season Code"}),l.jsx("input",{type:"text",value:T.code||"",onChange:e=>C({...T,code:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]",placeholder:"e.g., WINTER_2024"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Start Date"}),l.jsx("input",{type:"date",value:T.starts_at||"",onChange:e=>C({...T,starts_at:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"End Date"}),l.jsx("input",{type:"date",value:T.ends_at||"",onChange:e=>C({...T,ends_at:e.target.value}),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0B3D91]"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[E&&l.jsx("button",{onClick:()=>{M(null),C({status:"upcoming"})},className:"px-4 py-2 text-neutral-600 hover:bg-neutral-100 rounded-md transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:async()=>{try{const e=e=>{const t=(e.code||e.name||"").trim().toUpperCase();return t?t.replace(/[^A-Z0-9]+/g,"_").replace(/^_+|_+$/g,""):""},t={name:T.name,code:e(T),starts_at:T.starts_at,ends_at:T.ends_at,status:T.status||"upcoming"};if(!(t.name&&t.code&&t.starts_at&&t.ends_at))return void Fa.error("Please provide name, code, start and end dates");if(E){const{error:e}=await qa.from("seasons").update(t).eq("id",E.id);if(e){if(e)throw new Error(e.message)}else Fa.success("Season updated successfully"),M(null)}else{const{error:e}=await qa.from("seasons").insert(t);if(e){if(e)throw new Error(e.message)}else Fa.success("Season created successfully"),C({status:"upcoming"})}const{data:r}=await qa.from("seasons").select("*").order("starts_at",{ascending:!1});r&&D(r)}catch(e){Fa.error((null==e?void 0:e.message)||"Failed to save season")}},className:"px-4 py-2 bg-[#0B3D91] text-white rounded-md hover:bg-[#082D69] transition-colors",children:[l.jsx(Fr,{className:"w-4 h-4 inline mr-2"}),E?"Update":"Create"," Season"]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[l.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:l.jsx("h3",{className:"text-lg font-semibold",children:"All Seasons"})}),l.jsx("div",{className:"divide-y divide-neutral-200",children:_.map(e=>l.jsx("div",{className:"p-4 hover:bg-neutral-50",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-neutral-900",children:e.name}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[l.jsx("span",{className:"px-2 py-1 rounded text-xs "+("active"===e.status?"bg-green-100 text-green-800":"upcoming"===e.status?"bg-blue-100 text-blue-800":"settling"===e.status?"bg-yellow-100 text-yellow-800":"bg-neutral-100 text-neutral-800"),children:e.status}),l.jsx("span",{className:"text-xs text-neutral-500",children:e.starts_at&&e.ends_at?`${xe(new Date(e.starts_at),"MMM dd, yyyy")} - ${xe(new Date(e.ends_at),"MMM dd, yyyy")}`:"No dates set"})]})]}),l.jsx("button",{onClick:()=>{M(e),C(e)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:l.jsx(zr,{className:"w-4 h-4"})})]})},e.id))})]})]})]})})]})}const dy=()=>{const[,e]=An(),[t,r]=de.useState(null),[n,s]=de.useState(!1),[a,i]=de.useState(!0);return de.useEffect(()=>{(async()=>{const{data:{user:t}}=await qa.auth.getUser();if(!t)return Fa.error("Please sign in to access the admin panel"),void e("/leaderboard");r(t);const{data:n}=await qa.from("user_profiles").select("is_admin").eq("user_id",t.id).single();if(!(null==n?void 0:n.is_admin))return Fa.error("Access denied: Admin privileges required"),void e("/");s(!0),i(!1)})()},[e]),a?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0B3D91]"})}):n?l.jsx(cy,{user:t,onLogout:async()=>{await qa.auth.signOut(),e("/")}}):null},uy=de.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card",className:Na("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t}));uy.displayName="Card";const my=de.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-header",className:Na("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t}));my.displayName="CardHeader";const hy=de.forwardRef(({className:e,...t},r)=>l.jsx("h4",{ref:r,"data-slot":"card-title",className:Na("leading-none",e),...t}));hy.displayName="CardTitle";const fy=de.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,"data-slot":"card-description",className:Na("text-muted-foreground",e),...t}));fy.displayName="CardDescription",de.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-action",className:Na("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...t})).displayName="CardAction";const py=de.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-content",className:Na("px-6 [&:last-child]:pb-6",e),...t}));py.displayName="CardContent",de.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-footer",className:Na("flex items-center px-6 pb-6 [.border-t]:pt-6",e),...t})).displayName="CardFooter";const gy=de.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Na("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));gy.displayName="Input";const vy=de.forwardRef(({className:e,...t},r)=>l.jsx(C,{ref:r,className:Na("flex flex-col gap-2",e),...t}));vy.displayName=C.displayName;const xy=de.forwardRef(({className:e,...t},r)=>l.jsx(O,{ref:r,className:Na("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t}));xy.displayName=O.displayName;const yy=de.forwardRef(({className:e,...t},r)=>l.jsx(P,{ref:r,className:Na("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t}));yy.displayName=P.displayName;const by=de.forwardRef(({className:e,...t},r)=>l.jsx(A,{ref:r,className:Na("flex-1 outline-none",e),...t}));function wy(){const{signIn:e,signUp:t}=Ga(),{t:r}=Ha(),[,n]=An(),[s,a]=de.useState(!1),[i,o]=de.useState(""),[c,d]=de.useState(""),[u,m]=de.useState(""),[h,f]=de.useState(""),[p,g]=de.useState(""),[v,x]=de.useState("");return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:r("welcomeToDataScienceFrontier")}),l.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:r("signInOrCreateAccount")})]}),l.jsx(uy,{className:"mt-8",children:l.jsxs(vy,{defaultValue:"signin",className:"w-full",children:[l.jsxs(xy,{className:"grid w-full grid-cols-2",children:[l.jsx(yy,{value:"signin",children:r("signIn")}),l.jsx(yy,{value:"signup",children:r("signUp")})]}),l.jsxs(by,{value:"signin",children:[l.jsxs(my,{children:[l.jsx(hy,{children:r("signIn")}),l.jsx(fy,{children:r("signInDescription")})]}),l.jsx(py,{children:l.jsxs("form",{onSubmit:async t=>{t.preventDefault(),a(!0);try{const{error:t}=await e(i,c);t?Fa.error(t.message||r("loginError")):(Fa.success(r("loginSuccess")),n("/leaderboard"))}catch(s){Fa.error(r("error"))}finally{a(!1)}},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(fv,{htmlFor:"signin-email",children:r("email")}),l.jsx(gy,{id:"signin-email",type:"email",placeholder:"name@example.com",value:i,onChange:e=>o(e.target.value),required:!0,disabled:s})]}),l.jsxs("div",{children:[l.jsx(fv,{htmlFor:"signin-password",children:r("password")}),l.jsx(gy,{id:"signin-password",type:"password",value:c,onChange:e=>d(e.target.value),required:!0,disabled:s})]}),l.jsx(si,{type:"submit",className:"w-full",disabled:s,children:r(s?"loading":"signIn")})]})})]}),l.jsxs(by,{value:"signup",children:[l.jsxs(my,{children:[l.jsx(hy,{children:r("signUp")}),l.jsx(fy,{children:r("signUpDescription")})]}),l.jsx(py,{children:l.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h===v)if(h.length<6)Fa.error(r("passwordTooShort"));else{a(!0);try{const{error:e}=await t(u,h,p);e?Fa.error(e.message||r("signupError")):(Fa.success(r("signupSuccess")),n("/leaderboard"))}catch(s){Fa.error(r("error"))}finally{a(!1)}}else Fa.error(r("passwordsMustMatch"))},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(fv,{htmlFor:"signup-username",children:r("username")}),l.jsx(gy,{id:"signup-username",type:"text",placeholder:"johndoe",value:p,onChange:e=>g(e.target.value),required:!0,disabled:s})]}),l.jsxs("div",{children:[l.jsx(fv,{htmlFor:"signup-email",children:r("email")}),l.jsx(gy,{id:"signup-email",type:"email",placeholder:"name@example.com",value:u,onChange:e=>m(e.target.value),required:!0,disabled:s})]}),l.jsxs("div",{children:[l.jsx(fv,{htmlFor:"signup-password",children:r("password")}),l.jsx(gy,{id:"signup-password",type:"password",value:h,onChange:e=>f(e.target.value),required:!0,disabled:s,minLength:6})]}),l.jsxs("div",{children:[l.jsx(fv,{htmlFor:"confirm-password",children:r("confirmPassword")}),l.jsx(gy,{id:"confirm-password",type:"password",value:v,onChange:e=>x(e.target.value),required:!0,disabled:s,minLength:6})]}),l.jsx(si,{type:"submit",className:"w-full",disabled:s,children:r(s?"loading":"signUp")})]})})]})]})})]})})}function jy(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-neutral-900",children:l.jsx(uy,{className:"w-full max-w-md mx-4 bg-neutral-800 border-neutral-700",children:l.jsxs(py,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2 items-center",children:[l.jsx(jr,{className:"h-10 w-10 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-neutral-300",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-neutral-500 mb-6",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),l.jsx(Yn,{to:"/",children:l.jsxs(si,{className:"w-full bg-[#0B3D91] hover:bg-[#092E6E] text-neutral-300",children:[l.jsx("i",{className:"fas fa-home mr-2"}),"Back to Home"]})})]})})})}function Ny(){const{language:e,setLanguage:t}=Ha();return l.jsxs("div",{className:"relative inline-flex items-center bg-gray-100 rounded-full p-0.5",children:[l.jsxs(gt,{initial:!1,children:["de"===e&&l.jsx(vt.div,{layoutId:"lang-bg",className:"absolute left-0.5 w-[calc(50%-2px)] h-[calc(100%-4px)] bg-[#0B3D91] rounded-full",initial:!1,transition:{type:"spring",stiffness:400,damping:30}},"de-bg"),"en"===e&&l.jsx(vt.div,{layoutId:"lang-bg",className:"absolute right-0.5 w-[calc(50%-2px)] h-[calc(100%-4px)] bg-[#0B3D91] rounded-full",initial:!1,transition:{type:"spring",stiffness:400,damping:30}},"en-bg")]}),l.jsx("button",{onClick:()=>t("de"),className:"relative z-10 px-3 py-1 text-sm font-medium transition-colors duration-200 rounded-full "+("de"===e?"text-white":"text-neutral-600 hover:text-neutral-900"),children:"DE"}),l.jsx("button",{onClick:()=>t("en"),className:"relative z-10 px-3 py-1 text-sm font-medium transition-colors duration-200 rounded-full "+("en"===e?"text-white":"text-neutral-600 hover:text-neutral-900"),children:"EN"})]})}by.displayName=A.displayName;const ky=(e,t,r)=>{if(e&&"reportValidity"in e){const n=xt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Sy=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ky(n.ref,r,e):n.refs&&n.refs.forEach(t=>ky(t,r,e))}},_y=(e,t)=>{t.shouldUseNativeValidation&&Sy(e,t);const r={};for(const n in e){const s=xt(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(Dy(t.names||Object.keys(e),n)){const e=Object.assign({},xt(r,n));yt(e,"root",a),yt(r,n,e)}else yt(r,n,a)}return r},Dy=(e,t)=>e.some(e=>e.startsWith(t+"."));var Ey=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[i]={message:o.message,type:o.code}}else r[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[i].types,c=l&&l[n.code];r[i]=bt(i,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r},My=function(e,t,r){return void 0===r&&(r={}),function(n,s,a){try{return Promise.resolve(function(s,i){try{var o=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](n,t)).then(function(e){return a.shouldUseNativeValidation&&Sy({},a),{errors:{},values:r.raw?n:e}})}catch(l){return i(l)}return o&&o.then?o.then(void 0,i):o}(0,function(e){if(t=e,Array.isArray(null==t?void 0:t.errors))return{values:{},errors:_y(Ey(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};var t;throw e}))}catch(i){return Promise.reject(i)}}};function Ty(e){var t;if(e instanceof be)return{code:"NETWORK_ERROR",retryable:!0,status:503,messageKey:"auth.networkError"};if(e instanceof we)return{code:"INVALID_CREDENTIALS",retryable:!1,status:400,messageKey:"auth.invalidCredentials"};if(e instanceof je)return{code:"WEAK_PASSWORD",retryable:!1,status:422,messageKey:"auth.weakPassword"};if(e instanceof Ne)return{code:"SESSION_EXPIRED",retryable:!0,status:401,messageKey:"auth.sessionExpired"};if(e instanceof ke){if(429===e.status)return{code:"RATE_LIMITED",retryable:!0,status:429,messageKey:"auth.rateLimited"};if(401===e.status)return"string"==typeof e.message&&/confirm(ed)?/i.test(e.message)?{code:"EMAIL_NOT_CONFIRMED",retryable:!1,status:401,messageKey:"auth.emailNotConfirmed"}:{code:"INVALID_CREDENTIALS",retryable:!1,status:401,messageKey:"auth.invalidCredentials"};if(400===e.status||422===e.status){const t=String(e.message||"").toLowerCase();return t.includes("weak password")?{code:"WEAK_PASSWORD",retryable:!1,status:e.status,messageKey:"auth.weakPassword"}:t.includes("captcha")?{code:"CAPTCHA_FAILED",retryable:!0,status:e.status,messageKey:"auth.captchaFailed"}:t.includes("invalid")&&t.includes("domain")?{code:"INVALID_DOMAIN",retryable:!1,status:e.status,messageKey:"auth.invalidDomain"}:{code:"UNKNOWN_ERROR",retryable:!1,status:e.status,messageKey:"auth.unexpectedError"}}}const r=e;switch(null==(t=null==r?void 0:r.code)?void 0:t.toUpperCase()){case"INVALID_DOMAIN":return{code:"INVALID_DOMAIN",retryable:!1,status:400,messageKey:"auth.invalidDomain"};case"CAPTCHA_FAILED":return{code:"CAPTCHA_FAILED",retryable:!0,status:400,messageKey:"auth.captchaFailed"};case"USER_EXISTS":return{code:"USER_EXISTS",retryable:!1,status:409,messageKey:"auth.userExists"};case"EMAIL_NOT_CONFIRMED":return{code:"EMAIL_NOT_CONFIRMED",retryable:!1,status:401,messageKey:"auth.emailNotConfirmed"};case"RATE_LIMITED":return{code:"RATE_LIMITED",retryable:!0,status:429,messageKey:"auth.rateLimited"};case"SESSION_EXPIRED":return{code:"SESSION_EXPIRED",retryable:!0,status:401,messageKey:"auth.sessionExpired"}}const n=String((null==r?void 0:r.message)||"").toLowerCase();return n.includes("confirm")?{code:"EMAIL_NOT_CONFIRMED",retryable:!1,status:401,messageKey:"auth.emailNotConfirmed"}:n.includes("already registered")||n.includes("exists")?{code:"USER_EXISTS",retryable:!1,status:409,messageKey:"auth.userExists"}:n.includes("network")||n.includes("fetch")?{code:"NETWORK_ERROR",retryable:!0,status:503,messageKey:"auth.networkError"}:{code:"UNKNOWN_ERROR",retryable:!1,status:400,messageKey:"auth.unexpectedError"}}const Cy=wt.object({email:wt.string().email().refine(e=>e.endsWith("@fs-students.de")||e.endsWith("@fs.de"),{message:"Only Frankfurt School email addresses (@fs-students.de or @fs.de) are allowed"}),password:wt.string().min(6,"Password must be at least 6 characters")}),Oy=wt.object({email:wt.string().email().refine(e=>e.endsWith("@fs-students.de")||e.endsWith("@fs.de"),{message:"Only Frankfurt School email addresses (@fs-students.de or @fs.de) are allowed"})});function Py({isOpen:e,onClose:t}){const{t:r}=Ha(),[n,s]=de.useState(()=>"signup"===localStorage.getItem("authMode")?"signup":"signin"),[a,i]=de.useState(!1),[o,c]=de.useState(null),[d,u]=de.useState(0),[m,h]=de.useState(""),[f,p]=de.useState(!1);de.useState(!1);const[g,v]=de.useState(null),x=jt({resolver:My(Cy)}),y=jt({resolver:My(Oy)});return de.useEffect(()=>{e&&(s("signin"),c(null),u(e=>e+1))},[e]),e?l.jsx(gt,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(vt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:t}),l.jsx(vt.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-neutral-200 overflow-hidden w-full max-w-md",onClick:e=>e.stopPropagation(),children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 relative border-b border-neutral-200",children:[l.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-neutral-500 hover:text-neutral-700 transition-colors",children:l.jsx(Zr,{className:"w-6 h-6"})}),l.jsx("h2",{className:"text-2xl font-inter font-bold text-[#0B3D91]",children:r("signin"===n?"auth.signIn":"signup"===n?"auth.signUp":"auth.resetPassword")}),l.jsx("p",{className:"text-neutral-600 mt-1",children:r("reset"===n?"auth.resetPasswordInstructions":"auth.loginCta")})]}),l.jsx("div",{className:"p-6",children:f?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-green-800 font-semibold mb-2",children:r("auth.registrationSuccessTitle")}),l.jsx("p",{className:"text-green-700 text-sm",children:r("auth.registrationSuccessBody")}),g&&l.jsxs("div",{className:"mt-3 text-sm text-green-800",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Email:"})," ",g]}),l.jsx("button",{onClick:async()=>{try{if(!g)return;const{error:e}=await qa.auth.resend({type:"signup",email:g,options:{emailRedirectTo:window.location.origin+"/set-password"}});e?Fa.error(r("auth.unexpectedError")):Fa.success(r("leaderboard.emailVerificationSent"))}catch(Ly){Fa.error(r("auth.unexpectedError"))}},className:"mt-2 inline-flex items-center px-3 py-1.5 rounded-md border border-green-300 text-green-800 hover:bg-green-100",children:"Resend email"})]})]}),l.jsx("button",{onClick:()=>{p(!1),s("signin")},className:"w-full py-3 bg-[#0B3D91] text-white font-medium rounded-md hover:bg-[#082D69] transition-colors duration-200",children:r("auth.goToSignIn")})]}):"reset"===n?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:r("auth.email")}),l.jsxs("div",{className:"relative",children:[l.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),l.jsx("input",{type:"email",value:m,onChange:e=>h(e.target.value),placeholder:"your.name@fs-students.de or @fs.de",className:"w-full pl-10 pr-3 py-2 bg-white border border-neutral-300 rounded-md text-neutral-900 placeholder-neutral-400 focus:outline-none focus:border-[#0B3D91] focus:ring-1 focus:ring-[#0B3D91] transition-colors",disabled:a})]})]}),l.jsx("button",{onClick:async()=>{if(m&&(m.endsWith("@fs-students.de")||m.endsWith("@fs.de"))){i(!0);try{const e=await async function(e){try{const{error:t}=await qa.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/set-password`});if(t)throw t;return{ok:!0}}catch(t){return{ok:!1,error:Ty(t)}}}(m);if(!e.ok)return void Fa.error(r(e.error.messageKey));Fa.success(r("auth.resetEmailSent")),s("signin"),h("")}catch(e){Fa.error(r("auth.unexpectedError"))}finally{i(!1)}}else Fa.error(r("auth.invalidDomain"))},disabled:a,className:"w-full py-3 bg-[#0B3D91] text-white font-medium rounded-md hover:bg-[#082D69] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r(a?"auth.loading":"auth.sendResetEmail")}),l.jsx("button",{onClick:()=>s("signin"),className:"w-full py-2 text-neutral-600 hover:text-neutral-800 transition-colors",children:r("auth.backToSignIn")})]}):"signin"===n?l.jsxs("form",{onSubmit:x.handleSubmit(async e=>{if("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||o){i(!0);try{const n=await async function(e,t){try{const{data:r,error:n}=await qa.auth.signInWithPassword({email:e,password:t});if(n)throw n;return{ok:!0,data:r}}catch(r){return{ok:!1,error:Ty(r)}}}(e.email,e.password);if(!n.ok)return Fa.error(r(n.error.messageKey)),void n.error.code;Fa.success(r("auth.welcomeBack")),t()}catch(n){const e=Ty(n);Fa.error(r(e.messageKey))}finally{i(!1),c(null)}}else Fa.error(r("auth.completeVerification"))}),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:r("auth.email")}),l.jsxs("div",{className:"relative",children:[l.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),l.jsx("input",{...x.register("email"),type:"email",placeholder:"your.name@fs-students.de or @fs.de",className:"w-full pl-10 pr-3 py-2 bg-white border border-neutral-300 rounded-md text-neutral-900 placeholder-neutral-400 focus:outline-none focus:border-[#0B3D91] focus:ring-1 focus:ring-[#0B3D91] transition-colors",disabled:a})]}),x.formState.errors.email&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center",children:[l.jsx(jr,{className:"w-4 h-4 mr-1"}),x.formState.errors.email.message]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:r("auth.password")}),l.jsxs("div",{className:"relative",children:[l.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),l.jsx("input",{...x.register("password"),type:"password",placeholder:"",className:"w-full pl-10 pr-3 py-2 bg-white border border-neutral-300 rounded-md text-neutral-900 placeholder-neutral-400 focus:outline-none focus:border-[#0B3D91] focus:ring-1 focus:ring-[#0B3D91] transition-colors",disabled:a})]}),x.formState.errors.password&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center",children:[l.jsx(jr,{className:"w-4 h-4 mr-1"}),x.formState.errors.password.message]})]}),l.jsx("div",{className:"flex justify-center my-4",children:l.jsx(_v,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",onVerify:e=>c(e),onExpire:()=>c(null),onError:()=>{Fa.error(r("auth.captchaFailed")),c(null)},theme:"light",size:"normal"},`signin-${d}`)}),l.jsx("button",{type:"submit",disabled:a||!o,className:"w-full py-3 bg-[#0B3D91] text-white font-medium rounded-md hover:bg-[#082D69] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:a?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),r("auth.loading")]}):r("auth.signIn")}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("button",{type:"button",onClick:()=>s("reset"),className:"text-sm text-neutral-600 hover:text-[#0B3D91] transition-colors",children:r("auth.forgotPassword")}),l.jsxs("div",{className:"text-sm text-neutral-600",children:[r("auth.needAccount")," ",l.jsx("button",{type:"button",onClick:()=>{Fa.info("Sign up is disabled during beta")},className:"text-[#0B3D91] hover:text-[#082D69] font-medium opacity-60 cursor-not-allowed",disabled:!0,children:r("auth.signUp")})]})]})]}):l.jsxs("form",{onSubmit:y.handleSubmit(async e=>{var n;const a="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;if(a||o){i(!0);try{const i=await async function(e,t,r){try{const n=t||crypto.randomUUID()+crypto.randomUUID(),{data:s,error:a}=await qa.auth.signUp({email:e,password:n,options:{captchaToken:r,data:{preferred_language:localStorage.getItem("lang")||"en",invited_via:"auth_modal"}}});if(a)throw a;return{ok:!0,data:s}}catch(n){return{ok:!1,error:Ty(n)}}}(e.email,void 0,o||(a?"dev-bypass-token":void 0));if(!i.ok)return Fa.error(r(i.error.messageKey)),"CAPTCHA_FAILED"===i.error.code&&u(e=>e+1),void("USER_EXISTS"===i.error.code&&s("signin"));(null==(n=null==i?void 0:i.data)?void 0:n.session)?(Fa.success(r("auth.welcomeBack")),t()):(v(e.email),p(!0),Fa.success(r("auth.registrationSuccessTitle")))}catch(Ly){Fa.error(r("auth.unexpectedError"))}finally{i(!1),c(null),u(e=>e+1)}}else Fa.error(r("auth.completeVerification"))}),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:r("auth.email")}),l.jsxs("div",{className:"relative",children:[l.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),l.jsx("input",{...y.register("email"),type:"email",placeholder:"your.name@fs-students.de or @fs.de",className:"w-full pl-10 pr-3 py-2 bg-white border border-neutral-300 rounded-md text-neutral-900 placeholder-neutral-400 focus:outline-none focus:border-[#0B3D91] focus:ring-1 focus:ring-[#0B3D91] transition-colors",disabled:a})]}),y.formState.errors.email&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center",children:[l.jsx(jr,{className:"w-4 h-4 mr-1"}),y.formState.errors.email.message]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-center gap-3",children:[l.jsx("img",{src:"https://www.frankfurt-school.de/themes/custom/fs_theme/logo.svg",alt:"Frankfurt School Logo",className:"w-10 h-10 object-contain",onError:e=>{e.currentTarget.style.display="none"}}),l.jsxs("div",{className:"text-sm text-blue-700",children:[l.jsx("div",{className:"font-semibold",children:"Exclusive to Frankfurt School students"}),l.jsx("div",{children:"Use your @fs-students.de (or @fs.de) email to register. Email confirmation is required."})]})]}),l.jsx("div",{className:"flex justify-center my-4",children:l.jsx(_v,{sitekey:"0x4AAAAAABrWQXwBLHZk3OrF",onVerify:e=>c(e),onExpire:()=>c(null),onError:()=>{Fa.error(r("auth.captchaFailed")),c(null)},theme:"light",size:"normal"},`signup-${d}`)}),l.jsx("button",{type:"submit",disabled:a||!o,className:"w-full py-3 bg-[#0B3D91] text-white font-medium rounded-md hover:bg-[#082D69] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:a?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),r("auth.loading")]}):r("auth.signUp")}),l.jsxs("div",{className:"text-center text-sm text-neutral-600",children:[r("auth.alreadyRegistered")," ",l.jsx("button",{type:"button",onClick:()=>{s("signin"),c(null),u(e=>e+1)},className:"text-[#0B3D91] hover:text-[#082D69] font-medium",children:r("auth.signIn")})]})]})})]})})]})}):null}const Ay=({isOpen:e,onClose:t})=>{const[r,n]=An(),{t:s}=Ha(),{user:a,isAdmin:i,signOut:o}=Ga(),[c,d]=de.useState(!1),u=[{path:"/",icon:"fa-home",label:s("navigation.home")},{path:"/members",icon:"fa-users",label:s("navigation.members")},{path:"/events",icon:"fa-calendar-alt",label:s("navigation.events")},{path:"/battleground",icon:"fa-trophy",label:s("navigation.battleground")},{path:"/contact",icon:"fa-envelope",label:s("navigation.contact")}],m=i?[...u,{path:"/admin",icon:"fa-shield-alt",label:s("admin.title")}]:u,h=e=>"flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-md transition-colors "+((e=>r===e)(e)?"bg-blue-50 text-blue-600 font-medium":"");return l.jsxs(l.Fragment,{children:[l.jsx("aside",{id:"sidebar",className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out border-r border-gray-200 "+(e?"translate-x-0":"-translate-x-full md:translate-x-0"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"px-4 py-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Yn,{href:"/",className:"flex items-center",children:[l.jsx("i",{className:"fas fa-chart-line text-blue-600 text-2xl mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-inter font-bold text-lg leading-tight text-gray-800",children:"FS Quant & Data Science"}),l.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Student Initiative"})]})]}),l.jsx("button",{id:"closeSidebar",className:"md:hidden text-gray-600",onClick:t,children:l.jsx("i",{className:"fas fa-times"})})]})}),l.jsx("nav",{className:"flex-1 py-4 overflow-y-auto bg-white",children:l.jsx("ul",{children:m.map(e=>l.jsx("li",{className:"px-2 py-1",children:l.jsxs(Yn,{href:e.path,className:h(e.path),onClick:()=>{window.innerWidth<768&&t()},children:[l.jsx("i",{className:`fas ${e.icon} w-5`}),l.jsx("span",{className:"ml-3",children:e.label}),"/battleground"===e.path&&l.jsxs("span",{className:"ml-2 inline-flex items-center gap-1.5 rounded-full bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800 border border-indigo-200 px-2.5 py-[2px] text-[10px] font-semibold shadow-sm",children:[l.jsx("i",{className:"fas fa-hourglass-half text-[10px]"}),"Coming soon"]})]})},e.path))})}),l.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-3",children:[a?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[s("sidebar.loggedInAs"),l.jsx("div",{className:"font-medium text-gray-800 truncate",children:a.email})]}),l.jsxs("button",{onClick:async()=>{try{await o()}catch(e){Fa.error(s("auth.unexpectedError"))}},className:"w-full px-4 py-2 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-md transition-colors flex items-center justify-center",children:[l.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),s("common.logout")]})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:()=>{localStorage.setItem("authMode","signin"),window.innerWidth<768&&t(),d(!0)},className:"w-full px-4 py-2 text-sm font-medium text-white bg-[#0B3D91] hover:bg-[#082D69] rounded-md transition-colors flex items-center justify-center",children:[l.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),s("auth.signIn")]}),l.jsxs("button",{onClick:()=>{Fa.info("Sign up is disabled during beta")},disabled:!0,className:"w-full px-4 py-2 text-sm font-medium text-[#0B3D91] bg-blue-50 rounded-md transition-colors flex items-center justify-center opacity-50 cursor-not-allowed",title:"Sign up disabled during beta",children:[l.jsx("i",{className:"fas fa-user-plus mr-2"}),s("auth.signUp")]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:s("common.language")}),l.jsx(Ny,{})]})]}),l.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-t border-gray-200 text-gray-700 text-xs",children:l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("img",{src:"/fs-logo.png",alt:"Frankfurt School Logo",className:"h-10 mr-2 object-contain"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800",children:"Frankfurt School"}),l.jsx("div",{className:"text-gray-600",children:"of Finance & Management"})]})]})})]})}),l.jsx(Py,{isOpen:c,onClose:()=>d(!1)})]})},Ry=()=>{const{t:e}=Ha();return l.jsx("footer",{className:"bg-gradient-to-br from-gray-50 to-blue-50 text-gray-700 py-12 border-t border-gray-200",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("i",{className:"fas fa-chart-line text-blue-600 text-2xl mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-inter font-bold text-lg leading-tight text-gray-800",children:"FS Quant & Data Science"}),l.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Student Initiative"})]})]}),l.jsx("p",{className:"text-gray-600 text-sm",children:e("footer.about")})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-inter font-semibold text-lg mb-4 text-gray-800",children:e("footer.quickLinks")}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx(Yn,{href:"/",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("navigation.home")})}),l.jsx("li",{children:l.jsx(Yn,{href:"/members",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("navigation.members")})}),l.jsx("li",{children:l.jsx(Yn,{href:"/events",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("navigation.events")})}),l.jsx("li",{children:l.jsx(Yn,{href:"/battleground",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("navigation.battleground")})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-inter font-semibold text-lg mb-4 text-gray-800",children:"Resources"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"GitHub Repository"})}),l.jsx("li",{children:l.jsx("a",{href:"https://www.kaggle.com",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"Kaggle"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"Datasets"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:e("events.past")})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-inter font-semibold text-lg mb-4 text-gray-800",children:e("navigation.contact")}),l.jsxs("address",{className:"not-italic text-sm text-gray-600",children:[l.jsx("p",{children:"Frankfurt School of Finance & Management"}),l.jsx("p",{children:"Adickesallee 32-34"}),l.jsx("p",{children:"60322 Frankfurt am Main"}),l.jsxs("p",{className:"mt-2",children:[e("auth.email"),": fs.data.science00@gmail.com"]})]})]})]}),l.jsxs("div",{className:"border-t border-gray-300 pt-8 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"text-gray-500 text-sm mb-4 md:mb-0",children:[" ",(new Date).getFullYear()," ",e("footer.copyright")]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors duration-200",children:l.jsx("i",{className:"fab fa-linkedin"})}),l.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors duration-200",children:l.jsx("i",{className:"fab fa-github"})}),l.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors duration-200",children:l.jsx("i",{className:"fab fa-instagram"})}),l.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors duration-200",children:l.jsx("i",{className:"fab fa-twitter"})})]})]})]})})},Iy=({onOpenSidebar:e})=>l.jsxs("header",{className:"md:hidden bg-white text-gray-800 p-4 flex items-center justify-between sticky top-0 z-40 shadow-md border-b border-gray-200",children:[l.jsx("button",{className:"text-gray-600",onClick:e,children:l.jsx("i",{className:"fas fa-bars"})}),l.jsx("div",{className:"font-inter font-bold text-sm",children:"FS QDS"}),l.jsx(Ny,{})]});function Fy(){const[e,t]=de.useState(!1);return de.useEffect(()=>{const e=()=>{window.innerWidth>=768?t(!0):t(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),l.jsx(Xr,{children:l.jsx(Ss,{client:_s,children:l.jsx($a,{children:l.jsxs(Wa,{children:[l.jsxs("div",{className:"flex min-h-screen bg-gray-50 font-roboto text-gray-700",children:[l.jsx(Ay,{isOpen:e,onClose:()=>t(!1)}),l.jsxs("div",{className:"flex-1 md:ml-64",children:[l.jsx(Iy,{onOpenSidebar:()=>{t(!e)}}),l.jsxs("main",{children:[l.jsxs(qn,{children:[l.jsx(Ln,{path:"/",component:Qa}),l.jsx(Ln,{path:"/members",component:Xa}),l.jsx(Ln,{path:"/projects",component:Ja}),l.jsx(Ln,{path:"/events",component:xg}),l.jsx(Ln,{path:"/battleground",component:oy}),l.jsx(Ln,{path:"/contact",component:ly}),l.jsx(Ln,{path:"/admin",component:dy}),l.jsx(Ln,{path:"/login",component:wy}),l.jsx(Ln,{component:jy})]}),l.jsx(Ry,{})]})]})]}),l.jsx(Ca,{}),l.jsx(Oa,{}),l.jsx(La,{})]})})})})}or(document.getElementById("root")).render(l.jsx(Fy,{}))}},function(){return kt||(0,Nt[e(Nt)[0]])((kt={exports:{}}).exports,kt),kt.exports});export default St();
